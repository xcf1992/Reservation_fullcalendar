/*!
 * jQuery JavaScript Library v1.11.2
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-17T15:27Z
 */
function showReplication(e){switch(e){case"Replicate On Weekdays":$("#stop_time").show();break;case"Replicate On Weekends":$("#stop_time").show();break;default:$("#stop_time").hide()}}function showException(e){switch(e){case!0:$("#except_time").show();break;case!1:$("#except_time").hide();break;default:$("#except_time").hide()}}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=e.length,n=rt.type(e);return"function"===n||rt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(rt.isFunction(t))return rt.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return rt.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(ht.test(t))return rt.filter(t,e,n);t=rt.filter(t,e)}return rt.grep(e,function(e){return rt.inArray(e,t)>=0!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=wt[e]={};return rt.each(e.match(bt)||[],function(e,n){t[n]=!0}),t}function a(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(a(),rt.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(St,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Tt.test(n)?rt.parseJSON(n):n}catch(r){}rt.data(e,t,n)}else n=void 0}return n}function c(e){var t;for(t in e)if(("data"!==t||!rt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function u(e,t,n,i){if(rt.acceptData(e)){var r,o,a=rt.expando,s=e.nodeType,l=s?rt.cache:e,c=s?e[a]:e[a]&&a;if(c&&l[c]&&(i||l[c].data)||void 0!==n||"string"!=typeof t)return c||(c=s?e[a]=G.pop()||rt.guid++:a),l[c]||(l[c]=s?{}:{toJSON:rt.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[c]=rt.extend(l[c],t):l[c].data=rt.extend(l[c].data,t)),o=l[c],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[rt.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[rt.camelCase(t)])):r=o,r}}function d(e,t,n){if(rt.acceptData(e)){var i,r,o=e.nodeType,a=o?rt.cache:e,s=o?e[rt.expando]:rt.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){rt.isArray(t)?t=t.concat(rt.map(t,rt.camelCase)):t in i?t=[t]:(t=rt.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!c(i):!rt.isEmptyObject(i))return}(n||(delete a[s].data,c(a[s])))&&(o?rt.cleanData([e],!0):nt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function h(){return!0}function f(){return!1}function p(){try{return pt.activeElement}catch(e){}}function m(e){var t=Ht.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function g(e,t){var n,i,r=0,o=typeof e.getElementsByTagName!==xt?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==xt?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||rt.nodeName(i,t)?o.push(i):rt.merge(o,g(i,t));return void 0===t||t&&rt.nodeName(e,t)?rt.merge([e],o):o}function v(e){At.test(e.type)&&(e.defaultChecked=e.checked)}function y(e,t){return rt.nodeName(e,"table")&&rt.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==rt.find.attr(e,"type"))+"/"+e.type,e}function w(e){var t=Vt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function C(e,t){for(var n,i=0;null!=(n=e[i]);i++)rt._data(n,"globalEval",!t||rt._data(t[i],"globalEval"))}function E(e,t){if(1===t.nodeType&&rt.hasData(e)){var n,i,r,o=rt._data(e),a=rt._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)rt.event.add(t,n,s[n][i])}a.data&&(a.data=rt.extend({},a.data))}}function x(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!nt.noCloneEvent&&t[rt.expando]){r=rt._data(t);for(i in r.events)rt.removeEvent(t,i,r.handle);t.removeAttribute(rt.expando)}"script"===n&&t.text!==e.text?(b(t).text=e.text,w(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),nt.html5Clone&&e.innerHTML&&!rt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&At.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function T(t,n){var i,r=rt(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:rt.css(r[0],"display");return r.detach(),o}function S(e){var t=pt,n=Jt[e];return n||(n=T(e,t),"none"!==n&&n||(Qt=(Qt||rt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Qt[0].contentWindow||Qt[0].contentDocument).document,t.write(),t.close(),n=T(e,t),Qt.detach()),Jt[e]=n),n}function D(e,t){return{get:function(){var n=e();if(null!=n)return n?void delete this.get:(this.get=t).apply(this,arguments)}}}function N(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=fn.length;r--;)if(t=fn[r]+n,t in e)return t;return i}function _(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=rt._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&_t(i)&&(o[a]=rt._data(i,"olddisplay",S(i.nodeName)))):(r=_t(i),(n&&"none"!==n||!r)&&rt._data(i,"olddisplay",r?n:rt.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function k(e,t,n){var i=cn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function A(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=rt.css(e,n+Nt[o],!0,r)),i?("content"===n&&(a-=rt.css(e,"padding"+Nt[o],!0,r)),"margin"!==n&&(a-=rt.css(e,"border"+Nt[o]+"Width",!0,r))):(a+=rt.css(e,"padding"+Nt[o],!0,r),"padding"!==n&&(a+=rt.css(e,"border"+Nt[o]+"Width",!0,r)));return a}function R(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=en(e),a=nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=tn(e,t,o),(0>r||null==r)&&(r=e.style[t]),rn.test(r))return r;i=a&&(nt.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+A(e,t,n||(a?"border":"content"),i,o)+"px"}function M(e,t,n,i,r){return new M.prototype.init(e,t,n,i,r)}function O(){return setTimeout(function(){pn=void 0}),pn=rt.now()}function L(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=Nt[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function I(e,t,n){for(var i,r=(wn[t]||[]).concat(wn["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function H(e,t,n){var i,r,o,a,s,l,c,u,d=this,h={},f=e.style,p=e.nodeType&&_t(e),m=rt._data(e,"fxshow");n.queue||(s=rt._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,rt.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=rt.css(e,"display"),u="none"===c?rt._data(e,"olddisplay")||S(e.nodeName):c,"inline"===u&&"none"===rt.css(e,"float")&&(nt.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?f.zoom=1:f.display="inline-block")),n.overflow&&(f.overflow="hidden",nt.shrinkWrapBlocks()||d.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],gn.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}h[i]=m&&m[i]||rt.style(e,i)}else c=void 0;if(rt.isEmptyObject(h))"inline"===("none"===c?S(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(p=m.hidden):m=rt._data(e,"fxshow",{}),o&&(m.hidden=!p),p?rt(e).show():d.done(function(){rt(e).hide()}),d.done(function(){var t;rt._removeData(e,"fxshow");for(t in h)rt.style(e,t,h[t])});for(i in h)a=I(p?m[i]:0,i,d),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function F(e,t){var n,i,r,o,a;for(n in e)if(i=rt.camelCase(n),r=t[i],o=e[n],rt.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=rt.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,o=0,a=bn.length,s=rt.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=pn||O(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,o=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,n]),1>o&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:rt.extend({},t),opts:rt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:pn||O(),duration:n.duration,tweens:[],createTween:function(t,n){var i=rt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(F(u,c.opts.specialEasing);a>o;o++)if(i=bn[o].call(c,e,u,c.opts))return i;return rt.map(u,I,c),rt.isFunction(c.opts.start)&&c.opts.start.call(e,c),rt.fx.timer(rt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function B(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(bt)||[];if(rt.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function j(e,t,n,i){function r(s){var l;return o[s]=!0,rt.each(e[s]||[],function(e,s){var c=s(t,n,i);return"string"!=typeof c||a||o[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),r(c),!1)}),l}var o={},a=e===Yn;return r(t.dataTypes[0])||!o["*"]&&r("*")}function z(e,t){var n,i,r=rt.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&rt.extend(!0,e,n),e}function $(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function q(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=c[l+" "+o]||c["* "+o],!a)for(r in c)if(s=r.split(" "),s[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[r]:c[r]!==!0&&(o=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function Y(e,t,n,i){var r;if(rt.isArray(t))rt.each(t,function(t,r){n||Gn.test(e)?i(e,r):Y(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==rt.type(t))i(e,t);else for(r in t)Y(e+"["+r+"]",t[r],n,i)}function W(){try{return new e.XMLHttpRequest}catch(t){}}function U(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function V(e){return rt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var G=[],Z=G.slice,K=G.concat,X=G.push,Q=G.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,nt={},it="1.11.2",rt=function(e,t){return new rt.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,lt=function(e,t){return t.toUpperCase()};rt.fn=rt.prototype={jquery:it,constructor:rt,selector:"",length:0,toArray:function(){return Z.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Z.call(this)},pushStack:function(e){var t=rt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return rt.each(this,e,t)},map:function(e){return this.pushStack(rt.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(Z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:G.sort,splice:G.splice},rt.extend=rt.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||rt.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(c&&n&&(rt.isPlainObject(n)||(t=rt.isArray(n)))?(t?(t=!1,o=e&&rt.isArray(e)?e:[]):o=e&&rt.isPlainObject(e)?e:{},a[i]=rt.extend(c,o,n)):void 0!==n&&(a[i]=n));return a},rt.extend({expando:"jQuery"+(it+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===rt.type(e)},isArray:Array.isArray||function(e){return"array"===rt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!rt.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==rt.type(e)||e.nodeType||rt.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(nt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&rt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,lt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?rt.merge(i,"string"==typeof e?[e]:e):X.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(Q)return Q.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return K.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),rt.isFunction(e)?(n=Z.call(arguments,2),i=function(){return e.apply(t||this,n.concat(Z.call(arguments)))},i.guid=e.guid=e.guid||rt.guid++,i):void 0},now:function(){return+new Date},support:nt}),rt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ct=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){function t(e,t,n,i){var r,o,a,s,l,c,d,f,p,m;if((t?t.ownerDocument||t:j)!==M&&R(t),t=t||M,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&L){if(11!==s&&(r=yt.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&P(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&C.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(a)),n}if(C.qsa&&(!I||!I.test(e))){if(f=d=B,p=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=S(e),(d=t.getAttribute("id"))?f=d.replace(wt,"\\$&"):t.setAttribute("id",f),f="[id='"+f+"'] ",l=c.length;l--;)c[l]=f+h(c[l]);p=bt.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return Q.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return N(e.replace(lt,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>E.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[B]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)E.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=$++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,c=[z,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[B]||(t[B]={}),(s=l[i])&&s[0]===z&&s[1]===o)return c[2]=s[2];if(l[i]=c,c[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),c&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[B]&&(r=v(r)),o&&!o[B]&&(o=v(o,a)),i(function(i,a,s,l){var c,u,d,h=[],f=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!i&&t?v:g(v,h,e,s,l),b=n?o||(i?e:p||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(c=g(b,f),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?et(i,d):h[u])>-1&&(i[c]=!(a[c]=d))}}else b=g(b===a?b.splice(p,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function y(e){for(var t,n,i,r=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return et(t,e)>-1},a,!0),u=[function(e,n,i){var r=!o&&(i||n!==_)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,r}];r>s;s++)if(n=E.relative[e[s].type])u=[f(p(u),n)];else{if(n=E.filter[e[s].type].apply(null,e[s].matches),n[B]){for(i=++s;r>i&&!E.relative[e[i].type];i++);return v(s>1&&p(u),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(lt,"$1"),n,i>s&&y(e.slice(s,i)),r>i&&y(e=e.slice(i)),r>i&&h(e))}u.push(n)}return p(u)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,c){var u,d,h,f=0,p="0",m=i&&[],v=[],y=_,b=i||o&&E.find.TAG("*",c),w=z+=null==y?1:Math.random()||.1,C=b.length;for(c&&(_=a!==M&&a);p!==C&&null!=(u=b[p]);p++){if(o&&u){for(d=0;h=e[d++];)if(h(u,a,s)){l.push(u);break}c&&(z=w)}r&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,r&&p!==f){for(d=0;h=n[d++];)h(m,v,a,s);if(i){if(f>0)for(;p--;)m[p]||v[p]||(v[p]=K.call(l));v=g(v)}Q.apply(l,v),c&&!i&&v.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(z=w,_=y),m};return r?i(a):a}var w,C,E,x,T,S,D,N,_,k,A,R,M,O,L,I,H,F,P,B="sizzle"+1*new Date,j=e.document,z=0,$=0,q=n(),Y=n(),W=n(),U=function(e,t){return e===t&&(A=!0),0},V=1<<31,G={}.hasOwnProperty,Z=[],K=Z.pop,X=Z.push,Q=Z.push,J=Z.slice,et=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=it.replace("w","w#"),ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ct=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),dt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(at),ft=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,Ct=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Et=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xt=function(){R()};try{Q.apply(Z=J.call(j.childNodes),j.childNodes),Z[j.childNodes.length].nodeType}catch(Tt){Q={apply:Z.length?function(e,t){X.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}C=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},R=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:j;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,O=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",xt,!1):n.attachEvent&&n.attachEvent("onunload",xt)),L=!T(i),C.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=vt.test(i.getElementsByClassName),C.getById=r(function(e){return O.appendChild(e).id=B,!i.getElementsByName||!i.getElementsByName(B).length}),C.getById?(E.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},E.filter.ID=function(e){var t=e.replace(Ct,Et);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var t=e.replace(Ct,Et);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),E.find.TAG=C.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):C.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},E.find.CLASS=C.getElementsByClassName&&function(e,t){return L?t.getElementsByClassName(e):void 0},H=[],I=[],(C.qsa=vt.test(i.querySelectorAll))&&(r(function(e){O.appendChild(e).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+nt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+nt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+B+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+B+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+nt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(C.matchesSelector=vt.test(F=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&r(function(e){C.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),H.push("!=",at)}),I=I.length&&new RegExp(I.join("|")),H=H.length&&new RegExp(H.join("|")),t=vt.test(O.compareDocumentPosition),P=t||vt.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},U=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===j&&P(j,e)?-1:t===i||t.ownerDocument===j&&P(j,t)?1:k?et(k,e)-et(k,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],c=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:k?et(k,e)-et(k,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[r]===c[r];)r++;return r?a(l[r],c[r]):l[r]===j?-1:c[r]===j?1:0},i):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&R(e),n=n.replace(dt,"='$1']"),!(!C.matchesSelector||!L||H&&H.test(n)||I&&I.test(n)))try{var i=F.call(e,n);if(i||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&R(e),P(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&R(e);var n=E.attrHandle[t.toLowerCase()],i=n&&G.call(E.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:C.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!C.detectDuplicates,k=!C.sortStable&&e.slice(0),e.sort(U),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return k=null,e},x=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=x(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=x(t);return n},E=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ct,Et),e[3]=(e[3]||e[4]||e[5]||"").replace(Ct,Et),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ht.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ct,Et).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=q[e+" "];return t||(t=new RegExp("(^|"+nt+")"+e+"("+nt+"|$)"))&&q(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(st," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&y){for(u=g[B]||(g[B]={}),c=u[e]||[],f=c[0]===z&&c[1],h=c[0]===z&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(h=f=0)||p.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[z,f,h];break}}else if(y&&(c=(t[B]||(t[B]={}))[e])&&c[0]===z)h=c[1];else for(;(d=++f&&d&&d[m]||(h=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[B]||(d[B]={}))[e]=[z,h]),d!==t)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=E.pseudos[e]||E.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[B]?o(n):o.length>1?(r=[e,e,"",n],E.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=et(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(lt,"$1"));return r[B]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(Ct,Et),function(t){return(t.textContent||t.innerText||x(t)).indexOf(e)>-1}}),lang:i(function(e){return ft.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(Ct,Et).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[0>n?n+t:n]}),even:c(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:c(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},E.pseudos.nth=E.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=l(w);return d.prototype=E.filters=E.pseudos,E.setFilters=new d,S=t.tokenize=function(e,n){var i,r,o,a,s,l,c,u=Y[e+" "];if(u)return n?0:u.slice(0);for(s=e,l=[],c=E.preFilter;s;){(!i||(r=ct.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(lt," ")}),s=s.slice(i.length));for(a in E.filter)!(r=pt[a].exec(s))||c[a]&&!(r=c[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):Y(e,l).slice(0)},D=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=y(t[n]),o[B]?i.push(o):r.push(o);o=W(e,b(r,i)),o.selector=e}return o},N=t.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,d=!i&&S(e=c.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&C.getById&&9===t.nodeType&&L&&E.relative[o[1].type]){if(t=(E.find.ID(a.matches[0].replace(Ct,Et),t)||[])[0],!t)return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pt.needsContext.test(e)?0:o.length;r--&&(a=o[r],!E.relative[s=a.type]);)if((l=E.find[s])&&(i=l(a.matches[0].replace(Ct,Et),bt.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return Q.apply(n,i),n;break}}return(c||D(e,d))(i,t,!L,n,bt.test(e)&&u(t.parentNode)||t),n},C.sortStable=B.split("").sort(U).join("")===B,C.detectDuplicates=!!A,R(),C.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),C.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);rt.find=ct,rt.expr=ct.selectors,rt.expr[":"]=rt.expr.pseudos,rt.unique=ct.uniqueSort,rt.text=ct.getText,rt.isXMLDoc=ct.isXML,rt.contains=ct.contains;var ut=rt.expr.match.needsContext,dt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ht=/^.[^:#\[\.,]*$/;rt.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?rt.find.matchesSelector(i,e)?[i]:[]:rt.find.matches(e,rt.grep(t,function(e){return 1===e.nodeType}))},rt.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(rt(e).filter(function(){for(t=0;r>t;t++)if(rt.contains(i[t],this))return!0}));for(t=0;r>t;t++)rt.find(e,i[t],n);return n=this.pushStack(r>1?rt.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&ut.test(e)?rt(e):e||[],!1).length}});var ft,pt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=rt.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||ft).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof rt?t[0]:t,rt.merge(this,rt.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),dt.test(n[1])&&rt.isPlainObject(t))for(n in t)rt.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if(i=pt.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return ft.find(e);this.length=1,this[0]=i}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):rt.isFunction(e)?"undefined"!=typeof ft.ready?ft.ready(e):e(rt):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),rt.makeArray(e,this))};gt.prototype=rt.fn,ft=rt(pt);var vt=/^(?:parents|prev(?:Until|All))/,yt={children:!0,contents:!0,next:!0,prev:!0};rt.extend({dir:function(e,t,n){for(var i=[],r=e[t];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!rt(r).is(n));)1===r.nodeType&&i.push(r),r=r[t];return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),rt.fn.extend({has:function(e){var t,n=rt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(rt.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=ut.test(e)||"string"!=typeof e?rt(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&rt.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?rt.unique(o):o)},index:function(e){return e?"string"==typeof e?rt.inArray(this[0],rt(e)):rt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(rt.unique(rt.merge(this.get(),rt(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),rt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return rt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return rt.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return rt.dir(e,"nextSibling")},prevAll:function(e){return rt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return rt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return rt.dir(e,"previousSibling",n)},siblings:function(e){return rt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return rt.sibling(e.firstChild)},contents:function(e){return rt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:rt.merge([],e.childNodes)}},function(e,t){rt.fn[e]=function(n,i){var r=rt.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=rt.filter(i,r)),this.length>1&&(yt[e]||(r=rt.unique(r)),vt.test(e)&&(r=r.reverse())),this.pushStack(r)}});var bt=/\S+/g,wt={};rt.Callbacks=function(e){e="string"==typeof e?wt[e]||o(e):rt.extend({},e);var t,n,i,r,a,s,l=[],c=!e.once&&[],u=function(o){for(n=e.memory&&o,i=!0,a=s||0,s=0,r=l.length,t=!0;l&&r>a;a++)if(l[a].apply(o[0],o[1])===!1&&e.stopOnFalse){n=!1;break}t=!1,l&&(c?c.length&&u(c.shift()):n?l=[]:d.disable())},d={add:function(){if(l){var i=l.length;!function o(t){rt.each(t,function(t,n){var i=rt.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),t?r=l.length:n&&(s=i,u(n))}return this},remove:function(){return l&&rt.each(arguments,function(e,n){for(var i;(i=rt.inArray(n,l,i))>-1;)l.splice(i,1),t&&(r>=i&&r--,a>=i&&a--)}),this},has:function(e){return e?rt.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=n=void 0,this},disabled:function(){return!l},lock:function(){return c=void 0,n||d.disable(),this},locked:function(){return!c},fireWith:function(e,n){return!l||i&&!c||(n=n||[],n=[e,n.slice?n.slice():n],t?c.push(n):u(n)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},rt.extend({Deferred:function(e){var t=[["resolve","done",rt.Callbacks("once memory"),"resolved"],["reject","fail",rt.Callbacks("once memory"),"rejected"],["notify","progress",rt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return rt.Deferred(function(n){rt.each(t,function(t,o){var a=rt.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&rt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?rt.extend(e,i):i}},r={};return i.pipe=i.then,rt.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=Z.call(arguments),a=o.length,s=1!==a||e&&rt.isFunction(e.promise)?a:0,l=1===s?e:rt.Deferred(),c=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?Z.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&rt.isFunction(o[r].promise)?o[r].promise().done(c(r,i,o)).fail(l.reject).progress(c(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var Ct;rt.fn.ready=function(e){return rt.ready.promise().done(e),this},rt.extend({isReady:!1,readyWait:1,holdReady:function(e){e?rt.readyWait++:rt.ready(!0)},ready:function(e){if(e===!0?!--rt.readyWait:!rt.isReady){if(!pt.body)return setTimeout(rt.ready);rt.isReady=!0,e!==!0&&--rt.readyWait>0||(Ct.resolveWith(pt,[rt]),rt.fn.triggerHandler&&(rt(pt).triggerHandler("ready"),rt(pt).off("ready")))}}}),rt.ready.promise=function(t){if(!Ct)if(Ct=rt.Deferred(),"complete"===pt.readyState)setTimeout(rt.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&pt.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!rt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}a(),rt.ready()}}()}return Ct.promise(t)};var Et,xt="undefined";for(Et in rt(nt))break;nt.ownLast="0"!==Et,nt.inlineBlockNeedsLayout=!1,rt(function(){var e,t,n,i;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",nt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=pt.createElement("div");if(null==nt.deleteExpando){nt.deleteExpando=!0;try{delete e.test}catch(t){nt.deleteExpando=!1}}e=null}(),rt.acceptData=function(e){var t=rt.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,St=/([A-Z])/g;rt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?rt.cache[e[rt.expando]]:e[rt.expando],!!e&&!c(e)},data:function(e,t,n){return u(e,t,n)},removeData:function(e,t){return d(e,t)},_data:function(e,t,n){return u(e,t,n,!0)},_removeData:function(e,t){return d(e,t,!0)}}),rt.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=rt.data(o),1===o.nodeType&&!rt._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=rt.camelCase(i.slice(5)),l(o,i,r[i])));rt._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){rt.data(this,e)}):arguments.length>1?this.each(function(){rt.data(this,e,t)}):o?l(o,e,rt.data(o,e)):void 0},removeData:function(e){return this.each(function(){rt.removeData(this,e)})}}),rt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=rt._data(e,t),n&&(!i||rt.isArray(n)?i=rt._data(e,t,rt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=rt.queue(e,t),i=n.length,r=n.shift(),o=rt._queueHooks(e,t),a=function(){rt.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return rt._data(e,n)||rt._data(e,n,{empty:rt.Callbacks("once memory").add(function(){rt._removeData(e,t+"queue"),rt._removeData(e,n)})})}}),rt.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?rt.queue(this[0],e):void 0===t?this:this.each(function(){var n=rt.queue(this,e,t);rt._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&rt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){rt.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=rt.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=rt._data(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var Dt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Nt=["Top","Right","Bottom","Left"],_t=function(e,t){return e=t||e,"none"===rt.css(e,"display")||!rt.contains(e.ownerDocument,e)},kt=rt.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===rt.type(n)){r=!0;for(s in n)rt.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,rt.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(rt(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o},At=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),n=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",nt.leadingWhitespace=3===t.firstChild.nodeType,nt.tbody=!t.getElementsByTagName("tbody").length,nt.htmlSerialize=!!t.getElementsByTagName("link").length,nt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,n.appendChild(e),nt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",nt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,n.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",nt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,nt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){nt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==nt.deleteExpando){nt.deleteExpando=!0;try{delete t.test}catch(i){nt.deleteExpando=!1}}}(),function(){var t,n,i=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(nt[t+"Bubbles"]=n in e)||(i.setAttribute(n,"t"),nt[t+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var Rt=/^(?:input|select|textarea)$/i,Mt=/^key/,Ot=/^(?:mouse|pointer|contextmenu)|click/,Lt=/^(?:focusinfocus|focusoutblur)$/,It=/^([^.]*)(?:\.(.+)|)$/;rt.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=rt._data(e);if(g){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=rt.guid++),(a=g.events)||(a=g.events={}),(u=g.handle)||(u=g.handle=function(e){return typeof rt===xt||e&&rt.event.triggered===e.type?void 0:rt.event.dispatch.apply(u.elem,arguments)},u.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)o=It.exec(t[s])||[],f=m=o[1],p=(o[2]||"").split(".").sort(),f&&(c=rt.event.special[f]||{},f=(r?c.delegateType:c.bindType)||f,c=rt.event.special[f]||{},d=rt.extend({type:f,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&rt.expr.match.needsContext.test(r),namespace:p.join(".")},l),(h=a[f])||(h=a[f]=[],h.delegateCount=0,c.setup&&c.setup.call(e,i,p,u)!==!1||(e.addEventListener?e.addEventListener(f,u,!1):e.attachEvent&&e.attachEvent("on"+f,u))),c.add&&(c.add.call(e,d),d.handler.guid||(d.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,d):h.push(d),rt.event.global[f]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,f,p,m,g=rt.hasData(e)&&rt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(s=It.exec(t[c])||[],f=m=s[1],p=(s[2]||"").split(".").sort(),f){for(d=rt.event.special[f]||{},f=(i?d.delegateType:d.bindType)||f,h=u[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&m!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||rt.removeEvent(e,f,g.handle),delete u[f])}else for(f in u)rt.event.remove(e,f+t[c],n,i,!0);rt.isEmptyObject(u)&&(delete g.handle,rt._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,c,u,d,h=[i||pt],f=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=u=i=i||pt,3!==i.nodeType&&8!==i.nodeType&&!Lt.test(f+rt.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),a=f.indexOf(":")<0&&"on"+f,t=t[rt.expando]?t:new rt.Event(f,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:rt.makeArray(n,[t]),c=rt.event.special[f]||{},r||!c.trigger||c.trigger.apply(i,n)!==!1)){if(!r&&!c.noBubble&&!rt.isWindow(i)){for(l=c.delegateType||f,Lt.test(l+f)||(s=s.parentNode);s;s=s.parentNode)h.push(s),u=s;
u===(i.ownerDocument||pt)&&h.push(u.defaultView||u.parentWindow||e)}for(d=0;(s=h[d++])&&!t.isPropagationStopped();)t.type=d>1?l:c.bindType||f,o=(rt._data(s,"events")||{})[t.type]&&rt._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&rt.acceptData(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=f,!r&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(h.pop(),n)===!1)&&rt.acceptData(i)&&a&&i[f]&&!rt.isWindow(i)){u=i[a],u&&(i[a]=null),rt.event.triggered=f;try{i[f]()}catch(m){}rt.event.triggered=void 0,u&&(i[a]=u)}return t.result}},dispatch:function(e){e=rt.event.fix(e);var t,n,i,r,o,a=[],s=Z.call(arguments),l=(rt._data(this,"events")||{})[e.type]||[],c=rt.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=rt.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,n=((rt.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(r=[],o=0;s>o;o++)i=t[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?rt(n,this).index(l)>=0:rt.find(n,this,null,[l]).length),r[n]&&r.push(i);r.length&&a.push({elem:l,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[rt.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Ot.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new rt.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||pt,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return rt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return rt.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=rt.extend(new rt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?rt.event.trigger(r,null,t):rt.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},rt.removeEvent=pt.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===xt&&(e[i]=null),e.detachEvent(i,n))},rt.Event=function(e,t){return this instanceof rt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?h:f):this.type=e,t&&rt.extend(this,t),this.timeStamp=e&&e.timeStamp||rt.now(),void(this[rt.expando]=!0)):new rt.Event(e,t)},rt.Event.prototype={isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=h,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=h,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=h,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},rt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){rt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!rt.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),nt.submitBubbles||(rt.event.special.submit={setup:function(){return rt.nodeName(this,"form")?!1:void rt.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=rt.nodeName(t,"input")||rt.nodeName(t,"button")?t.form:void 0;n&&!rt._data(n,"submitBubbles")&&(rt.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),rt._data(n,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&rt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return rt.nodeName(this,"form")?!1:void rt.event.remove(this,"._submit")}}),nt.changeBubbles||(rt.event.special.change={setup:function(){return Rt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(rt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),rt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),rt.event.simulate("change",this,e,!0)})),!1):void rt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Rt.test(t.nodeName)&&!rt._data(t,"changeBubbles")&&(rt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||rt.event.simulate("change",this.parentNode,e,!0)}),rt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return rt.event.remove(this,"._change"),!Rt.test(this.nodeName)}}),nt.focusinBubbles||rt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){rt.event.simulate(t,e.target,rt.event.fix(e),!0)};rt.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=rt._data(i,t);r||i.addEventListener(e,n,!0),rt._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=rt._data(i,t)-1;r?rt._data(i,t,r):(i.removeEventListener(e,n,!0),rt._removeData(i,t))}}}),rt.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(o in e)this.on(o,t,n,e[o],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=f;else if(!i)return this;return 1===r&&(a=i,i=function(e){return rt().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=rt.guid++)),this.each(function(){rt.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,rt(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=f),this.each(function(){rt.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){rt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?rt.event.trigger(e,t,n,!0):void 0}});var Ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,Pt=new RegExp("<(?:"+Ht+")[\\s/>]","i"),Bt=/^\s+/,jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,zt=/<([\w:]+)/,$t=/<tbody/i,qt=/<|&#?\w+;/,Yt=/<(?:script|style|link)/i,Wt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ut=/^$|\/(?:java|ecma)script/i,Vt=/^true\/(.*)/,Gt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:nt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Kt=m(pt),Xt=Kt.appendChild(pt.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,rt.extend({clone:function(e,t,n){var i,r,o,a,s,l=rt.contains(e.ownerDocument,e);if(nt.html5Clone||rt.isXMLDoc(e)||!Pt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Xt.innerHTML=e.outerHTML,Xt.removeChild(o=Xt.firstChild)),!(nt.noCloneEvent&&nt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||rt.isXMLDoc(e)))for(i=g(o),s=g(e),a=0;null!=(r=s[a]);++a)i[a]&&x(r,i[a]);if(t)if(n)for(s=s||g(e),i=i||g(o),a=0;null!=(r=s[a]);a++)E(r,i[a]);else E(e,o);return i=g(o,"script"),i.length>0&&C(i,!l&&g(e,"script")),i=s=r=null,o},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u,d=e.length,h=m(t),f=[],p=0;d>p;p++)if(o=e[p],o||0===o)if("object"===rt.type(o))rt.merge(f,o.nodeType?[o]:o);else if(qt.test(o)){for(s=s||h.appendChild(t.createElement("div")),l=(zt.exec(o)||["",""])[1].toLowerCase(),u=Zt[l]||Zt._default,s.innerHTML=u[1]+o.replace(jt,"<$1></$2>")+u[2],r=u[0];r--;)s=s.lastChild;if(!nt.leadingWhitespace&&Bt.test(o)&&f.push(t.createTextNode(Bt.exec(o)[0])),!nt.tbody)for(o="table"!==l||$t.test(o)?"<table>"!==u[1]||$t.test(o)?0:s:s.firstChild,r=o&&o.childNodes.length;r--;)rt.nodeName(c=o.childNodes[r],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(rt.merge(f,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=h.lastChild}else f.push(t.createTextNode(o));for(s&&h.removeChild(s),nt.appendChecked||rt.grep(g(f,"input"),v),p=0;o=f[p++];)if((!i||-1===rt.inArray(o,i))&&(a=rt.contains(o.ownerDocument,o),s=g(h.appendChild(o),"script"),a&&C(s),n))for(r=0;o=s[r++];)Ut.test(o.type||"")&&n.push(o);return s=null,h},cleanData:function(e,t){for(var n,i,r,o,a=0,s=rt.expando,l=rt.cache,c=nt.deleteExpando,u=rt.event.special;null!=(n=e[a]);a++)if((t||rt.acceptData(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)u[i]?rt.event.remove(n,i):rt.removeEvent(n,i,o.handle);l[r]&&(delete l[r],c?delete n[s]:typeof n.removeAttribute!==xt?n.removeAttribute(s):n[s]=null,G.push(r))}}}),rt.fn.extend({text:function(e){return kt(this,function(e){return void 0===e?rt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?rt.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||rt.cleanData(g(n)),n.parentNode&&(t&&rt.contains(n.ownerDocument,n)&&C(g(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&rt.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&rt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return rt.clone(this,e,t)})},html:function(e){return kt(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ft,""):void 0;if(!("string"!=typeof e||Yt.test(e)||!nt.htmlSerialize&&Pt.test(e)||!nt.leadingWhitespace&&Bt.test(e)||Zt[(zt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(jt,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(rt.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,rt.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=K.apply([],e);var n,i,r,o,a,s,l=0,c=this.length,u=this,d=c-1,h=e[0],f=rt.isFunction(h);if(f||c>1&&"string"==typeof h&&!nt.checkClone&&Wt.test(h))return this.each(function(n){var i=u.eq(n);f&&(e[0]=h.call(this,n,i.html())),i.domManip(e,t)});if(c&&(s=rt.buildFragment(e,this[0].ownerDocument,!1,this),n=s.firstChild,1===s.childNodes.length&&(s=n),n)){for(o=rt.map(g(s,"script"),b),r=o.length;c>l;l++)i=s,l!==d&&(i=rt.clone(i,!0,!0),r&&rt.merge(o,g(i,"script"))),t.call(this[l],i,l);if(r)for(a=o[o.length-1].ownerDocument,rt.map(o,w),l=0;r>l;l++)i=o[l],Ut.test(i.type||"")&&!rt._data(i,"globalEval")&&rt.contains(a,i)&&(i.src?rt._evalUrl&&rt._evalUrl(i.src):rt.globalEval((i.text||i.textContent||i.innerHTML||"").replace(Gt,"")));s=n=null}return this}}),rt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){rt.fn[e]=function(e){for(var n,i=0,r=[],o=rt(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),rt(o[i])[t](n),X.apply(r,n.get());return this.pushStack(r)}});var Qt,Jt={};!function(){var e;nt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=pt.getElementsByTagName("body")[0],n&&n.style?(t=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),typeof t.style.zoom!==xt&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var en,tn,nn=/^margin/,rn=new RegExp("^("+Dt+")(?!px)[a-z%]+$","i"),on=/^(top|right|bottom|left)$/;e.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tn=function(e,t,n){var i,r,o,a,s=e.style;return n=n||en(e),a=n?n.getPropertyValue(t)||n[t]:void 0,n&&(""!==a||rt.contains(e.ownerDocument,e)||(a=rt.style(e,t)),rn.test(a)&&nn.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0===a?a:a+""}):pt.documentElement.currentStyle&&(en=function(e){return e.currentStyle},tn=function(e,t,n){var i,r,o,a,s=e.style;return n=n||en(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),rn.test(a)&&!on.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,n,i,r;n=pt.getElementsByTagName("body")[0],n&&n.style&&(t=pt.createElement("div"),i=pt.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,l=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,r=t.appendChild(pt.createElement("div")),r.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",r.style.marginRight=r.style.width="0",t.style.width="1px",l=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight),t.removeChild(r)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=t.getElementsByTagName("td"),r[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===r[0].offsetHeight,s&&(r[0].style.display="",r[1].style.display="none",s=0===r[0].offsetHeight),n.removeChild(i))}var n,i,r,o,a,s,l;n=pt.createElement("div"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",r=n.getElementsByTagName("a")[0],i=r&&r.style,i&&(i.cssText="float:left;opacity:.5",nt.opacity="0.5"===i.opacity,nt.cssFloat=!!i.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",nt.clearCloneStyle="content-box"===n.style.backgroundClip,nt.boxSizing=""===i.boxSizing||""===i.MozBoxSizing||""===i.WebkitBoxSizing,rt.extend(nt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==l&&t(),l}}))}(),rt.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var an=/alpha\([^)]*\)/i,sn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,cn=new RegExp("^("+Dt+")(.*)$","i"),un=new RegExp("^([+-])=("+Dt+")","i"),dn={position:"absolute",visibility:"hidden",display:"block"},hn={letterSpacing:"0",fontWeight:"400"},fn=["Webkit","O","Moz","ms"];rt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=tn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":nt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=rt.camelCase(t),l=e.style;if(t=rt.cssProps[s]||(rt.cssProps[s]=N(l,s)),a=rt.cssHooks[t]||rt.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=un.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(rt.css(e,t)),o="number"),null!=n&&n===n&&("number"!==o||rt.cssNumber[s]||(n+="px"),nt.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]=n}catch(c){}}},css:function(e,t,n,i){var r,o,a,s=rt.camelCase(t);return t=rt.cssProps[s]||(rt.cssProps[s]=N(e.style,s)),a=rt.cssHooks[t]||rt.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=tn(e,t,i)),"normal"===o&&t in hn&&(o=hn[t]),""===n||n?(r=parseFloat(o),n===!0||rt.isNumeric(r)?r||0:o):o}}),rt.each(["height","width"],function(e,t){rt.cssHooks[t]={get:function(e,n,i){return n?ln.test(rt.css(e,"display"))&&0===e.offsetWidth?rt.swap(e,dn,function(){return R(e,t,i)}):R(e,t,i):void 0},set:function(e,n,i){var r=i&&en(e);return k(e,n,i?A(e,t,i,nt.boxSizing&&"border-box"===rt.css(e,"boxSizing",!1,r),r):0)}}}),nt.opacity||(rt.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=rt.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===rt.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=an.test(o)?o.replace(an,r):o+" "+r)}}),rt.cssHooks.marginRight=D(nt.reliableMarginRight,function(e,t){return t?rt.swap(e,{display:"inline-block"},tn,[e,"marginRight"]):void 0}),rt.each({margin:"",padding:"",border:"Width"},function(e,t){rt.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Nt[i]+t]=o[i]||o[i-2]||o[0];return r}},nn.test(e)||(rt.cssHooks[e+t].set=k)}),rt.fn.extend({css:function(e,t){return kt(this,function(e,t,n){var i,r,o={},a=0;if(rt.isArray(t)){for(i=en(e),r=t.length;r>a;a++)o[t[a]]=rt.css(e,t[a],!1,i);return o}return void 0!==n?rt.style(e,t,n):rt.css(e,t)},e,t,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_t(this)?rt(this).show():rt(this).hide()})}}),rt.Tween=M,M.prototype={constructor:M,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(rt.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return e&&e.get?e.get(this):M.propHooks._default.get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.pos=t=this.options.duration?rt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):M.propHooks._default.set(this),this}},M.prototype.init.prototype=M.prototype,M.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=rt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){rt.fx.step[e.prop]?rt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[rt.cssProps[e.prop]]||rt.cssHooks[e.prop])?rt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},rt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},rt.fx=M.prototype.init,rt.fx.step={};var pn,mn,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Dt+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[H],wn={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=vn.exec(t),o=r&&r[3]||(rt.cssNumber[e]?"":"px"),a=(rt.cssNumber[e]||"px"!==o&&+i)&&vn.exec(rt.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,rt.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};rt.Animation=rt.extend(P,{tweener:function(e,t){rt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],wn[n]=wn[n]||[],wn[n].unshift(t)},prefilter:function(e,t){t?bn.unshift(e):bn.push(e)}}),rt.speed=function(e,t,n){var i=e&&"object"==typeof e?rt.extend({},e):{complete:n||!n&&t||rt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!rt.isFunction(t)&&t};return i.duration=rt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in rt.fx.speeds?rt.fx.speeds[i.duration]:rt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){rt.isFunction(i.old)&&i.old.call(this),i.queue&&rt.dequeue(this,i.queue)},i},rt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(_t).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=rt.isEmptyObject(e),o=rt.speed(t,n,i),a=function(){var t=P(this,rt.extend({},e),o);(r||rt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=rt.timers,a=rt._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&yn.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&rt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=rt._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=rt.timers,a=i?i.length:0;for(n.finish=!0,rt.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),rt.each(["toggle","show","hide"],function(e,t){var n=rt.fn[t];rt.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(L(t,!0),e,i,r)}}),rt.each({slideDown:L("show"),slideUp:L("hide"),slideToggle:L("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){rt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),rt.timers=[],rt.fx.tick=function(){var e,t=rt.timers,n=0;for(pn=rt.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||rt.fx.stop(),pn=void 0},rt.fx.timer=function(e){rt.timers.push(e),e()?rt.fx.start():rt.timers.pop()},rt.fx.interval=13,rt.fx.start=function(){mn||(mn=setInterval(rt.fx.tick,rt.fx.interval))},rt.fx.stop=function(){clearInterval(mn),mn=null},rt.fx.speeds={slow:600,fast:200,_default:400},rt.fn.delay=function(e,t){return e=rt.fx?rt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e,t,n,i,r;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=t.getElementsByTagName("a")[0],n=pt.createElement("select"),r=n.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],i.style.cssText="top:1px",nt.getSetAttribute="t"!==t.className,nt.style=/top/.test(i.getAttribute("style")),nt.hrefNormalized="/a"===i.getAttribute("href"),nt.checkOn=!!e.value,nt.optSelected=r.selected,nt.enctype=!!pt.createElement("form").enctype,n.disabled=!0,nt.optDisabled=!r.disabled,e=pt.createElement("input"),e.setAttribute("value",""),nt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),nt.radioValue="t"===e.value}();var Cn=/\r/g;rt.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=rt.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,rt(this).val()):e,null==r?r="":"number"==typeof r?r+="":rt.isArray(r)&&(r=rt.map(r,function(e){return null==e?"":e+""})),t=rt.valHooks[this.type]||rt.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=rt.valHooks[r.type]||rt.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(Cn,""):null==n?"":n)}}}),rt.extend({valHooks:{option:{get:function(e){var t=rt.find.attr(e,"value");return null!=t?t:rt.trim(rt.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(nt.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&rt.nodeName(n.parentNode,"optgroup"))){if(t=rt(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=rt.makeArray(t),a=r.length;a--;)if(i=r[a],rt.inArray(rt.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),rt.each(["radio","checkbox"],function(){rt.valHooks[this]={set:function(e,t){return rt.isArray(t)?e.checked=rt.inArray(rt(e).val(),t)>=0:void 0}},nt.checkOn||(rt.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var En,xn,Tn=rt.expr.attrHandle,Sn=/^(?:checked|selected)$/i,Dn=nt.getSetAttribute,Nn=nt.input;rt.fn.extend({attr:function(e,t){return kt(this,rt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){rt.removeAttr(this,e)})}}),rt.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===xt?rt.prop(e,t,n):(1===o&&rt.isXMLDoc(e)||(t=t.toLowerCase(),i=rt.attrHooks[t]||(rt.expr.match.bool.test(t)?xn:En)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=rt.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void rt.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;n=o[r++];)i=rt.propFix[n]||n,rt.expr.match.bool.test(n)?Nn&&Dn||!Sn.test(n)?e[i]=!1:e[rt.camelCase("default-"+n)]=e[i]=!1:rt.attr(e,n,""),e.removeAttribute(Dn?n:i)},attrHooks:{type:{set:function(e,t){if(!nt.radioValue&&"radio"===t&&rt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),xn={set:function(e,t,n){return t===!1?rt.removeAttr(e,n):Nn&&Dn||!Sn.test(n)?e.setAttribute(!Dn&&rt.propFix[n]||n,n):e[rt.camelCase("default-"+n)]=e[n]=!0,n}},rt.each(rt.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Tn[t]||rt.find.attr;Tn[t]=Nn&&Dn||!Sn.test(t)?function(e,t,i){var r,o;return i||(o=Tn[t],Tn[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Tn[t]=o),r}:function(e,t,n){return n?void 0:e[rt.camelCase("default-"+t)]?t.toLowerCase():null}}),Nn&&Dn||(rt.attrHooks.value={set:function(e,t,n){return rt.nodeName(e,"input")?void(e.defaultValue=t):En&&En.set(e,t,n)}}),Dn||(En={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Tn.id=Tn.name=Tn.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},rt.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:En.set},rt.attrHooks.contenteditable={set:function(e,t,n){En.set(e,""===t?!1:t,n)}},rt.each(["width","height"],function(e,t){rt.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),nt.style||(rt.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var _n=/^(?:input|select|textarea|button|object)$/i,kn=/^(?:a|area)$/i;rt.fn.extend({prop:function(e,t){return kt(this,rt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=rt.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),rt.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!rt.isXMLDoc(e),o&&(t=rt.propFix[t]||t,r=rt.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=rt.find.attr(e,"tabindex");return t?parseInt(t,10):_n.test(e.nodeName)||kn.test(e.nodeName)&&e.href?0:-1}}}}),nt.hrefNormalized||rt.each(["href","src"],function(e,t){rt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),nt.optSelected||(rt.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),rt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){rt.propFix[this.toLowerCase()]=this}),nt.enctype||(rt.propFix.enctype="encoding");var An=/[\t\r\n\f]/g;rt.fn.extend({addClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,c="string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=rt.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0,l=this.length,c=0===arguments.length||"string"==typeof e&&e;if(rt.isFunction(e))return this.each(function(t){rt(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];l>s;s++)if(n=this[s],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(An," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?rt.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(rt.isFunction(e)?function(n){rt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=rt(this),o=e.match(bt)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);
else(n===xt||"boolean"===n)&&(this.className&&rt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":rt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(An," ").indexOf(t)>=0)return!0;return!1}}),rt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){rt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),rt.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Rn=rt.now(),Mn=/\?/,On=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;rt.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=rt.trim(t+"");return r&&!rt.trim(r.replace(On,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():rt.error("Invalid JSON: "+t)},rt.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new DOMParser,n=i.parseFromString(t,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||rt.error("Invalid XML: "+t),n};var Ln,In,Hn=/#.*$/,Fn=/([?&])_=[^&]*/,Pn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Bn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,zn=/^\/\//,$n=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,qn={},Yn={},Wn="*/".concat("*");try{In=location.href}catch(Un){In=pt.createElement("a"),In.href="",In=In.href}Ln=$n.exec(In.toLowerCase())||[],rt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:In,type:"GET",isLocal:Bn.test(Ln[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":rt.parseJSON,"text xml":rt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?z(z(e,rt.ajaxSettings),t):z(rt.ajaxSettings,e)},ajaxPrefilter:B(qn),ajaxTransport:B(Yn),ajax:function(e,t){function n(e,t,n,i){var r,u,v,y,w,E=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=i||"",C.readyState=e>0?4:0,r=e>=200&&300>e||304===e,n&&(y=$(d,C,n)),y=q(d,y,C,r),r?(d.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(rt.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(rt.etag[o]=w)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=y.state,u=y.data,v=y.error,r=!v)):(v=E,(e||!E)&&(E="error",0>e&&(e=0))),C.status=e,C.statusText=(t||E)+"",r?p.resolveWith(h,[u,E,C]):p.rejectWith(h,[C,E,v]),C.statusCode(g),g=void 0,l&&f.trigger(r?"ajaxSuccess":"ajaxError",[C,d,r?u:v]),m.fireWith(h,[C,E]),l&&(f.trigger("ajaxComplete",[C,d]),--rt.active||rt.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,c,u,d=rt.ajaxSetup({},t),h=d.context||d,f=d.context&&(h.nodeType||h.jquery)?rt(h):rt.event,p=rt.Deferred(),m=rt.Callbacks("once memory"),g=d.statusCode||{},v={},y={},b=0,w="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!u)for(u={};t=Pn.exec(a);)u[t[1].toLowerCase()]=t[2];t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,v[e]=t),this},overrideMimeType:function(e){return b||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||w;return c&&c.abort(t),n(0,t),this}};if(p.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((e||d.url||In)+"").replace(Hn,"").replace(zn,Ln[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=rt.trim(d.dataType||"*").toLowerCase().match(bt)||[""],null==d.crossDomain&&(i=$n.exec(d.url.toLowerCase()),d.crossDomain=!(!i||i[1]===Ln[1]&&i[2]===Ln[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ln[3]||("http:"===Ln[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=rt.param(d.data,d.traditional)),j(qn,d,t,C),2===b)return C;l=rt.event&&d.global,l&&0===rt.active++&&rt.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!jn.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(Mn.test(o)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=Fn.test(o)?o.replace(Fn,"$1_="+Rn++):o+(Mn.test(o)?"&":"?")+"_="+Rn++)),d.ifModified&&(rt.lastModified[o]&&C.setRequestHeader("If-Modified-Since",rt.lastModified[o]),rt.etag[o]&&C.setRequestHeader("If-None-Match",rt.etag[o])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Wn+"; q=0.01":""):d.accepts["*"]);for(r in d.headers)C.setRequestHeader(r,d.headers[r]);if(d.beforeSend&&(d.beforeSend.call(h,C,d)===!1||2===b))return C.abort();w="abort";for(r in{success:1,error:1,complete:1})C[r](d[r]);if(c=j(Yn,d,t,C)){C.readyState=1,l&&f.trigger("ajaxSend",[C,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){C.abort("timeout")},d.timeout));try{b=1,c.send(v,n)}catch(E){if(!(2>b))throw E;n(-1,E)}}else n(-1,"No Transport");return C},getJSON:function(e,t,n){return rt.get(e,t,n,"json")},getScript:function(e,t){return rt.get(e,void 0,t,"script")}}),rt.each(["get","post"],function(e,t){rt[t]=function(e,n,i,r){return rt.isFunction(n)&&(r=r||i,i=n,n=void 0),rt.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),rt._evalUrl=function(e){return rt.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},rt.fn.extend({wrapAll:function(e){if(rt.isFunction(e))return this.each(function(t){rt(this).wrapAll(e.call(this,t))});if(this[0]){var t=rt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(rt.isFunction(e)?function(t){rt(this).wrapInner(e.call(this,t))}:function(){var t=rt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=rt.isFunction(e);return this.each(function(n){rt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){rt.nodeName(this,"body")||rt(this).replaceWith(this.childNodes)}).end()}}),rt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!nt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||rt.css(e,"display"))},rt.expr.filters.visible=function(e){return!rt.expr.filters.hidden(e)};var Vn=/%20/g,Gn=/\[\]$/,Zn=/\r?\n/g,Kn=/^(?:submit|button|image|reset|file)$/i,Xn=/^(?:input|select|textarea|keygen)/i;rt.param=function(e,t){var n,i=[],r=function(e,t){t=rt.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=rt.ajaxSettings&&rt.ajaxSettings.traditional),rt.isArray(e)||e.jquery&&!rt.isPlainObject(e))rt.each(e,function(){r(this.name,this.value)});else for(n in e)Y(n,e[n],t,r);return i.join("&").replace(Vn,"+")},rt.fn.extend({serialize:function(){return rt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=rt.prop(this,"elements");return e?rt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!rt(this).is(":disabled")&&Xn.test(this.nodeName)&&!Kn.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var n=rt(this).val();return null==n?null:rt.isArray(n)?rt.map(n,function(e){return{name:t.name,value:e.replace(Zn,"\r\n")}}):{name:t.name,value:n.replace(Zn,"\r\n")}}).get()}}),rt.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&W()||U()}:W;var Qn=0,Jn={},ei=rt.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Jn)Jn[e](void 0,!0)}),nt.cors=!!ei&&"withCredentials"in ei,ei=nt.ajax=!!ei,ei&&rt.ajaxTransport(function(e){if(!e.crossDomain||nt.cors){var t;return{send:function(n,i){var r,o=e.xhr(),a=++Qn;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(e.hasContent&&e.data||null),t=function(n,r){var s,l,c;if(t&&(r||4===o.readyState))if(delete Jn[a],t=void 0,o.onreadystatechange=rt.noop,r)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{l=o.statusText}catch(u){l=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&i(s,l,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Jn[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),rt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return rt.globalEval(e),e}}}),rt.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),rt.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=pt.head||rt("head")[0]||pt.documentElement;return{send:function(i,r){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var ti=[],ni=/(=)\?(?=&|$)|\?\?/;rt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=ti.pop()||rt.expando+"_"+Rn++;return this[e]=!0,e}}),rt.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(ni.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&ni.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=rt.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(ni,"$1"+r):t.jsonp!==!1&&(t.url+=(Mn.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||rt.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,ti.push(r)),a&&rt.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),rt.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||pt;var i=dt.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=rt.buildFragment([e],t,r),r&&r.length&&rt(r).remove(),rt.merge([],i.childNodes))};var ii=rt.fn.load;rt.fn.load=function(e,t,n){if("string"!=typeof e&&ii)return ii.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=rt.trim(e.slice(s,e.length)),e=e.slice(0,s)),rt.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&rt.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){r=arguments,a.html(i?rt("<div>").append(rt.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,r||[e.responseText,t,e])}),this},rt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){rt.fn[t]=function(e){return this.on(t,e)}}),rt.expr.filters.animated=function(e){return rt.grep(rt.timers,function(t){return e===t.elem}).length};var ri=e.document.documentElement;rt.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c,u=rt.css(e,"position"),d=rt(e),h={};"static"===u&&(e.style.position="relative"),s=d.offset(),o=rt.css(e,"top"),l=rt.css(e,"left"),c=("absolute"===u||"fixed"===u)&&rt.inArray("auto",[o,l])>-1,c?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),rt.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):d.css(h)}},rt.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){rt.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,rt.contains(t,r)?(typeof r.getBoundingClientRect!==xt&&(i=r.getBoundingClientRect()),n=V(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===rt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),rt.nodeName(e[0],"html")||(n=e.offset()),n.top+=rt.css(e[0],"borderTopWidth",!0),n.left+=rt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-rt.css(i,"marginTop",!0),left:t.left-n.left-rt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||ri;e&&!rt.nodeName(e,"html")&&"static"===rt.css(e,"position");)e=e.offsetParent;return e||ri})}}),rt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);rt.fn[e]=function(i){return kt(this,function(e,i,r){var o=V(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?rt(o).scrollLeft():r,n?r:rt(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),rt.each(["top","left"],function(e,t){rt.cssHooks[t]=D(nt.pixelPosition,function(e,n){return n?(n=tn(e,t),rn.test(n)?rt(e).position()[t]+"px":n):void 0})}),rt.each({Height:"height",Width:"width"},function(e,t){rt.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){rt.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return kt(this,function(t,n,i){var r;return rt.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?rt.css(t,n,a):rt.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),rt.fn.size=function(){return this.length},rt.fn.andSelf=rt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return rt});var oi=e.jQuery,ai=e.$;return rt.noConflict=function(t){return e.$===rt&&(e.$=ai),t&&e.jQuery===rt&&(e.jQuery=oi),rt},typeof t===xt&&(e.jQuery=e.$=rt),rt}),function(e,t){e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not(form button), button[data-confirm]:not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(i){var r,o,a,s,l,c,u,d;if(n.fire(i,"ajax:before")){if(s=i.data("cross-domain"),l=s===t?null:s,c=i.data("with-credentials")||null,u=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),a=i.serializeArray();var h=i.data("ujs:submit-button");h&&(a.push(h),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);return d={type:r||"GET",data:a,dataType:u,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:l},c&&(d.xhrFields={withCredentials:c}),o&&(d.url=o),n.ajax(d)}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=e("meta[name=csrf-token]").attr("content"),l=e("meta[name=csrf-param]").attr("content"),c=e('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l!==t&&s!==t&&(u+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&c.attr("target",a),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),e.data("ujs:enable-with",e[n]()),i!==t&&e[n](i),e.prop("disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var t=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[t](e.data("ujs:enable-with")),e.prop("disabled",!1)},allowAction:function(e){var t,i=e.data("confirm"),r=!1;return i?(n.fire(e,"confirm")&&(r=n.confirm(i),t=n.fire(e,"confirm:complete",[r])),r&&t):!0},blankInputs:function(t,n,i){var r,o,a=e(),s=n||"input,textarea",l=t.find(s);return l.each(function(){if(r=e(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&l.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;a=a.add(r)}}),a.length?a:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");e.data("ujs:enable-with",e.html()),i!==t&&e.html(i),e.bind("click.railsDisable",function(e){return n.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:enable-with")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=e(this),o=r.data("method"),a=r.data("params"),s=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!s&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==t){if(s&&(!o||"GET"===o)&&!a)return!0;var l=n.handleRemote(r);return l===!1?n.enableElement(r):l.fail(function(){n.enableElement(r)}),!1}return o?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,a=e(this),s=a.data("remote")!==t;if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")==t&&(r=n.blankInputs(a,n.requiredInputSelector),r&&n.fire(a,"ajax:aborted:required",[r])))return n.stopEverything(i);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this==t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w,C,E,x,T,S,D,N,_,k,A,R,M,O,L,I,H,F,P,B,j,z,$,q,Y,W,U,V,G,Z,K,X,Q,J,et,tt,nt=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},it=function(e,t){function n(){this.constructor=e}for(var i in t)rt.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},rt={}.hasOwnProperty,ot=[].slice,at=function(e,t){return function(){return e.apply(t,arguments)}};O={},h=10,X=!1,P=null,y=null,R=null,z=null,tt=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},x=function(e){var t;return e=new n(e),U(),d(),null!=P&&P.start(),X&&(t=Q(e.absolute))?(T(t),S(e,null,!1)):S(e,Z)},Q=function(e){var t;return t=O[e],t&&!t.transitionCacheDisabled?t:void 0},w=function(e){return null==e&&(e=!0),X=e},b=function(e){return null==e&&(e=!0),c?e?null!=P?P:P=new o("html"):(null!=P&&P.uninstall(),P=null):void 0},S=function(e,t,n){return null==n&&(n=!0),J(i.FETCH,{url:e.absolute}),null!=tt&&tt.abort(),tt=new XMLHttpRequest,tt.open("GET",e.withoutHashForIE10compatibility(),!0),tt.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),tt.setRequestHeader("X-XHR-Referer",z),tt.onload=function(){var n;return J(i.RECEIVE,{url:e.absolute}),(n=F())?($(e),q(),f.apply(null,E(n)),M(),"function"==typeof t&&t(),J(i.LOAD)):document.location.href=v()||e.absolute},P&&n&&(tt.onprogress=function(){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:P.value+(100-P.value)/10,P.advanceTo(t)}}(this)),tt.onloadend=function(){return tt=null},tt.onerror=function(){return document.location.href=e.absolute},tt.send()},T=function(e){return null!=tt&&tt.abort(),f(e.title,e.body),B(e),J(i.RESTORE)},d=function(){var e;return e=new n(y.url),O[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},m(h)},I=function(e){return null==e&&(e=h),/^[\d]+$/.test(e)?h=parseInt(e):void 0},m=function(e){var t,n,r,o,a,s;for(a=Object.keys(O),t=a.map(function(e){return O[e].cachedAt}).sort(function(e,t){return t-e}),s=[],n=0,o=a.length;o>n;n++)r=a[n],O[r].cachedAt<=t[e]&&(J(i.EXPIRE,O[r]),s.push(delete O[r]));return s},f=function(t,n,r,o){return J(i.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),null!=r&&e.update(r),K(),o&&C(),y=window.history.state,null!=P&&P.done(),J(i.CHANGE),J(i.UPDATE)},C=function(){var e,t,n,i,r,o,a,s,l,c,u,d;for(d=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,r=d.length;r>n;n++)if(u=d[n],""===(l=u.type)||"text/javascript"===l){for(t=document.createElement("script"),c=u.attributes,i=0,o=c.length;o>i;i++)e=c[i],t.setAttribute(e.name,e.value);u.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(u.innerHTML)),s=u.parentNode,a=u.nextSibling,s.removeChild(u),s.insertBefore(t,a)}},V=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},K=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},$=function(e){return(e=new n(e)).absolute!==z?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},q=function(){var e,t;return(e=tt.getResponseHeader("X-XHR-Redirected-To"))?(e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)):void 0},v=function(){var e;return null!=(e=tt.getResponseHeader("Location"))&&new n(e).crossOrigin()?e:void 0},U=function(){return z=document.location.href},W=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},Y=function(){return y=window.history.state},M=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash()?(window.history.replaceState(y,"",e.withoutHash()),document.location.hash=e.hash):void 0},B=function(e){return window.scrollTo(e.positionX,e.positionY)},Z=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},p=function(e){var t,n,i;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(n in e)i=e[n],t[n]=p(i);return t},H=function(e){var t,n;return n=(null!=(t=document.cookie.match(new RegExp(e+"=(\\w+)")))?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},J=function(e,t){var n;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},L=function(e){return!J(i.BEFORE_CHANGE,{url:e})},F=function(){var e,t,n,i,r,o;return t=function(){var e;return 400<=(e=tt.status)&&600>e},o=function(){var e;return null!=(e=tt.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,r,o;for(r=e.querySelector("head").childNodes,o=[],t=0,n=r.length;n>t;t++)i=r[t],null!=("function"==typeof i.getAttribute?i.getAttribute("data-turbolinks-track"):void 0)&&o.push(i.getAttribute("src")||i.getAttribute("href"));return o},e=function(e){var t;return R||(R=i(document)),t=i(e),t.length!==R.length||r(t,R).length!==R.length},r=function(e,t){var n,i,r,o,a;for(e.length>t.length&&(r=[t,e],e=r[0],t=r[1]),o=[],n=0,i=e.length;i>n;n++)a=e[n],nt.call(t,a)>=0&&o.push(a);return o},!t()&&o()&&(n=g(tt.responseText),n&&!e(n))?n:void 0},E=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,V(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},g=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},n=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),r=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return it(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,i,r;for(n=1<=arguments.length?ot.call(arguments,0):[],i=0,r=n.length;r>i;i++)e=n[i],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(n),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(L(this.link.absolute)||et(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new r(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),o=function(){function e(e){this.elementSelector=e,this._trickle=at(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();
if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var n,i;return n=this.speed,this.speed=e,i=t(),this.speed=n,i},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),u=function(e){return setTimeout(e,500)},_=function(){return document.addEventListener("DOMContentLoaded",function(){return J(i.CHANGE),J(i.UPDATE)},!0)},A=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t){return jQuery.trim(t.responseText)?J(i.UPDATE):void 0}):void 0},k=function(e){var t,i;return(null!=(i=e.state)?i.turbolinks:void 0)?(t=O[new n(e.state.url).absolute])?(d(),T(t)):et(e.target.location.href):void 0},N=function(){return W(),Y(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(){return W(),Y()},!1),u(function(){return window.addEventListener("popstate",k,!1)})},D=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&D,a=!navigator.userAgent.match(/CriOS\//),G="GET"===(j=H("request_method"))||""===j,c=l&&a&&G,s=document.addEventListener&&document.createEvent,s&&(_(),A()),c?(et=x,N()):et=function(e){return document.location.href=e},this.Turbolinks={visit:et,pagesCached:I,enableTransitionCache:w,enableProgressBar:b,allowLinkExtensions:r.allowExtensions,supported:c,EVENTS:p(i)}}.call(this),/* ========================================================================
 * Bootstrap: affix.js v3.3.4
 * http://getbootstrap.com/javascript/#affix
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.4",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r?"top":!1;if("bottom"==this.affixed)return null!=n?r+this.unpin<=o.top?!1:"bottom":e-i>=r+a?!1:"bottom";var s=null==this.affixed,l=s?r:o.top,c=s?a:t;return null!=n&&n>=r?"top":null!=i&&l+c>=e-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=e(document.body).height();"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),/* ========================================================================
 * Bootstrap: alert.js v3.3.4
 * http://getbootstrap.com/javascript/#alerts
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.4",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),/* ========================================================================
 * Bootstrap: button.js v3.3.4
 * http://getbootstrap.com/javascript/#buttons
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.4",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),/* ========================================================================
 * Bootstrap: carousel.js v3.3.4
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var r="prev"==e?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var c=o[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: collapse.js v3.3.4
 * http://getbootstrap.com/javascript/#collapse
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.4",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.4
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){t&&3===t.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=n(i),o={relatedTarget:this};r.hasClass("open")&&(r.trigger(t=e.Event("hide.bs.dropdown",o)),t.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o)))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.4",a.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(t(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var i=e(this);if(t.preventDefault(),t.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',a.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',a.prototype.keydown)}(jQuery),/* ========================================================================
 * Bootstrap: modal.js v3.3.4
 * http://getbootstrap.com/javascript/#modals
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](i):a.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.4",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,a,this)})}(jQuery),/* ========================================================================
 * Bootstrap: scrollspy.js v3.3.4
 * http://getbootstrap.com/javascript/#scrollspy
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.4",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),/* ========================================================================
 * Bootstrap: tab.js v3.3.4
 * http://getbootstrap.com/javascript/#tabs
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=i.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),/* ========================================================================
 * Bootstrap: transition.js v3.3.4
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),/* ========================================================================
 * Bootstrap: tooltip.js v3.3.4
 * http://getbootstrap.com/javascript/#tooltip
 * Inspired by the original jQuery.tipsy by Jason Frame
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.3.4",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?void(n.hoverState="in"):(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(s);c&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element);var u=this.getPosition(),d=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var f=s,p=this.options.container?e(this.options.container):this.$element.parent(),m=this.getPosition(p);s="bottom"==s&&u.bottom+h>m.bottom?"top":"top"==s&&u.top-h<m.top?"bottom":"right"==s&&u.right+d>m.width?"left":"left"==s&&u.left-d<m.left?"right":s,o.removeClass(f).addClass(s)}var g=this.getCalculatedOffset(s,u,d,h);this.applyPlacement(g,s);var v=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(n),h=d?2*u.left-r+l:2*u.top-o+c,f=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(h,i[0][f],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.width&&(r.left=a.left+a.width-u)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),/* ========================================================================
 * Bootstrap: popover.js v3.3.4
 * http://getbootstrap.com/javascript/#popovers
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.4",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),//! moment.js
//! version : 2.10.2
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ni.apply(null,arguments)}function t(e){Ni=e}function n(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function o(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function l(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function c(e){return null==e._isValid&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&0===e._pf.charsLeftOver&&0===e._pf.unusedTokens.length&&void 0===e._pf.bigHour)),e._isValid}function u(e){var t=l(0/0);return null!=e?s(t._pf,e):t._pf.userInvalidated=!0,t}function d(e,t){var n,i,r;if("undefined"!=typeof t._isAMomentObject&&(e._isAMomentObject=t._isAMomentObject),"undefined"!=typeof t._i&&(e._i=t._i),"undefined"!=typeof t._f&&(e._f=t._f),"undefined"!=typeof t._l&&(e._l=t._l),"undefined"!=typeof t._strict&&(e._strict=t._strict),"undefined"!=typeof t._tzm&&(e._tzm=t._tzm),"undefined"!=typeof t._isUTC&&(e._isUTC=t._isUTC),"undefined"!=typeof t._offset&&(e._offset=t._offset),"undefined"!=typeof t._pf&&(e._pf=t._pf),"undefined"!=typeof t._locale&&(e._locale=t._locale),ki.length>0)for(n in ki)i=ki[n],r=t[i],"undefined"!=typeof r&&(e[i]=r);return e}function h(t){d(this,t),this._d=new Date(+t._d),Ai===!1&&(Ai=!0,e.updateOffset(this),Ai=!1)}function f(e){return e instanceof h||null!=e&&a(e,"_isAMomentObject")}function p(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=t>=0?Math.floor(t):Math.ceil(t)),n}function m(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;r>i;i++)(n&&e[i]!==t[i]||!n&&p(e[i])!==p(t[i]))&&a++;return a+o}function g(){}function v(e){return e?e.toLowerCase().replace("_","-"):e}function y(e){for(var t,n,i,r,o=0;o<e.length;){for(r=v(e[o]).split("-"),t=r.length,n=v(e[o+1]),n=n?n.split("-"):null;t>0;){if(i=b(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&m(r,n,!0)>=t-1)break;t--}o++}return null}function b(e){var t=null;if(!Ri[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=_i._abbr,require("./locale/"+e),w(t)}catch(n){}return Ri[e]}function w(e,t){var n;return e&&(n="undefined"==typeof t?E(e):C(e,t),n&&(_i=n)),_i._abbr}function C(e,t){return null!==t?(t.abbr=e,Ri[e]||(Ri[e]=new g),Ri[e].set(t),w(e),Ri[e]):(delete Ri[e],null)}function E(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return _i;if(!i(e)){if(t=b(e))return t;e=[e]}return y(e)}function x(e,t){var n=e.toLowerCase();Mi[n]=Mi[n+"s"]=Mi[t]=e}function T(e){return"string"==typeof e?Mi[e]||Mi[e.toLowerCase()]:void 0}function S(e){var t,n,i={};for(n in e)a(e,n)&&(t=T(n),t&&(i[t]=e[n]));return i}function D(t,n){return function(i){return null!=i?(_(this,t,i),e.updateOffset(this,n),this):N(this,t)}}function N(e,t){return e._d["get"+(e._isUTC?"UTC":"")+t]()}function _(e,t,n){return e._d["set"+(e._isUTC?"UTC":"")+t](n)}function k(e,t){var n;if("object"==typeof e)for(n in e)this.set(n,e[n]);else if(e=T(e),"function"==typeof this[e])return this[e](t);return this}function A(e,t,n){for(var i=""+Math.abs(e),r=e>=0;i.length<t;)i="0"+i;return(r?n?"+":"":"-")+i}function R(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(Hi[e]=r),t&&(Hi[t[0]]=function(){return A(r.apply(this,arguments),t[1],t[2])}),n&&(Hi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function M(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function O(e){var t,n,i=e.match(Oi);for(t=0,n=i.length;n>t;t++)i[t]=Hi[i[t]]?Hi[i[t]]:M(i[t]);return function(r){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(r,e):i[t];return o}}function L(e,t){return e.isValid()?(t=I(t,e.localeData()),Ii[t]||(Ii[t]=O(t)),Ii[t](e)):e.localeData().invalidDate()}function I(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(Li.lastIndex=0;i>=0&&Li.test(e);)e=e.replace(Li,n),Li.lastIndex=0,i-=1;return e}function H(e,t,n){Xi[e]="function"==typeof t?t:function(e){return e&&n?n:t}}function F(e,t){return a(Xi,e)?Xi[e](t._strict,t._locale):new RegExp(P(e))}function P(e){return e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),"number"==typeof t&&(i=function(e,n){n[t]=p(e)}),n=0;n<e.length;n++)Qi[e[n]]=i}function j(e,t){B(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function z(e,t,n){null!=t&&a(Qi,e)&&Qi[e](t,n._a,n,e)}function $(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function q(e){return this._months[e.month()]}function Y(e){return this._monthsShort[e.month()]}function W(e,t,n){var i,r,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(r=l([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}}function U(e,t){var n;return"string"==typeof t&&(t=e.localeData().monthsParse(t),"number"!=typeof t)?e:(n=Math.min(e.date(),$(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e)}function V(t){return null!=t?(U(this,t),e.updateOffset(this,!0),this):N(this,"Month")}function G(){return $(this.year(),this.month())}function Z(e){var t,n=e._a;return n&&-2===e._pf.overflow&&(t=n[er]<0||n[er]>11?er:n[tr]<1||n[tr]>$(n[Ji],n[er])?tr:n[nr]<0||n[nr]>24||24===n[nr]&&(0!==n[ir]||0!==n[rr]||0!==n[or])?nr:n[ir]<0||n[ir]>59?ir:n[rr]<0||n[rr]>59?rr:n[or]<0||n[or]>999?or:-1,e._pf._overflowDayOfYear&&(Ji>t||t>tr)&&(t=tr),e._pf.overflow=t),e}function K(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function X(e,t){var n=!0;return s(function(){return n&&(K(e),n=!1),t.apply(this,arguments)},t)}function Q(e,t){lr[e]||(K(t),lr[e]=!0)}function J(e){var t,n,i=e._i,r=cr.exec(i);if(r){for(e._pf.iso=!0,t=0,n=ur.length;n>t;t++)if(ur[t][1].exec(i)){e._f=ur[t][0]+(r[6]||" ");break}for(t=0,n=dr.length;n>t;t++)if(dr[t][1].exec(i)){e._f+=dr[t][0];break}i.match(Gi)&&(e._f+="Z"),yt(e)}else e._isValid=!1}function et(t){var n=hr.exec(t._i);return null!==n?void(t._d=new Date(+n[1])):(J(t),void(t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t))))}function tt(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return 1970>e&&s.setFullYear(e),s}function nt(e){var t=new Date(Date.UTC.apply(null,arguments));return 1970>e&&t.setUTCFullYear(e),t}function it(e){return rt(e)?366:365}function rt(e){return e%4===0&&e%100!==0||e%400===0}function ot(){return rt(this.year())}function at(e,t,n){var i,r=n-t,o=n-e.day();return o>r&&(o-=7),r-7>o&&(o+=7),i=St(e).add(o,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function st(e){return at(e,this._week.dow,this._week.doy).week}function lt(){return this._week.dow}function ct(){return this._week.doy}function ut(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function dt(e){var t=at(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function ht(e,t,n,i,r){var o,a,s=nt(e,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:r,o=r-s+(s>i?7:0)-(r>s?7:0),a=7*(t-1)+(n-r)+o+1,{year:a>0?e:e-1,dayOfYear:a>0?a:it(e-1)+a}}function ft(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function pt(e,t,n){return null!=e?e:null!=t?t:n}function mt(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function gt(e){var t,n,i,r,o=[];if(!e._d){for(i=mt(e),e._w&&null==e._a[tr]&&null==e._a[er]&&vt(e),e._dayOfYear&&(r=pt(e._a[Ji],i[Ji]),e._dayOfYear>it(r)&&(e._pf._overflowDayOfYear=!0),n=nt(r,0,e._dayOfYear),e._a[er]=n.getUTCMonth(),e._a[tr]=n.getUTCDate()),t=0;3>t&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;7>t;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[nr]&&0===e._a[ir]&&0===e._a[rr]&&0===e._a[or]&&(e._nextDay=!0,e._a[nr]=0),e._d=(e._useUTC?nt:tt).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[nr]=24)}}function vt(e){var t,n,i,r,o,a,s;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(o=1,a=4,n=pt(t.GG,e._a[Ji],at(St(),1,4).year),i=pt(t.W,1),r=pt(t.E,1)):(o=e._locale._week.dow,a=e._locale._week.doy,n=pt(t.gg,e._a[Ji],at(St(),o,a).year),i=pt(t.w,1),null!=t.d?(r=t.d,o>r&&++i):r=null!=t.e?t.e+o:o),s=ht(n,i,r,a,o),e._a[Ji]=s.year,e._dayOfYear=s.dayOfYear}function yt(t){if(t._f===e.ISO_8601)return void J(t);t._a=[],t._pf.empty=!0;var n,i,r,o,a,s=""+t._i,l=s.length,c=0;for(r=I(t._f,t._locale).match(Oi)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(F(o,t))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&t._pf.unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),c+=i.length),Hi[o]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(o),z(o,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(o);t._pf.charsLeftOver=l-c,s.length>0&&t._pf.unusedInput.push(s),t._pf.bigHour===!0&&t._a[nr]<=12&&(t._pf.bigHour=void 0),t._a[nr]=bt(t._locale,t._a[nr],t._meridiem),gt(t),Z(t)}function bt(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(i=e.isPM(n),i&&12>t&&(t+=12),i||12!==t||(t=0),t):t}function wt(e){var t,i,r,o,a;if(0===e._f.length)return e._pf.invalidFormat=!0,void(e._d=new Date(0/0));for(o=0;o<e._f.length;o++)a=0,t=d({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._pf=n(),t._f=e._f[o],yt(t),c(t)&&(a+=t._pf.charsLeftOver,a+=10*t._pf.unusedTokens.length,t._pf.score=a,(null==r||r>a)&&(r=a,i=t));s(e,i||t)}function Ct(e){if(!e._d){var t=S(e._i);e._a=[t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],gt(e)}}function Et(e){var t,n=e._i,r=e._f;return e._locale=e._locale||E(e._l),null===n||void 0===r&&""===n?u({nullInput:!0}):("string"==typeof n&&(e._i=n=e._locale.preparse(n)),f(n)?new h(Z(n)):(i(r)?wt(e):r?yt(e):xt(e),t=new h(Z(e)),t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t))}function xt(t){var n=t._i;void 0===n?t._d=new Date:r(n)?t._d=new Date(+n):"string"==typeof n?et(t):i(n)?(t._a=o(n.slice(0),function(e){return parseInt(e,10)}),gt(t)):"object"==typeof n?Ct(t):"number"==typeof n?t._d=new Date(n):e.createFromInputFallback(t)}function Tt(e,t,i,r,o){var a={};return"boolean"==typeof i&&(r=i,i=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=i,a._i=e,a._f=t,a._strict=r,a._pf=n(),Et(a)}function St(e,t,n,i){return Tt(e,t,n,i,!1)}function Dt(e,t){var n,r;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return St();for(n=t[0],r=1;r<t.length;++r)t[r][e](n)&&(n=t[r]);return n}function Nt(){var e=[].slice.call(arguments,0);return Dt("isBefore",e)}function _t(){var e=[].slice.call(arguments,0);return Dt("isAfter",e)}function kt(e){var t=S(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*s,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=E(),this._bubble()}function At(e){return e instanceof kt}function Rt(e,t){R(e,0,0,function(){var e=this.utcOffset(),n="+";return 0>e&&(e=-e,n="-"),n+A(~~(e/60),2)+t+A(~~e%60,2)})}function Mt(e){var t=(e||"").match(Gi)||[],n=t[t.length-1]||[],i=(n+"").match(vr)||["-",0,0],r=+(60*i[1])+p(i[2]);return"+"===i[0]?r:-r}function Ot(t,n){var i,o;return n._isUTC?(i=n.clone(),o=(f(t)||r(t)?+t:+St(t))-+i,i._d.setTime(+i._d+o),e.updateOffset(i,!1),i):St(t).local()}function Lt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(t,n){var i,r=this._offset||0;return null!=t?("string"==typeof t&&(t=Mt(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&n&&(i=Lt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?Xt(this,Ut(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Lt(this)}function Ht(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Ft(e){return this.utcOffset(0,e)}function Pt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Lt(this),"m")),this}function Bt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Mt(this._i)),this}function jt(e){return e=e?St(e).utcOffset():0,(this.utcOffset()-e)%60===0}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $t(){if(this._a){var e=this._isUTC?l(this._a):St(this._a);return this.isValid()&&m(this._a,e.toArray())>0}return!1}function qt(){return!this._isUTC}function Yt(){return this._isUTC}function Wt(){return this._isUTC&&0===this._offset}function Ut(e,t){var n,i,r,o=e,s=null;return At(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(s=yr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:p(s[tr])*n,h:p(s[nr])*n,m:p(s[ir])*n,s:p(s[rr])*n,ms:p(s[or])*n}):(s=br.exec(e))?(n="-"===s[1]?-1:1,o={y:Vt(s[2],n),M:Vt(s[3],n),d:Vt(s[4],n),h:Vt(s[5],n),m:Vt(s[6],n),s:Vt(s[7],n),w:Vt(s[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=Zt(St(o.from),St(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new kt(o),At(e)&&a(e,"_locale")&&(i._locale=e._locale),i}function Vt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Gt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Zt(e,t){var n;return t=Ot(t,e),e.isBefore(t)?n=Gt(e,t):(n=Gt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Kt(e,t){return function(n,i){var r,o;return null===i||isNaN(+i)||(Q(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period)."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Ut(n,i),Xt(this,r,e),this}}function Xt(t,n,i,r){var o=n._milliseconds,a=n._days,s=n._months;r=null==r?!0:r,o&&t._d.setTime(+t._d+o*i),a&&_(t,"Date",N(t,"Date")+a*i),s&&U(t,N(t,"Month")+s*i),r&&e.updateOffset(t,a||s)}function Qt(e){var t=e||St(),n=Ot(t,this).startOf("day"),i=this.diff(n,"days",!0),r=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(r,this,St(t)))}function Jt(){return new h(this)}function en(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:St(e),+this>+e):(n=f(e)?+e:+St(e),n<+this.clone().startOf(t))}function tn(e,t){var n;return t=T("undefined"!=typeof t?t:"millisecond"),"millisecond"===t?(e=f(e)?e:St(e),+e>+this):(n=f(e)?+e:+St(e),+this.clone().endOf(t)<n)}function nn(e,t,n){return this.isAfter(e,n)&&this.isBefore(t,n)}function rn(e,t){var n;return t=T(t||"millisecond"),"millisecond"===t?(e=f(e)?e:St(e),+this===+e):(n=+St(e),+this.clone().startOf(t)<=n&&n<=+this.clone().endOf(t))}function on(e){return 0>e?Math.ceil(e):Math.floor(e)}function an(e,t,n){var i,r,o=Ot(e,this),a=6e4*(o.utcOffset()-this.utcOffset());return t=T(t),"year"===t||"month"===t||"quarter"===t?(r=sn(this,o),"quarter"===t?r/=3:"year"===t&&(r/=12)):(i=this-o,r="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-a)/864e5:"week"===t?(i-a)/6048e5:i),n?r:on(r)}function sn(e,t){var n,i,r=12*(t.year()-e.year())+(t.month()-e.month()),o=e.clone().add(r,"months");return 0>t-o?(n=e.clone().add(r-1,"months"),i=(t-o)/(o-n)):(n=e.clone().add(r+1,"months"),i=(t-o)/(n-o)),-(r+i)}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function un(t){var n=L(this,t||e.defaultFormat);return this.localeData().postformat(n)}function dn(e,t){return Ut({to:this,from:e}).locale(this.locale()).humanize(!t)}function hn(e){return this.from(St(),e)}function fn(e){var t;return void 0===e?this._locale._abbr:(t=E(e),null!=t&&(this._locale=t),this)}function pn(){return this._locale}function mn(e){switch(e=T(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function gn(e){return e=T(e),void 0===e||"millisecond"===e?this:this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms")}function vn(){return+this._d-6e4*(this._offset||0)}function yn(){return Math.floor(+this/1e3)}function bn(){return this._offset?new Date(+this):this._d}function wn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Cn(){return c(this)}function En(){return s({},this._pf)}function xn(){return this._pf.overflow}function Tn(e,t){R(0,[e,e.length],0,t)}function Sn(e,t,n){return at(St([e,11,31+t-n]),t,n).week}function Dn(e){var t=at(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==e?t:this.add(e-t,"y")}function Nn(e){var t=at(this,1,4).year;return null==e?t:this.add(e-t,"y")}function _n(){return Sn(this.year(),1,4)}function kn(){var e=this.localeData()._week;return Sn(this.year(),e.dow,e.doy)}function An(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Rn(e,t){if("string"==typeof e)if(isNaN(e)){if(e=t.weekdaysParse(e),"number"!=typeof e)return null}else e=parseInt(e,10);return e}function Mn(e){return this._weekdays[e.day()]}function On(e){return this._weekdaysShort[e.day()]}function Ln(e){return this._weekdaysMin[e.day()]}function In(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=St([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t}function Hn(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Rn(e,this.localeData()),this.add(e-t,"d")):t}function Fn(e){var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Pn(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)}function Bn(e,t){R(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function jn(e,t){return t._meridiemParse}function zn(e){return"p"===(e+"").toLowerCase().charAt(0)}function $n(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function qn(e){R(0,[e,3],0,"millisecond")}function Yn(){return this._isUTC?"UTC":""}function Wn(){return this._isUTC?"Coordinated Universal Time":""}function Un(e){return St(1e3*e)}function Vn(){return St.apply(null,arguments).parseZone()}function Gn(e,t,n){var i=this._calendar[e];return"function"==typeof i?i.call(t,n):i}function Zn(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t}function Kn(){return this._invalidDate}function Xn(e){return this._ordinal.replace("%d",e)}function Qn(e){return e}function Jn(e,t,n,i){var r=this._relativeTime[n];return"function"==typeof r?r(e,t,n,i):r.replace(/%d/i,e)}function ei(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)}function ti(e){var t,n;for(n in e)t=e[n],"function"==typeof t?this[n]=t:this["_"+n]=t;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ni(e,t,n,i){var r=E(),o=l().set(i,t);return r[n](o,e)}function ii(e,t,n,i,r){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return ni(e,t,n,r);var o,a=[];for(o=0;i>o;o++)a[o]=ni(e,o,n,r);return a}function ri(e,t){return ii(e,t,"months",12,"month")}function oi(e,t){return ii(e,t,"monthsShort",12,"month")}function ai(e,t){return ii(e,t,"weekdays",7,"day")}function si(e,t){return ii(e,t,"weekdaysShort",7,"day")}function li(e,t){return ii(e,t,"weekdaysMin",7,"day")}function ci(){var e=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),e.milliseconds=zr(e.milliseconds),e.seconds=zr(e.seconds),e.minutes=zr(e.minutes),e.hours=zr(e.hours),e.months=zr(e.months),e.years=zr(e.years),this}function ui(e,t,n,i){var r=Ut(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function di(e,t){return ui(this,e,t,1)}function hi(e,t){return ui(this,e,t,-1)}function fi(){var e,t,n,i=this._milliseconds,r=this._days,o=this._months,a=this._data,s=0;return a.milliseconds=i%1e3,e=on(i/1e3),a.seconds=e%60,t=on(e/60),a.minutes=t%60,n=on(t/60),a.hours=n%24,r+=on(n/24),s=on(pi(r)),r-=on(mi(s)),o+=on(r/30),r%=30,s+=on(o/12),o%=12,a.days=r,a.months=o,a.years=s,this}function pi(e){return 400*e/146097}function mi(e){return 146097*e/400}function gi(e){var t,n,i=this._milliseconds;if(e=T(e),"month"===e||"year"===e)return t=this._days+i/864e5,n=this._months+12*pi(t),"month"===e?n:n/12;switch(t=this._days+Math.round(mi(this._months/12)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 24*t*60+i/6e4;case"second":return 24*t*60*60+i/1e3;case"millisecond":return Math.floor(24*t*60*60*1e3)+i;default:throw new Error("Unknown unit "+e)}}function vi(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*p(this._months/12)}function yi(e){return function(){return this.as(e)}}function bi(e){return e=T(e),this[e+"s"]()}function wi(e){return function(){return this._data[e]}}function Ci(){return on(this.days()/7)}function Ei(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}function xi(e,t,n){var i=Ut(e).abs(),r=io(i.as("s")),o=io(i.as("m")),a=io(i.as("h")),s=io(i.as("d")),l=io(i.as("M")),c=io(i.as("y")),u=r<ro.s&&["s",r]||1===o&&["m"]||o<ro.m&&["mm",o]||1===a&&["h"]||a<ro.h&&["hh",a]||1===s&&["d"]||s<ro.d&&["dd",s]||1===l&&["M"]||l<ro.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Ei.apply(null,u)}function Ti(e,t){return void 0===ro[e]?!1:void 0===t?ro[e]:(ro[e]=t,!0)}function Si(e){var t=this.localeData(),n=xi(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Di(){var e=oo(this.years()),t=oo(this.months()),n=oo(this.days()),i=oo(this.hours()),r=oo(this.minutes()),o=oo(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(i||r||o?"T":"")+(i?i+"H":"")+(r?r+"M":"")+(o?o+"S":""):"P0D"}var Ni,_i,ki=e.momentProperties=[],Ai=!1,Ri={},Mi={},Oi=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Li=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ii={},Hi={},Fi=/\d/,Pi=/\d\d/,Bi=/\d{3}/,ji=/\d{4}/,zi=/[+-]?\d{6}/,$i=/\d\d?/,qi=/\d{1,3}/,Yi=/\d{1,4}/,Wi=/[+-]?\d{1,6}/,Ui=/\d+/,Vi=/[+-]?\d+/,Gi=/Z|[+-]\d\d:?\d\d/gi,Zi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xi={},Qi={},Ji=0,er=1,tr=2,nr=3,ir=4,rr=5,or=6;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),R("MMMM",0,0,function(e){return this.localeData().months(this,e)}),x("month","M"),H("M",$i),H("MM",$i,Pi),H("MMM",Ki),H("MMMM",Ki),B(["M","MM"],function(e,t){t[er]=p(e)-1}),B(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[er]=r:n._pf.invalidMonth=e});var ar="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),lr={};e.suppressDeprecationWarnings=!1;var cr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ur=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],dr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],hr=/^\/?Date\((\-?\d+)/i;e.createFromInputFallback=X("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),x("year","y"),H("Y",Vi),H("YY",$i,Pi),H("YYYY",Yi,ji),H("YYYYY",Wi,zi),H("YYYYYY",Wi,zi),B(["YYYY","YYYYY","YYYYYY"],Ji),B("YY",function(t,n){n[Ji]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(e){return p(e)+(p(e)>68?1900:2e3)};var fr=D("FullYear",!1);R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),H("w",$i),H("ww",$i,Pi),H("W",$i),H("WW",$i,Pi),j(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=p(e)});var pr={dow:0,doy:6};R("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),H("DDD",qi),H("DDDD",Bi),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=p(e)}),e.ISO_8601=function(){};var mr=X("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var e=St.apply(null,arguments);return this>e?this:e}),gr=X("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var e=St.apply(null,arguments);return e>this?this:e});Rt("Z",":"),Rt("ZZ",""),H("Z",Gi),H("ZZ",Gi),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Mt(e)});var vr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var yr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,br=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Ut.fn=kt.prototype;var wr=Kt(1,"add"),Cr=Kt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Er=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),H("G",Vi),H("g",Vi),H("GG",$i,Pi),H("gg",$i,Pi),H("GGGG",Yi,ji),H("gggg",Yi,ji),H("GGGGG",Wi,zi),H("ggggg",Wi,zi),j(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=p(e)}),j(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),R("Q",0,0,"quarter"),x("quarter","Q"),H("Q",Fi),B("Q",function(e,t){t[er]=3*(p(e)-1)}),R("D",["DD",2],"Do","date"),x("date","D"),H("D",$i),H("DD",$i,Pi),H("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),B(["D","DD"],tr),B("Do",function(e,t){t[tr]=p(e.match($i)[0],10)});var xr=D("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),R("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),R("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),H("d",$i),H("e",$i),H("E",$i),H("dd",Ki),H("ddd",Ki),H("dddd",Ki),j(["dd","ddd","dddd"],function(e,t,n){var i=n._locale.weekdaysParse(e);null!=i?t.d=i:n._pf.invalidWeekday=e}),j(["d","e","E"],function(e,t,n,i){t[i]=p(e)});var Tr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Sr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Dr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("H",["HH",2],0,"hour"),R("h",["hh",2],0,function(){return this.hours()%12||12}),Bn("a",!0),Bn("A",!1),x("hour","h"),H("a",jn),H("A",jn),H("H",$i),H("h",$i),H("HH",$i,Pi),H("hh",$i,Pi),B(["H","HH"],nr),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[nr]=p(e),n._pf.bigHour=!0});var Nr=/[ap]\.?m?\.?/i,_r=D("Hours",!0);R("m",["mm",2],0,"minute"),x("minute","m"),H("m",$i),H("mm",$i,Pi),B(["m","mm"],ir);var kr=D("Minutes",!1);R("s",["ss",2],0,"second"),x("second","s"),H("s",$i),H("ss",$i,Pi),B(["s","ss"],rr);var Ar=D("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),qn("SSS"),qn("SSSS"),x("millisecond","ms"),H("S",qi,Fi),H("SS",qi,Pi),H("SSS",qi,Bi),H("SSSS",Ui),B(["S","SS","SSS","SSSS"],function(e,t){t[or]=p(1e3*("0."+e))});var Rr=D("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Mr=h.prototype;Mr.add=wr,Mr.calendar=Qt,Mr.clone=Jt,Mr.diff=an,Mr.endOf=gn,Mr.format=un,Mr.from=dn,Mr.fromNow=hn,Mr.get=k,Mr.invalidAt=xn,Mr.isAfter=en,Mr.isBefore=tn,Mr.isBetween=nn,Mr.isSame=rn,Mr.isValid=Cn,Mr.lang=Er,Mr.locale=fn,Mr.localeData=pn,Mr.max=gr,Mr.min=mr,Mr.parsingFlags=En,Mr.set=k,Mr.startOf=mn,Mr.subtract=Cr,Mr.toArray=wn,Mr.toDate=bn,Mr.toISOString=cn,Mr.toJSON=cn,Mr.toString=ln,Mr.unix=yn,Mr.valueOf=vn,Mr.year=fr,Mr.isLeapYear=ot,Mr.weekYear=Dn,Mr.isoWeekYear=Nn,Mr.quarter=Mr.quarters=An,Mr.month=V,Mr.daysInMonth=G,Mr.week=Mr.weeks=ut,Mr.isoWeek=Mr.isoWeeks=dt,Mr.weeksInYear=kn,Mr.isoWeeksInYear=_n,Mr.date=xr,Mr.day=Mr.days=Hn,Mr.weekday=Fn,Mr.isoWeekday=Pn,Mr.dayOfYear=ft,Mr.hour=Mr.hours=_r,Mr.minute=Mr.minutes=kr,Mr.second=Mr.seconds=Ar,Mr.millisecond=Mr.milliseconds=Rr,Mr.utcOffset=It,Mr.utc=Ft,Mr.local=Pt,Mr.parseZone=Bt,Mr.hasAlignedHourOffset=jt,Mr.isDST=zt,Mr.isDSTShifted=$t,Mr.isLocal=qt,Mr.isUtcOffset=Yt,Mr.isUtc=Wt,Mr.isUTC=Wt,Mr.zoneAbbr=Yn,Mr.zoneName=Wn,Mr.dates=X("dates accessor is deprecated. Use date instead.",xr),Mr.months=X("months accessor is deprecated. Use month instead",V),Mr.years=X("years accessor is deprecated. Use year instead",fr),Mr.zone=X("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ht);var Or=Mr,Lr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ir={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Hr="Invalid date",Fr="%d",Pr=/\d{1,2}/,Br={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},jr=g.prototype;jr._calendar=Lr,jr.calendar=Gn,jr._longDateFormat=Ir,jr.longDateFormat=Zn,jr._invalidDate=Hr,jr.invalidDate=Kn,jr._ordinal=Fr,jr.ordinal=Xn,jr._ordinalParse=Pr,jr.preparse=Qn,jr.postformat=Qn,jr._relativeTime=Br,jr.relativeTime=Jn,jr.pastFuture=ei,jr.set=ti,jr.months=q,jr._months=ar,jr.monthsShort=Y,jr._monthsShort=sr,jr.monthsParse=W,jr.week=st,jr._week=pr,jr.firstDayOfYear=ct,jr.firstDayOfWeek=lt,jr.weekdays=Mn,jr._weekdays=Tr,jr.weekdaysMin=Ln,jr._weekdaysMin=Dr,jr.weekdaysShort=On,jr._weekdaysShort=Sr,jr.weekdaysParse=In,jr.isPM=zn,jr._meridiemParse=Nr,jr.meridiem=$n,w("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===p(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",w),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",E);var zr=Math.abs,$r=yi("ms"),qr=yi("s"),Yr=yi("m"),Wr=yi("h"),Ur=yi("d"),Vr=yi("w"),Gr=yi("M"),Zr=yi("y"),Kr=wi("milliseconds"),Xr=wi("seconds"),Qr=wi("minutes"),Jr=wi("hours"),eo=wi("days"),to=wi("months"),no=wi("years"),io=Math.round,ro={s:45,m:45,h:22,d:26,M:11},oo=Math.abs,ao=kt.prototype;
ao.abs=ci,ao.add=di,ao.subtract=hi,ao.as=gi,ao.asMilliseconds=$r,ao.asSeconds=qr,ao.asMinutes=Yr,ao.asHours=Wr,ao.asDays=Ur,ao.asWeeks=Vr,ao.asMonths=Gr,ao.asYears=Zr,ao.valueOf=vi,ao._bubble=fi,ao.get=bi,ao.milliseconds=Kr,ao.seconds=Xr,ao.minutes=Qr,ao.hours=Jr,ao.days=eo,ao.weeks=Ci,ao.months=to,ao.years=no,ao.humanize=Si,ao.toISOString=Di,ao.toString=Di,ao.toJSON=Di,ao.locale=fn,ao.localeData=pn,ao.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Di),ao.lang=Er,R("X",0,0,"unix"),R("x",0,0,"valueOf"),H("x",Vi),H("X",Zi),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(p(e))}),e.version="2.10.2",t(St),e.fn=Or,e.min=Nt,e.max=_t,e.utc=l,e.unix=Un,e.months=ri,e.isDate=r,e.locale=w,e.invalid=u,e.duration=Ut,e.isMoment=f,e.weekdays=ai,e.parseZone=Vn,e.localeData=E,e.isDuration=At,e.monthsShort=oi,e.weekdaysMin=li,e.defineLocale=C,e.weekdaysShort=si,e.normalizeUnits=T,e.relativeTimeThreshold=Ti;var so=e;return so}),/*
 //! version : 4.0.0
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 =========================================================
 The MIT License (MIT)

 Copyright (c) 2015 Jonathan Peterson

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in
 all copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 THE SOFTWARE.
 */
function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)e(require("jquery"),require("moment"));else{if(!jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if(!moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var r,o,a,s,l,c={},u=t(),d=u.clone(),h=!0,f=!1,p=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10}],v=["days","months","years"],y=["top","bottom","auto"],b=["left","right","auto"],w=["default","top","bottom"],C=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==a.indexOf("Y");case"M":return-1!==a.indexOf("M");case"d":return-1!==a.toLowerCase().indexOf("d");case"h":case"H":return-1!==a.toLowerCase().indexOf("h");case"m":return-1!==a.indexOf("m");case"s":return-1!==a.indexOf("s");default:return!1}},E=function(){return C("h")||C("m")||C("s")},x=function(){return C("y")||C("M")||C("d")},T=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(i.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(i.icons.next)))),n=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))]},S=function(){var t=e("<tr>"),n=e("<tr>"),r=e("<tr>");return C("h")&&(t.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr("data-time-component","hours").attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(i.icons.down))))),C("m")&&(C("h")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr("data-time-component","minutes").attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(i.icons.down))))),C("s")&&(C("m")&&(t.append(e("<td>").addClass("separator")),n.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(i.icons.up)))),n.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr("data-time-component","seconds").attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr("href","#").addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(i.icons.down))))),o||(t.append(e("<td>").addClass("separator")),n.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr("data-action","togglePeriod"))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,n,r]))},D=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[S()];return C("h")&&r.push(t),C("m")&&r.push(n),C("s")&&r.push(i),r},N=function(){var t=[];return i.showTodayButton&&t.push(e("<td>").append(e("<a>").attr("data-action","today").append(e("<span>").addClass(i.icons.today)))),!i.sideBySide&&x()&&E()&&t.push(e("<td>").append(e("<a>").attr("data-action","togglePicker").append(e("<span>").addClass(i.icons.time)))),i.showClear&&t.push(e("<td>").append(e("<a>").attr("data-action","clear").append(e("<span>").addClass(i.icons.clear)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},_=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=e("<div>").addClass("datepicker").append(T()),r=e("<div>").addClass("timepicker").append(D()),a=e("<ul>").addClass("list-unstyled"),s=e("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(N());return o&&t.addClass("usetwentyfour"),i.sideBySide&&x()&&E()?(t.addClass("timepicker-sbs"),t.append(e("<div>").addClass("row").append(n.addClass("col-sm-6")).append(r.addClass("col-sm-6"))),t.append(s),t):("top"===i.toolbarPlacement&&a.append(s),x()&&a.append(e("<li>").addClass(i.collapse&&E()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&a.append(s),E()&&a.append(e("<li>").addClass(i.collapse&&x()?"collapse":"").append(r)),"bottom"===i.toolbarPlacement&&a.append(s),t.append(a))},k=function(){var t=n.data(),r={};return t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(i,function(e){var n="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[n]&&(r[e]=t[n])}),r},A=function(){var t,r=(f||n).position(),o=i.widgetPositioning.vertical,a=i.widgetPositioning.horizontal;if(i.widgetParent?t=i.widgetParent.append(p):n.is("input")?t=n.parent().append(p):(t=n,n.children().first().after(p)),"auto"===o&&(o=(f||n).offset().top+p.height()>e(window).height()+e(window).scrollTop()&&p.height()+n.outerHeight()<(f||n).offset().top?"top":"bottom"),"auto"===a&&(a=t.width()<r.left+p.outerWidth()?"right":"left"),"top"===o?p.addClass("top").removeClass("bottom"):p.addClass("bottom").removeClass("top"),"right"===a?p.addClass("pull-right"):p.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");p.css({top:"top"===o?"auto":r.top+n.outerHeight(),bottom:"top"===o?r.top+n.outerHeight():"auto",left:"left"===a?t.css("padding-left"):"auto",right:"left"===a?"auto":t.css("padding-right")})},R=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||n.trigger(e)},M=function(e){p&&(e&&(l=Math.max(m,Math.min(2,l+e))),p.find(".datepicker > div").hide().filter(".datepicker-"+g[l].clsName).show())},O=function(){var t=e("<tr>"),n=d.clone().startOf("w");for(i.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));n.isBefore(d.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");p.find(".datepicker-days thead").append(t)},L=function(e){return i.disabledDates?i.disabledDates[e.format("YYYY-MM-DD")]===!0:!1},I=function(e){return i.enabledDates?i.enabledDates[e.format("YYYY-MM-DD")]===!0:!1},H=function(e,t){return e.isValid()?i.disabledDates&&L(e)?!1:i.enabledDates&&I(e)?!0:i.minDate&&e.isBefore(i.minDate,t)?!1:i.maxDate&&e.isAfter(i.maxDate,t)?!1:"d"===t&&-1!==i.daysOfWeekDisabled.indexOf(e.day())?!1:!0:!1},F=function(){for(var t=[],n=d.clone().startOf("y").hour(12);n.isSame(d,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");p.find(".datepicker-months td").empty().append(t)},P=function(){var t=p.find(".datepicker-months"),n=t.find("th"),i=t.find("tbody").find("span");t.find(".disabled").removeClass("disabled"),H(d.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(d.year()),H(d.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),i.removeClass("active"),u.isSame(d,"y")&&i.eq(u.month()).addClass("active"),i.each(function(t){H(d.clone().month(t),"M")||e(this).addClass("disabled")})},B=function(){var e=p.find(".datepicker-years"),t=e.find("th"),n=d.clone().subtract(5,"y"),r=d.clone().add(6,"y"),o="";for(e.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+r.year()),i.maxDate&&i.maxDate.isBefore(r,"y")&&t.eq(2).addClass("disabled");!n.isAfter(r,"y");)o+='<span data-action="selectYear" class="year'+(n.isSame(u,"y")?" active":"")+(H(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(o)},j=function(){var n,r,o,a=p.find(".datepicker-days"),s=a.find("th"),l=[];if(x()){for(a.find(".disabled").removeClass("disabled"),s.eq(1).text(d.format(i.dayViewHeaderFormat)),H(d.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),H(d.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),n=d.clone().startOf("M").startOf("week");!d.clone().endOf("M").endOf("w").isBefore(n,"d");)0===n.weekday()&&(r=e("<tr>"),i.calendarWeeks&&r.append('<td class="cw">'+n.week()+"</td>"),l.push(r)),o="",n.isBefore(d,"M")&&(o+=" old"),n.isAfter(d,"M")&&(o+=" new"),n.isSame(u,"d")&&!h&&(o+=" active"),H(n,"d")||(o+=" disabled"),n.isSame(t(),"d")&&(o+=" today"),(0===n.day()||6===n.day())&&(o+=" weekend"),r.append('<td data-action="selectDay" class="day'+o+'">'+n.date()+"</td>"),n.add(1,"d");a.find("tbody").empty().append(l),P(),B()}},z=function(){var t=p.find(".timepicker-hours table"),n=d.clone().startOf("d"),i=[],r=e("<tr>");for(d.hour()>11&&!o&&n.hour(12);n.isSame(d,"d")&&(o||d.hour()<12&&n.hour()<12||d.hour()>11);)n.hour()%4===0&&(r=e("<tr>"),i.push(r)),r.append('<td data-action="selectHour" class="hour'+(H(n,"h")?"":" disabled")+'">'+n.format(o?"HH":"hh")+"</td>"),n.add(1,"h");t.empty().append(i)},$=function(){for(var t=p.find(".timepicker-minutes table"),n=d.clone().startOf("h"),r=[],o=e("<tr>"),a=1===i.stepping?5:i.stepping;d.isSame(n,"h");)n.minute()%(4*a)===0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(H(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(a,"m");t.empty().append(r)},q=function(){for(var t=p.find(".timepicker-seconds table"),n=d.clone().startOf("m"),i=[],r=e("<tr>");d.isSame(n,"m");)n.second()%20===0&&(r=e("<tr>"),i.push(r)),r.append('<td data-action="selectSecond" class="second'+(H(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");t.empty().append(i)},Y=function(){var e=p.find(".timepicker span[data-time-component]");o||p.find(".timepicker [data-action=togglePeriod]").text(u.format("A")),e.filter("[data-time-component=hours]").text(u.format(o?"HH":"hh")),e.filter("[data-time-component=minutes]").text(u.format("mm")),e.filter("[data-time-component=seconds]").text(u.format("ss")),z(),$(),q()},W=function(){p&&(j(),Y())},U=function(e){var t=h?null:u;return e?(e=e.clone().locale(i.locale),1!==i.stepping&&e.minutes(Math.round(e.minutes()/i.stepping)*i.stepping%60).seconds(0),void(H(e)?(u=e,d=u.clone(),r.val(u.format(a)),n.data("date",u.format(a)),W(),h=!1,R({type:"dp.change",date:u.clone(),oldDate:t})):(r.val(h?"":u.format(a)),R({type:"dp.error",date:e})))):(h=!0,r.val(""),n.data("date",""),R({type:"dp.change",date:null,oldDate:t}),void W())},V=function(){var t=!1;return p?(p.find(".collapse").each(function(){var n=e(this).data("collapse");return n&&n.transitioning?(t=!0,!1):void 0}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),p.hide(),e(window).off("resize",A),p.off("click","[data-action]"),p.off("mousedown",!1),p.remove(),p=!1,R({type:"dp.hide",date:u.clone()}),c)):c},G={next:function(){d.add(g[l].navStep,g[l].navFnc),j()},previous:function(){d.subtract(g[l].navStep,g[l].navFnc),j()},pickerSwitch:function(){M(1)},selectMonth:function(t){var n=e(t.target).closest("tbody").find("span").index(e(t.target));d.month(n),l===m&&(U(u.clone().year(d.year()).month(d.month())),V()),M(-1),j()},selectYear:function(t){var n=parseInt(e(t.target).text(),10)||0;d.year(n),l===m&&(U(u.clone().year(d.year())),V()),M(-1),j()},selectDay:function(t){var n=d.clone();e(t.target).is(".old")&&n.subtract(1,"M"),e(t.target).is(".new")&&n.add(1,"M"),U(n.date(parseInt(e(t.target).text(),10))),E()||i.keepOpen||V()},incrementHours:function(){U(u.clone().add(1,"h"))},incrementMinutes:function(){U(u.clone().add(i.stepping,"m"))},incrementSeconds:function(){U(u.clone().add(1,"s"))},decrementHours:function(){U(u.clone().subtract(1,"h"))},decrementMinutes:function(){U(u.clone().subtract(i.stepping,"m"))},decrementSeconds:function(){U(u.clone().subtract(1,"s"))},togglePeriod:function(){U(u.clone().add(u.hours()>=12?-12:12,"h"))},togglePicker:function(t){var n,r=e(t.target),o=r.closest("ul"),a=o.find(".in"),s=o.find(".collapse:not(.in)");if(a&&a.length){if(n=a.data("collapse"),n&&n.transitioning)return;a.collapse("hide"),s.collapse("show"),r.is("span")?r.toggleClass(i.icons.time+" "+i.icons.date):r.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){p.find(".timepicker > div:not(.timepicker-picker)").hide(),p.find(".timepicker .timepicker-picker").show()},showHours:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-hours").show()},showMinutes:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){p.find(".timepicker .timepicker-picker").hide(),p.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var n=parseInt(e(t.target).text(),10);o||(u.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),U(u.clone().hours(n)),G.showPicker.call(c)},selectMinute:function(t){U(u.clone().minutes(parseInt(e(t.target).text(),10))),G.showPicker.call(c)},selectSecond:function(t){U(u.clone().seconds(parseInt(e(t.target).text(),10))),G.showPicker.call(c)},clear:function(){U(null)},today:function(){U(t())}},Z=function(t){return e(t.currentTarget).is(".disabled")?!1:(G[e(t.currentTarget).data("action")].apply(c,arguments),!1)},K=function(){var n,o={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return r.prop("disabled")||r.prop("readonly")||p?c:(i.useCurrent&&h&&(n=t(),"string"==typeof i.useCurrent&&(n=o[i.useCurrent](n)),U(n)),p=_(),O(),F(),p.find(".timepicker-hours").hide(),p.find(".timepicker-minutes").hide(),p.find(".timepicker-seconds").hide(),W(),M(),e(window).on("resize",A),p.on("click","[data-action]",Z),p.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),p.show(),A(),r.is(":focus")||r.focus(),R({type:"dp.show"}),c)},X=function(){return p?V():K()},Q=function(e){return e=t.isMoment(e)||e instanceof Date?t(e):t(e,s,i.useStrict),e.locale(i.locale),e},J=function(e){27===e.keyCode&&V()},et=function(t){var n=e(t.target).val().trim(),i=n?Q(n):null;return U(i),t.stopImmediatePropagation(),!1},tt=function(){r.on({change:et,blur:V,keydown:J}),n.is("input")?r.on({focus:K}):f&&(f.on("click",X),f.on("mousedown",!1))},nt=function(){r.off({change:et,blur:V,keydown:J}),n.is("input")?r.off({focus:K}):f&&(f.off("click",X),f.off("mousedown",!1))},it=function(t){var n={};return e.each(t,function(){var e=Q(this);e.isValid()&&(n[e.format("YYYY-MM-DD")]=!0)}),Object.keys(n).length?n:!1},rt=function(){var e=i.format||"L LT";a=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return u.localeData().longDateFormat(e)||e}),s=i.extraFormats?i.extraFormats.slice():[],s.indexOf(e)<0&&s.indexOf(a)<0&&s.push(a),o=a.toLowerCase().indexOf("a")<1&&a.indexOf("h")<1,C("y")&&(m=2),C("M")&&(m=1),C("d")&&(m=0),l=Math.max(m,l),h||U(u)};if(c.destroy=function(){V(),nt(),n.removeData("DateTimePicker"),n.removeData("date")},c.toggle=X,c.show=K,c.hide=V,c.disable=function(){return V(),f&&f.hasClass("btn")&&f.addClass("disabled"),r.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),r.prop("disabled",!1),c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},i);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,i,t),e.each(i,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return h?null:u.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return U(null===e?null:Q(e)),c},c.format=function(e){if(0===arguments.length)return i.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return i.format=e,a&&rt(),c},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return i.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=e,s&&rt(),c},c.disabledDates=function(t){if(0===arguments.length)return i.disabledDates?e.extend({},i.disabledDates):i.disabledDates;if(!t)return i.disabledDates=!1,W(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=it(t),i.enabledDates=!1,W(),c},c.enabledDates=function(t){if(0===arguments.length)return i.enabledDates?e.extend({},i.enabledDates):i.enabledDates;if(!t)return i.enabledDates=!1,W(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=it(t),i.disabledDates=!1,W(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");return i.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||0>t||isNaN(t)?e:(-1===e.indexOf(t)&&e.push(t),e)},[]).sort(),W(),c},c.maxDate=function(e){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof e&&e===!1)return i.maxDate=!1,W(),c;var t=Q(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(i.minDate&&t.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(a));return i.maxDate=t,i.maxDate.isBefore(e)&&U(i.maxDate),W(),c},c.minDate=function(e){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof e&&e===!1)return i.minDate=!1,W(),c;var t=Q(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(i.maxDate&&t.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(a));return i.minDate=t,i.minDate.isAfter(e)&&U(i.minDate),W(),c},c.defaultDate=function(e){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!e)return i.defaultDate=!1,c;var t=Q(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!H(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=t,i.defaultDate&&""===r.val().trim()&&U(i.defaultDate),c},c.locale=function(e){if(0===arguments.length)return i.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return i.locale=e,u.locale(i.locale),d.locale(i.locale),a&&rt(),p&&(V(),K()),c},c.stepping=function(e){return 0===arguments.length?i.stepping:(e=parseInt(e,10),(isNaN(e)||1>e)&&(e=1),i.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return i.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return i.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===e?c:(i.collapse=e,p&&(V(),K()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},i.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(i.icons,t),p&&(V(),K()),c},c.useStrict=function(e){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=e,p&&(V(),K()),c},c.viewMode=function(e){if(0===arguments.length)return i.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=e,l=Math.max(v.indexOf(e),m),M(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return i.toolbarPlacement=e,p&&(V(),K()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===b.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===y.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.vertical=t.vertical}return W(),c},c.calendarWeeks=function(e){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=e,W(),c},c.showTodayButton=function(e){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=e,p&&(V(),K()),c},c.showClear=function(e){if(0===arguments.length)return i.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=e,p&&(V(),K()),c},c.widgetParent=function(t){if(0===arguments.length)return i.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof jQuery))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=t,p&&(V(),K()),c},c.keepOpen=function(e){if(0===arguments.length)return i.format;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=e,c},n.is("input"))r=n;else if(r=n.find(".datepickerinput"),0===r.size())r=n.find("input");else if(!r.is("input"))throw new Error('CSS class "datepickerinput" cannot be applied to non input element');if(n.hasClass("input-group")&&(f=n.find(0===n.find(".datepickerbutton").size()?'[class^="input-group-"]':".datepickerbutton")),!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return e.extend(!0,i,k()),c.options(i),rt(),tt(),r.prop("disabled")&&c.disable(),0!==r.val().trim().length?U(Q(r.val().trim())):i.defaultDate&&U(i.defaultDate),c};e.fn.datetimepicker=function(t){return this.each(function(){var i=e(this);i.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),i.data("DateTimePicker",n(i,t)))})},e.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:[],calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,keepOpen:!1}}),/*!
 * FullCalendar v2.3.1
 * Docs & License: http://fullcalendar.io/
 * (c) 2015 Adam Shaw
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","moment"],e):"object"==typeof exports?module.exports=e(require("jquery"),require("moment")):e(jQuery,moment)}(function(e,t){function n(){var t,n,i,r,o,a=Array.prototype.slice.call(arguments),s={};for(t=0;t<Ht.length;t++){for(n=Ht[t],i=null,r=0;r<a.length;r++)o=a[r][n],e.isPlainObject(o)?i=e.extend(i||{},o):null!=o&&(i=null);null!==i&&(s[n]=i)}return a.unshift({}),a.push(s),e.extend.apply(e,a)}function i(t){var n,i={views:t.views||{}};return e.each(t,function(t,r){"views"!=t&&(e.isPlainObject(r)&&!/(time|duration|interval)$/i.test(t)&&-1==e.inArray(t,Ht)?(n=null,e.each(r,function(e,r){/^(month|week|day|default|basic(Week|Day)?|agenda(Week|Day)?)$/.test(e)?(i.views[e]||(i.views[e]={}),i.views[e][t]=r):(n||(n={}),n[e]=r)}),n&&(i[t]=n)):i[t]=r)}),i}function r(e,t){t.left&&e.css({"border-left-width":1,"margin-left":t.left-1}),t.right&&e.css({"border-right-width":1,"margin-right":t.right-1})}function o(e){e.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})}function a(){e("body").addClass("fc-not-allowed")}function s(){e("body").removeClass("fc-not-allowed")}function l(t,n,i){var r=Math.floor(n/t.length),o=Math.floor(n-r*(t.length-1)),a=[],s=[],l=[],u=0;c(t),t.each(function(n,i){var c=n===t.length-1?o:r,d=e(i).outerHeight(!0);c>d?(a.push(i),s.push(d),l.push(e(i).height())):u+=d}),i&&(n-=u,r=Math.floor(n/a.length),o=Math.floor(n-r*(a.length-1))),e(a).each(function(t,n){var i=t===a.length-1?o:r,c=s[t],u=l[t],d=i-(c-u);i>c&&e(n).height(d)})}function c(e){e.height("")}function u(t){var n=0;return t.find("> *").each(function(t,i){var r=e(i).outerWidth();r>n&&(n=r)}),n++,t.width(n),n}function d(e,t){return e.height(t).addClass("fc-scroller"),e[0].scrollHeight-1>e[0].clientHeight?!0:(h(e),!1)}function h(e){e.height("").removeClass("fc-scroller")}function f(t){var n=t.css("position"),i=t.parents().filter(function(){var t=e(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(t[0].ownerDocument||document)}function p(e){var t=e.offset();return{left:t.left,right:t.left+e.outerWidth(),top:t.top,bottom:t.top+e.outerHeight()}}function m(e){var t=e.offset(),n=v(e),i=t.left+w(e,"border-left-width")+n.left,r=t.top+w(e,"border-top-width")+n.top;return{left:i,right:i+e[0].clientWidth,top:r,bottom:r+e[0].clientHeight}}function g(e){var t=e.offset(),n=t.left+w(e,"border-left-width")+w(e,"padding-left"),i=t.top+w(e,"border-top-width")+w(e,"padding-top");return{left:n,right:n+e.width(),top:i,bottom:i+e.height()}}function v(e){var t=e.innerWidth()-e[0].clientWidth,n={left:0,right:0,top:0,bottom:e.innerHeight()-e[0].clientHeight};return y()&&"rtl"==e.css("direction")?n.left=t:n.right=t,n}function y(){return null===Ft&&(Ft=b()),Ft}function b(){var t=e("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body"),n=t.children(),i=n.offset().left>t.offset().left;return t.remove(),i}function w(e,t){return parseFloat(e.css(t))||0}function C(e){return 1==e.which&&!e.ctrlKey}function E(e,t){var n={left:Math.max(e.left,t.left),right:Math.min(e.right,t.right),top:Math.max(e.top,t.top),bottom:Math.min(e.bottom,t.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function x(e,t){return{left:Math.min(Math.max(e.left,t.left),t.right),top:Math.min(Math.max(e.top,t.top),t.bottom)}}function T(e){return{left:(e.left+e.right)/2,top:(e.top+e.bottom)/2}}function S(e,t){return{left:e.left-t.left,top:e.top-t.top}}function D(e,t){var n,i,r,o,a=e.start,s=e.end,l=t.start,c=t.end;return s>l&&c>a?(a>=l?(n=a.clone(),r=!0):(n=l.clone(),r=!1),c>=s?(i=s.clone(),o=!0):(i=c.clone(),o=!1),{start:n,end:i,isStart:r,isEnd:o}):void 0}function N(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days"),ms:e.time()-n.time()})}function _(e,n){return t.duration({days:e.clone().stripTime().diff(n.clone().stripTime(),"days")})}function k(e,n,i){return t.duration(Math.round(e.diff(n,i,!0)),i)}function A(e,t){var n,i,r;for(n=0;n<$t.length&&(i=$t[n],r=R(i,e,t),!(r>=1&&V(r)));n++);return i}function R(e,n,i){return null!=i?i.diff(n,e,!0):t.isDuration(n)?n.as(e):n.end.diff(n.start,e,!0)}function M(e){return Boolean(e.hours()||e.minutes()||e.seconds()||e.milliseconds())}function O(e){return"[object Date]"===Object.prototype.toString.call(e)||e instanceof Date}function L(e){return/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(e)}function I(e){var t=function(){};return t.prototype=e,new t}function H(e,t){for(var n in e)P(e,n)&&(t[n]=e[n])}function F(e,t){var n,i,r=["constructor","toString","valueOf"];for(n=0;n<r.length;n++)i=r[n],e[i]!==Object.prototype[i]&&(t[i]=e[i])}function P(e,t){return qt.call(e,t)}function B(t){return/undefined|null|boolean|number|string/.test(e.type(t))}function j(t,n,i){if(e.isFunction(t)&&(t=[t]),t){var r,o;for(r=0;r<t.length;r++)o=t[r].apply(n,i)||o;return o}}function z(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e]}function $(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function q(e){return e.replace(/&.*?;/g,"")}function Y(t){var n=[];return e.each(t,function(e,t){null!=t&&n.push(e+":"+t)}),n.join(";")}function W(e){return e.charAt(0).toUpperCase()+e.slice(1)}function U(e,t){return e-t}function V(e){return e%1===0}function G(e,t){var n=e[t];return function(){return n.apply(e,arguments)}}function Z(e,t){var n,i,r,o,a=function(){var s=+new Date-o;t>s&&s>0?n=setTimeout(a,t-s):(n=null,e.apply(r,i),n||(r=i=null))};return function(){r=this,i=arguments,o=+new Date,n||(n=setTimeout(a,t))}}function K(n,i,r){var o,a,s,l,c=n[0],u=1==n.length&&"string"==typeof c;return t.isMoment(c)?(l=t.apply(null,n),Q(c,l)):O(c)||void 0===c?l=t.apply(null,n):(o=!1,a=!1,u?Yt.test(c)?(c+="-01",n=[c],o=!0,a=!0):(s=Wt.exec(c))&&(o=!s[5],a=!0):e.isArray(c)&&(a=!0),l=i||o?t.utc.apply(t,n):t.apply(null,n),o?(l._ambigTime=!0,l._ambigZone=!0):r&&(a?l._ambigZone=!0:u&&(l.utcOffset?l.utcOffset(c):l.zone(c)))),l._fullCalendar=!0,l}function X(e,n){var i,r,o=!1,a=!1,s=e.length,l=[];for(i=0;s>i;i++)r=e[i],t.isMoment(r)||(r=Lt.moment.parseZone(r)),o=o||r._ambigTime,a=a||r._ambigZone,l.push(r);for(i=0;s>i;i++)r=l[i],n||!o||r._ambigTime?a&&!r._ambigZone&&(l[i]=r.clone().stripZone()):l[i]=r.clone().stripTime();return l}function Q(e,t){e._ambigTime?t._ambigTime=!0:t._ambigTime&&(t._ambigTime=!1),e._ambigZone?t._ambigZone=!0:t._ambigZone&&(t._ambigZone=!1)}function J(e,t){e.year(t[0]||0).month(t[1]||0).date(t[2]||0).hours(t[3]||0).minutes(t[4]||0).seconds(t[5]||0).milliseconds(t[6]||0)}function et(e,t){return Vt.format.call(e,t)}function tt(e,t){return nt(e,st(t))}function nt(e,t){var n,i="";for(n=0;n<t.length;n++)i+=it(e,t[n]);return i}function it(e,t){var n,i;return"string"==typeof t?t:(n=t.token)?Gt[n]?Gt[n](e):et(e,n):t.maybe&&(i=nt(e,t.maybe),i.match(/[1-9]/))?i:""}function rt(e,t,n,i,r){var o;return e=Lt.moment.parseZone(e),t=Lt.moment.parseZone(t),o=(e.localeData||e.lang).call(e),n=o.longDateFormat(n)||n,i=i||" - ",ot(e,t,st(n),i,r)}function ot(e,t,n,i,r){var o,a,s,l,c="",u="",d="",h="",f="";for(a=0;a<n.length&&(o=at(e,t,n[a]),o!==!1);a++)c+=o;for(s=n.length-1;s>a&&(o=at(e,t,n[s]),o!==!1);s--)u=o+u;for(l=a;s>=l;l++)d+=it(e,n[l]),h+=it(t,n[l]);return(d||h)&&(f=r?h+i+d:d+i+h),c+f+u}function at(e,t,n){var i,r;return"string"==typeof n?n:(i=n.token)&&(r=Zt[i.charAt(0)],r&&e.isSame(t,r))?et(e,i):!1}function st(e){return e in Kt?Kt[e]:Kt[e]=lt(e)}function lt(e){for(var t,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;t=i.exec(e);)t[1]?n.push(t[1]):t[2]?n.push({maybe:lt(t[2])}):t[3]?n.push({token:t[3]}):t[5]&&n.push(t[5]);return n}function ct(){}function ut(e,t){return e||t?e&&t?e.grid===t.grid&&e.row===t.row&&e.col===t.col:!1:!0}function dt(e){var t=ft(e);return"background"===t||"inverse-background"===t}function ht(e){return"inverse-background"===ft(e)}function ft(e){return z((e.source||{}).rendering,e.rendering)}function pt(e){var t,n,i={};for(t=0;t<e.length;t++)n=e[t],(i[n._id]||(i[n._id]=[])).push(n);return i}function mt(e,t){return e.eventStartMS-t.eventStartMS}function gt(e,t){return e.eventStartMS-t.eventStartMS||t.eventDurationMS-e.eventDurationMS||t.event.allDay-e.event.allDay||(e.event.title||"").localeCompare(t.event.title)}function vt(n){var i,r,o,a,s=Lt.dataAttrPrefix;return s&&(s+="-"),i=n.data(s+"event")||null,i&&(i="object"==typeof i?e.extend({},i):{},r=i.start,null==r&&(r=i.time),o=i.duration,a=i.stick,delete i.start,delete i.time,delete i.duration,delete i.stick),null==r&&(r=n.data(s+"start")),null==r&&(r=n.data(s+"time")),null==o&&(o=n.data(s+"duration")),null==a&&(a=n.data(s+"stick")),r=null!=r?t.duration(r):null,o=null!=o?t.duration(o):null,a=Boolean(a),{eventProps:i,startTime:r,duration:o,stick:a}}function yt(e,t){var n,i;for(n=0;n<t.length;n++)if(i=t[n],i.leftCol<=e.rightCol&&i.rightCol>=e.leftCol)return!0;return!1}function bt(e,t){return e.leftCol-t.leftCol}function wt(e){var t,n,i;if(e.sort(gt),t=Ct(e),Et(t),n=t[0]){for(i=0;i<n.length;i++)xt(n[i]);for(i=0;i<n.length;i++)Tt(n[i],0,0)}}function Ct(e){var t,n,i,r=[];for(t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&St(n,r[i]).length;i++);n.level=i,(r[i]||(r[i]=[])).push(n)}return r}function Et(e){var t,n,i,r,o;for(t=0;t<e.length;t++)for(n=e[t],i=0;i<n.length;i++)for(r=n[i],r.forwardSegs=[],o=t+1;o<e.length;o++)St(r,e[o],r.forwardSegs)}function xt(e){var t,n,i=e.forwardSegs,r=0;if(void 0===e.forwardPressure){for(t=0;t<i.length;t++)n=i[t],xt(n),r=Math.max(r,1+n.forwardPressure);e.forwardPressure=r}}function Tt(e,t,n){var i,r=e.forwardSegs;if(void 0===e.forwardCoord)for(r.length?(r.sort(Nt),Tt(r[0],t+1,n),e.forwardCoord=r[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-n)/(t+1),i=0;i<r.length;i++)Tt(r[i],0,e.forwardCoord)}function St(e,t,n){n=n||[];for(var i=0;i<t.length;i++)Dt(e,t[i])&&n.push(t[i]);return n}function Dt(e,t){return e.bottom>t.top&&e.top<t.bottom}function Nt(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||gt(e,t)}function _t(n,i){function r(){U?s()&&(u(),l()):o()}function o(){V=z.theme?"ui":"fc",n.addClass("fc"),n.addClass(z.isRTL?"fc-rtl":"fc-ltr"),n.addClass(z.theme?"ui-widget":"fc-unthemed"),U=e("<div class='fc-view-container'/>").prependTo(n),Y=j.header=new Rt(j,z),W=Y.render(),W&&n.prepend(W),l(z.defaultView),z.handleWindowResize&&(X=Z(h,z.windowResizeDelay),e(window).resize(X))}function a(){G&&G.removeElement(),Y.destroy(),U.remove(),n.removeClass("fc fc-ltr fc-rtl fc-unthemed ui-widget"),X&&e(window).unbind("resize",X)}function s(){return n.is(":visible")}function l(t){it++,G&&t&&G.type!==t&&(Y.deactivateButton(G.type),O(),G.removeElement(),G=j.view=null),!G&&t&&(G=j.view=nt[t]||(nt[t]=j.instantiateView(t)),G.setElement(e("<div class='fc-view fc-"+t+"-view' />").appendTo(U)),Y.activateButton(t)),G&&(Q=G.massageCurrentDate(Q),G.isDisplayed&&Q.isWithin(G.intervalStart,G.intervalEnd)||s()&&(O(),G.display(Q),L(),w(),C(),g())),L(),it--}function c(e){return s()?(e&&d(),it++,G.updateSize(!0),it--,!0):void 0}function u(){s()&&d()}function d(){K="number"==typeof z.contentHeight?z.contentHeight:"number"==typeof z.height?z.height-(W?W.outerHeight(!0):0):Math.round(U.width()/Math.max(z.aspectRatio,.5))}function h(e){!it&&e.target===window&&G.start&&c(!0)&&G.trigger("windowResize",tt)}function f(){m(),v()}function p(){s()&&(O(),G.displayEvents(rt),L())}function m(){O(),G.clearEvents(),L()}function g(){!z.lazyFetching||J(G.start,G.end)?v():p()}function v(){et(G.start,G.end)}function y(e){rt=e,p()}function b(){p()}function w(){Y.updateTitle(G.title)}function C(){var e=j.getNow();e.isWithin(G.intervalStart,G.intervalEnd)?Y.disableButton("today"):Y.enableButton("today")}function E(e,t){e=j.moment(e),t=t?j.moment(t):e.clone().add(e.hasTime()?j.defaultTimedEventDuration:j.defaultAllDayEventDuration),G.select({start:e,end:t})}function x(){G&&G.unselect()}function T(){Q=G.computePrevDate(Q),l()}function S(){Q=G.computeNextDate(Q),l()}function D(){Q.add(-1,"years"),l()}function N(){Q.add(1,"years"),l()}function _(){Q=j.getNow(),l()}function k(e){Q=j.moment(e),l()}function A(e){Q.add(t.duration(e)),l()}function R(e,t){var n;t=t||"day",n=j.getViewSpec(t)||j.getUnitViewSpec(t),Q=e,l(n?n.type:null)}function M(){return Q.clone()}function O(){U.css({width:"100%",height:U.height(),overflow:"hidden"})}function L(){U.css({width:"",height:"",overflow:""})}function H(){return j}function F(){return G}function P(e,t){return void 0===t?z[e]:void(("height"==e||"contentHeight"==e||"aspectRatio"==e)&&(z[e]=t,c(!0)))}function B(e,t){return z[e]?z[e].apply(t||tt,Array.prototype.slice.call(arguments,2)):void 0}var j=this;j.initOptions(i||{});var z=this.options;j.render=r,j.destroy=a,j.refetchEvents=f,j.reportEvents=y,j.reportEventChange=b,j.rerenderEvents=p,j.changeView=l,j.select=E,j.unselect=x,j.prev=T,j.next=S,j.prevYear=D,j.nextYear=N,j.today=_,j.gotoDate=k,j.incrementDate=A,j.zoomTo=R,j.getDate=M,j.getCalendar=H,j.getView=F,j.option=P,j.trigger=B;var $=I(At(z.lang));if(z.monthNames&&($._months=z.monthNames),z.monthNamesShort&&($._monthsShort=z.monthNamesShort),z.dayNames&&($._weekdays=z.dayNames),z.dayNamesShort&&($._weekdaysShort=z.dayNamesShort),null!=z.firstDay){var q=I($._week);q.dow=z.firstDay,$._week=q}$._fullCalendar_weekCalc=function(e){return"function"==typeof e?e:"local"===e?e:"iso"===e||"ISO"===e?"ISO":void 0}(z.weekNumberCalculation),j.defaultAllDayEventDuration=t.duration(z.defaultAllDayEventDuration),j.defaultTimedEventDuration=t.duration(z.defaultTimedEventDuration),j.moment=function(){var e;return"local"===z.timezone?(e=Lt.moment.apply(null,arguments),e.hasTime()&&e.local()):e="UTC"===z.timezone?Lt.moment.utc.apply(null,arguments):Lt.moment.parseZone.apply(null,arguments),"_locale"in e?e._locale=$:e._lang=$,e},j.getIsAmbigTimezone=function(){return"local"!==z.timezone&&"UTC"!==z.timezone},j.rezoneDate=function(e){return j.moment(e.toArray())},j.getNow=function(){var e=z.now;return"function"==typeof e&&(e=e()),j.moment(e)},j.getEventEnd=function(e){return e.end?e.end.clone():j.getDefaultEventEnd(e.allDay,e.start)},j.getDefaultEventEnd=function(e,t){var n=t.clone();return e?n.stripTime().add(j.defaultAllDayEventDuration):n.add(j.defaultTimedEventDuration),j.getIsAmbigTimezone()&&n.stripZone(),n},j.humanizeDuration=function(e){return(e.locale||e.lang).call(e,z.lang).humanize()},Mt.call(j,z);var Y,W,U,V,G,K,X,Q,J=j.isFetchNeeded,et=j.fetchEvents,tt=n[0],nt={},it=0,rt=[];Q=null!=z.defaultDate?j.moment(z.defaultDate):j.getNow(),j.getSuggestedViewHeight=function(){return void 0===K&&u(),K},j.isHeightAuto=function(){return"auto"===z.contentHeight||"auto"===z.height}}function kt(t){e.each(fn,function(e,n){null==t[e]&&(t[e]=n(t))})}function At(e){var n=t.localeData||t.langData;return n.call(t,e)||n.call(t,"en")}function Rt(t,n){function i(){var t=n.header;return f=n.theme?"ui":"fc",t?p=e("<div class='fc-toolbar'/>").append(o("left")).append(o("right")).append(o("center")).append('<div class="fc-clear"/>'):void 0}function r(){p.remove()}function o(i){var r=e('<div class="fc-'+i+'"/>'),o=n.header[i];return o&&e.each(o.split(" "),function(){var i,o=e(),a=!0;e.each(this.split(","),function(i,r){var s,l,c,u,d,h,p,g,v;"title"==r?(o=o.add(e("<h2>&nbsp;</h2>")),a=!1):(s=t.getViewSpec(r),s?(l=function(){t.changeView(r)},m.push(r),c=s.buttonTextOverride,u=s.buttonTextDefault):t[r]&&(l=function(){t[r]()},c=(t.overrides.buttonText||{})[r],u=n.buttonText[r]),l&&(d=n.themeButtonIcons[r],h=n.buttonIcons[r],p=c?$(c):d&&n.theme?"<span class='ui-icon ui-icon-"+d+"'></span>":h&&!n.theme?"<span class='fc-icon fc-icon-"+h+"'></span>":$(u),g=["fc-"+r+"-button",f+"-button",f+"-state-default"],v=e('<button type="button" class="'+g.join(" ")+'">'+p+"</button>").click(function(){v.hasClass(f+"-state-disabled")||(l(),(v.hasClass(f+"-state-active")||v.hasClass(f+"-state-disabled"))&&v.removeClass(f+"-state-hover"))}).mousedown(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-down")}).mouseup(function(){v.removeClass(f+"-state-down")}).hover(function(){v.not("."+f+"-state-active").not("."+f+"-state-disabled").addClass(f+"-state-hover")},function(){v.removeClass(f+"-state-hover").removeClass(f+"-state-down")}),o=o.add(v)))}),a&&o.first().addClass(f+"-corner-left").end().last().addClass(f+"-corner-right").end(),o.length>1?(i=e("<div/>"),a&&i.addClass("fc-button-group"),i.append(o),r.append(i)):r.append(o)}),r}function a(e){p.find("h2").text(e)}function s(e){p.find(".fc-"+e+"-button").addClass(f+"-state-active")}function l(e){p.find(".fc-"+e+"-button").removeClass(f+"-state-active")}function c(e){p.find(".fc-"+e+"-button").attr("disabled","disabled").addClass(f+"-state-disabled")}function u(e){p.find(".fc-"+e+"-button").removeAttr("disabled").removeClass(f+"-state-disabled")}function d(){return m}var h=this;h.render=i,h.destroy=r,h.updateTitle=a,h.activateButton=s,h.deactivateButton=l,h.disableButton=c,h.enableButton=u,h.getViewsWithButtons=d;var f,p=e(),m=[]}function Mt(n){function i(e,t){return!Y||e.clone().stripZone()<Y.clone().stripZone()||t.clone().stripZone()>W.clone().stripZone()}function r(e,t){Y=e,W=t,et=[];var n=++X,i=K.length;Q=i;for(var r=0;i>r;r++)o(K[r],n)}function o(t,n){a(t,function(i){var r,o,a,s=e.isArray(t.events);if(n==X){if(i)for(r=0;r<i.length;r++)o=i[r],a=s?o:w(o,t),a&&et.push.apply(et,S(a));Q--,Q||G(et)}})}function a(t,i){var r,o,s=Lt.sourceFetchers;for(r=0;r<s.length;r++){if(o=s[r].call(q,t,Y.clone(),W.clone(),n.timezone,i),o===!0)return;if("object"==typeof o)return void a(o,i)}var l=t.events;if(l)e.isFunction(l)?(y(),l.call(q,Y.clone(),W.clone(),n.timezone,function(e){i(e),b()})):e.isArray(l)?i(l):i();else{var c=t.url;if(c){var u,d=t.success,h=t.error,f=t.complete;u=e.isFunction(t.data)?t.data():t.data;var p=e.extend({},u||{}),m=z(t.startParam,n.startParam),g=z(t.endParam,n.endParam),v=z(t.timezoneParam,n.timezoneParam);m&&(p[m]=Y.format()),g&&(p[g]=W.format()),n.timezone&&"local"!=n.timezone&&(p[v]=n.timezone),y(),e.ajax(e.extend({},pn,t,{data:p,success:function(t){t=t||[];var n=j(d,this,arguments);e.isArray(n)&&(t=n),i(t)},error:function(){j(h,this,arguments),i()},complete:function(){j(f,this,arguments),b()}}))}else i()}}function s(e){var t=l(e);t&&(K.push(t),Q++,o(t,X))}function l(t){var n,i,r=Lt.sourceNormalizers;if(e.isFunction(t)||e.isArray(t)?n={events:t}:"string"==typeof t?n={url:t}:"object"==typeof t&&(n=e.extend({},t)),n){for(n.className?"string"==typeof n.className&&(n.className=n.className.split(/\s+/)):n.className=[],e.isArray(n.events)&&(n.origArray=n.events,n.events=e.map(n.events,function(e){return w(e,n)})),i=0;i<r.length;i++)r[i].call(q,n);return n}}function c(t){K=e.grep(K,function(e){return!u(e,t)}),et=e.grep(et,function(e){return!u(e.source,t)}),G(et)}function u(e,t){return e&&t&&d(e)==d(t)}function d(e){return("object"==typeof e?e.origArray||e.googleCalendarId||e.url||e.events:null)||e}function h(e){e.start=q.moment(e.start),e.end=e.end?q.moment(e.end):null,D(e,f(e)),G(et)}function f(t){var n={};return e.each(t,function(e,t){p(e)&&void 0!==t&&B(t)&&(n[e]=t)}),n}function p(e){return!/^_|^(id|allDay|start|end)$/.test(e)}function m(e,t){var n,i,r,o=w(e);if(o){for(n=S(o),i=0;i<n.length;i++)r=n[i],r.source||(t&&(Z.events.push(r),r.source=Z),et.push(r));return G(et),n}return[]}function g(t){var n,i;for(null==t?t=function(){return!0}:e.isFunction(t)||(n=t+"",t=function(e){return e._id==n}),et=e.grep(et,t,!0),i=0;i<K.length;i++)e.isArray(K[i].events)&&(K[i].events=e.grep(K[i].events,t,!0));G(et)}function v(t){return e.isFunction(t)?e.grep(et,t):null!=t?(t+="",e.grep(et,function(e){return e._id==t})):et}function y(){J++||U("loading",null,!0,V())}function b(){--J||U("loading",null,!1,V())}function w(i,r){var o,a,s,l={};if(n.eventDataTransform&&(i=n.eventDataTransform(i)),r&&r.eventDataTransform&&(i=r.eventDataTransform(i)),e.extend(l,i),r&&(l.source=r),l._id=i._id||(void 0===i.id?"_fc"+mn++:i.id+""),l.className=i.className?"string"==typeof i.className?i.className.split(/\s+/):i.className:[],o=i.start||i.date,a=i.end,L(o)&&(o=t.duration(o)),L(a)&&(a=t.duration(a)),i.dow||t.isDuration(o)||t.isDuration(a))l.start=o?t.duration(o):null,l.end=a?t.duration(a):null,l._recurring=!0;else{if(o&&(o=q.moment(o),!o.isValid()))return!1;a&&(a=q.moment(a),a.isValid()||(a=null)),s=i.allDay,void 0===s&&(s=z(r?r.allDayDefault:void 0,n.allDayDefault)),C(o,a,s,l)}return l}function C(e,t,n,i){i.start=e,i.end=t,i.allDay=n,E(i),Ot(i)}function E(e){x(e),e.end&&!e.end.isAfter(e.start)&&(e.end=null),e.end||(e.end=n.forceEventDuration?q.getDefaultEventEnd(e.allDay,e.start):null)}function x(e){null==e.allDay&&(e.allDay=!(e.start.hasTime()||e.end&&e.end.hasTime())),e.allDay?(e.start.stripTime(),e.end&&e.end.stripTime()):(e.start.hasTime()||(e.start=q.rezoneDate(e.start)),e.end&&!e.end.hasTime()&&(e.end=q.rezoneDate(e.end)))}function T(t){var n;return t.end||(n=t.allDay,null==n&&(n=!t.start.hasTime()),t=e.extend({},t),t.end=q.getDefaultEventEnd(n,t.start)),t}function S(t,n,i){var r,o,a,s,l,c,u,d,h,f=[];if(n=n||Y,i=i||W,t)if(t._recurring){if(o=t.dow)for(r={},a=0;a<o.length;a++)r[o[a]]=!0;for(s=n.clone().stripTime();s.isBefore(i);)(!r||r[s.day()])&&(l=t.start,c=t.end,u=s.clone(),d=null,l&&(u=u.time(l)),c&&(d=s.clone().time(c)),h=e.extend({},t),C(u,d,!l&&!c,h),f.push(h)),s.add(1,"days")}else f.push(t);return f}function D(t,n,i){function r(e,t){return i?k(e,t,i):n.allDay?_(e,t):N(e,t)}var o,a,s,l,c,u,d={};return n=n||{},n.start||(n.start=t.start.clone()),void 0===n.end&&(n.end=t.end?t.end.clone():null),null==n.allDay&&(n.allDay=t.allDay),E(n),o={start:t._start.clone(),end:t._end?t._end.clone():q.getDefaultEventEnd(t._allDay,t._start),allDay:n.allDay},E(o),a=null!==t._end&&null===n.end,s=r(n.start,o.start),n.end?(l=r(n.end,o.end),c=l.subtract(s)):c=null,e.each(n,function(e,t){p(e)&&void 0!==t&&(d[e]=t)}),u=A(v(t._id),a,n.allDay,s,c,d),{dateDelta:s,durationDelta:c,undo:u}}function A(t,n,i,r,o,a){var s=q.getIsAmbigTimezone(),l=[];return r&&!r.valueOf()&&(r=null),o&&!o.valueOf()&&(o=null),e.each(t,function(t,c){var u,d;u={start:c.start.clone(),end:c.end?c.end.clone():null,allDay:c.allDay},e.each(a,function(e){u[e]=c[e]}),d={start:c._start,end:c._end,allDay:i},E(d),n?d.end=null:o&&!d.end&&(d.end=q.getDefaultEventEnd(d.allDay,d.start)),r&&(d.start.add(r),d.end&&d.end.add(r)),o&&d.end.add(o),s&&!d.allDay&&(r||o)&&(d.start.stripZone(),d.end&&d.end.stripZone()),e.extend(c,a,d),Ot(c),l.push(function(){e.extend(c,u),Ot(c)})}),function(){for(var e=0;e<l.length;e++)l[e]()}}function R(t){var i,r=n.businessHours,o={className:"fc-nonbusiness",start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},a=q.getView();return r&&(i=e.extend({},o,"object"==typeof r?r:{})),i?(t&&(i.start=null,i.end=null),S(w(i),a.start,a.end)):[]}function M(e,t){var i=t.source||{},r=z(t.constraint,i.constraint,n.eventConstraint),o=z(t.overlap,i.overlap,n.eventOverlap);return e=T(e),H(e,r,o,t)}function O(e){return H(e,n.selectConstraint,n.selectOverlap)}function I(t,n){var i,r;return n&&(i=e.extend({},n,t),r=S(w(i))[0]),r?M(t,r):(t=T(t),O(t))}function H(t,n,i,r){var o,a,s,l,c,u;if(t=e.extend({},t),t.start=t.start.clone().stripZone(),t.end=t.end.clone().stripZone(),null!=n){for(o=F(n),a=!1,l=0;l<o.length;l++)if(P(o[l],t)){a=!0;break}if(!a)return!1}for(s=q.getPeerEvents(r,t),l=0;l<s.length;l++)if(c=s[l],$(c,t)){if(i===!1)return!1;if("function"==typeof i&&!i(c,r))return!1;if(r){if(u=z(c.overlap,(c.source||{}).overlap),u===!1)return!1;if("function"==typeof u&&!u(r,c))return!1}}return!0}function F(e){return"businessHours"===e?R():"object"==typeof e?S(w(e)):v(e)}function P(e,t){var n=e.start.clone().stripZone(),i=q.getEventEnd(e).stripZone();return t.start>=n&&t.end<=i}function $(e,t){var n=e.start.clone().stripZone(),i=q.getEventEnd(e).stripZone();return t.start<i&&t.end>n}var q=this;q.isFetchNeeded=i,q.fetchEvents=r,q.addEventSource=s,q.removeEventSource=c,q.updateEvent=h,q.renderEvent=m,q.removeEvents=g,q.clientEvents=v,q.mutateEvent=D,q.normalizeEventRange=E,q.normalizeEventRangeTimes=x,q.ensureVisibleEventRange=T;var Y,W,U=q.trigger,V=q.getView,G=q.reportEvents,Z={events:[]},K=[Z],X=0,Q=0,J=0,et=[];e.each((n.events?[n.events]:[]).concat(n.eventSources||[]),function(e,t){var n=l(t);n&&K.push(n)}),q.getBusinessHoursEvents=R,q.isEventRangeAllowed=M,q.isSelectionRangeAllowed=O,q.isExternalDropRangeAllowed=I,q.getEventCache=function(){return et}}function Ot(e){e._allDay=e.allDay,e._start=e.start.clone(),e._end=e.end?e.end.clone():null}var Lt=e.fullCalendar={version:"2.3.1"},It=Lt.views={};e.fn.fullCalendar=function(t){var n=Array.prototype.slice.call(arguments,1),i=this;return this.each(function(r,o){var a,s=e(o),l=s.data("fullCalendar");"string"==typeof t?l&&e.isFunction(l[t])&&(a=l[t].apply(l,n),r||(i=a),"destroy"===t&&s.removeData("fullCalendar")):l||(l=new Lt.CalendarBase(s,t),s.data("fullCalendar",l),l.render())}),i};var Ht=["header","buttonText","buttonIcons","themeButtonIcons"];Lt.intersectionToSeg=D,Lt.applyAll=j,Lt.debounce=Z,Lt.isInt=V,Lt.htmlEscape=$,Lt.cssToStr=Y,Lt.proxy=G,Lt.getClientRect=m,Lt.getContentRect=g,Lt.getScrollbarWidths=v;var Ft=null;Lt.computeIntervalUnit=A,Lt.durationHasTime=M;var Pt,Bt,jt,zt=["sun","mon","tue","wed","thu","fri","sat"],$t=["year","month","week","day","hour","minute","second","millisecond"],qt={}.hasOwnProperty,Yt=/^\s*\d{4}-\d\d$/,Wt=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,Ut=t.fn,Vt=e.extend({},Ut);Lt.moment=function(){return K(arguments)},Lt.moment.utc=function(){var e=K(arguments,!0);return e.hasTime()&&e.utc(),e},Lt.moment.parseZone=function(){return K(arguments,!0,!0)},Ut.clone=function(){var e=Vt.clone.apply(this,arguments);return Q(this,e),this._fullCalendar&&(e._fullCalendar=!0),e},Ut.week=Ut.weeks=function(e){var t=(this._locale||this._lang)._fullCalendar_weekCalc;return null==e&&"function"==typeof t?t(this):"ISO"===t?Vt.isoWeek.apply(this,arguments):Vt.week.apply(this,arguments)},Ut.time=function(e){if(!this._fullCalendar)return Vt.time.apply(this,arguments);if(null==e)return t.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,t.isDuration(e)||t.isMoment(e)||(e=t.duration(e));var n=0;return t.isDuration(e)&&(n=24*Math.floor(e.asDays())),this.hours(n+e.hours()).minutes(e.minutes()).seconds(e.seconds()).milliseconds(e.milliseconds())},Ut.stripTime=function(){var e;return this._ambigTime||(e=this.toArray(),this.utc(),Bt(this,e.slice(0,3)),this._ambigTime=!0,this._ambigZone=!0),this},Ut.hasTime=function(){return!this._ambigTime},Ut.stripZone=function(){var e,t;return this._ambigZone||(e=this.toArray(),t=this._ambigTime,this.utc(),Bt(this,e),this._ambigTime=t||!1,this._ambigZone=!0),this},Ut.hasZone=function(){return!this._ambigZone},Ut.local=function(){var e=this.toArray(),t=this._ambigZone;return Vt.local.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,t&&jt(this,e),this},Ut.utc=function(){return Vt.utc.apply(this,arguments),this._ambigTime=!1,this._ambigZone=!1,this},e.each(["zone","utcOffset"],function(e,t){Vt[t]&&(Ut[t]=function(e){return null!=e&&(this._ambigTime=!1,this._ambigZone=!1),Vt[t].apply(this,arguments)})}),Ut.format=function(){return this._fullCalendar&&arguments[0]?tt(this,arguments[0]):this._ambigTime?et(this,"YYYY-MM-DD"):this._ambigZone?et(this,"YYYY-MM-DD[T]HH:mm:ss"):Vt.format.apply(this,arguments)},Ut.toISOString=function(){return this._ambigTime?et(this,"YYYY-MM-DD"):this._ambigZone?et(this,"YYYY-MM-DD[T]HH:mm:ss"):Vt.toISOString.apply(this,arguments)},Ut.isWithin=function(e,t){var n=X([this,e,t]);return n[0]>=n[1]&&n[0]<n[2]},Ut.isSame=function(e,t){var n;return this._fullCalendar?t?(n=X([this,e],!0),Vt.isSame.call(n[0],n[1],t)):(e=Lt.moment.parseZone(e),Vt.isSame.call(this,e)&&Boolean(this._ambigTime)===Boolean(e._ambigTime)&&Boolean(this._ambigZone)===Boolean(e._ambigZone)):Vt.isSame.apply(this,arguments)},e.each(["isBefore","isAfter"],function(e,t){Ut[t]=function(e,n){var i;return this._fullCalendar?(i=X([this,e]),Vt[t].call(i[0],i[1],n)):Vt[t].apply(this,arguments)}}),Pt="_d"in t()&&"updateOffset"in t,Bt=Pt?function(e,n){e._d.setTime(Date.UTC.apply(Date,n)),t.updateOffset(e,!1)}:J,jt=Pt?function(e,n){e._d.setTime(+new Date(n[0]||0,n[1]||0,n[2]||0,n[3]||0,n[4]||0,n[5]||0,n[6]||0)),t.updateOffset(e,!1)}:J;var Gt={t:function(e){return et(e,"a").charAt(0)},T:function(e){return et(e,"A").charAt(0)}};Lt.formatRange=rt;var Zt={Y:"year",M:"month",D:"day",d:"day",A:"second",a:"second",T:"second",t:"second",H:"second",h:"second",m:"second",s:"second"},Kt={};Lt.Class=ct,ct.extend=function(e){var t,n=this;return e=e||{},P(e,"constructor")&&(t=e.constructor),"function"!=typeof t&&(t=e.constructor=function(){n.apply(this,arguments)}),t.prototype=I(n.prototype),H(e,t.prototype),F(e,t.prototype),H(n,t),t},ct.mixin=function(e){H(e.prototype||e,this.prototype)};var Xt=ct.extend({isHidden:!0,options:null,el:null,documentMousedownProxy:null,margin:10,constructor:function(e){this.options=e||{}},show:function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},hide:function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},render:function(){var t=this,n=this.options;this.el=e('<div class="fc-popover"/>').addClass(n.className||"").css({top:0,left:0}).append(n.content).appendTo(n.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),n.autoHide&&e(document).on("mousedown",this.documentMousedownProxy=G(this,"documentMousedown"))},documentMousedown:function(t){this.el&&!e(t.target).closest(this.el).length&&this.hide()},destroy:function(){this.hide(),this.el&&(this.el.remove(),this.el=null),e(document).off("mousedown",this.documentMousedownProxy)},position:function(){var t,n,i,r,o,a=this.options,s=this.el.offsetParent().offset(),l=this.el.outerWidth(),c=this.el.outerHeight(),u=e(window),d=f(this.el);r=a.top||0,o=void 0!==a.left?a.left:void 0!==a.right?a.right-l:0,d.is(window)||d.is(document)?(d=u,t=0,n=0):(i=d.offset(),t=i.top,n=i.left),t+=u.scrollTop(),n+=u.scrollLeft(),a.viewportConstrain!==!1&&(r=Math.min(r,t+d.outerHeight()-c-this.margin),r=Math.max(r,t+this.margin),o=Math.min(o,n+d.outerWidth()-l-this.margin),o=Math.max(o,n+this.margin)),this.el.css({top:r-s.top,left:o-s.left})},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))}}),Qt=ct.extend({grid:null,rowCoords:null,colCoords:null,containerEl:null,bounds:null,constructor:function(e){this.grid=e},build:function(){this.rowCoords=this.grid.computeRowCoords(),this.colCoords=this.grid.computeColCoords(),this.computeBounds()},clear:function(){this.rowCoords=null,this.colCoords=null},getCell:function(t,n){var i,r,o,a=this.rowCoords,s=a.length,l=this.colCoords,c=l.length,u=null,d=null;if(this.inBounds(t,n)){for(i=0;s>i;i++)if(r=a[i],n>=r.top&&n<r.bottom){u=i;break}for(i=0;c>i;i++)if(r=l[i],t>=r.left&&t<r.right){d=i;break}if(null!==u&&null!==d)return o=this.grid.getCell(u,d),o.grid=this.grid,e.extend(o,a[u],l[d]),o}return null},computeBounds:function(){this.bounds=this.containerEl?m(this.containerEl):null},inBounds:function(e,t){var n=this.bounds;return n?e>=n.left&&e<n.right&&t>=n.top&&t<n.bottom:!0}}),Jt=ct.extend({coordMaps:null,constructor:function(e){this.coordMaps=e},build:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].build()},getCell:function(e,t){var n,i=this.coordMaps,r=null;for(n=0;n<i.length&&!r;n++)r=i[n].getCell(e,t);return r},clear:function(){var e,t=this.coordMaps;for(e=0;e<t.length;e++)t[e].clear()}}),en=Lt.DragListener=ct.extend({options:null,isListening:!1,isDragging:!1,originX:null,originY:null,mousemoveProxy:null,mouseupProxy:null,subjectEl:null,subjectHref:null,scrollEl:null,scrollBounds:null,scrollTopVel:null,scrollLeftVel:null,scrollIntervalId:null,scrollHandlerProxy:null,scrollSensitivity:30,scrollSpeed:200,scrollIntervalMs:50,constructor:function(e){e=e||{},this.options=e,this.subjectEl=e.subjectEl},mousedown:function(e){C(e)&&(e.preventDefault(),this.startListening(e),this.options.distance||this.startDrag(e))},startListening:function(t){var n;this.isListening||(t&&this.options.scroll&&(n=f(e(t.target)),n.is(window)||n.is(document)||(this.scrollEl=n,this.scrollHandlerProxy=Z(G(this,"scrollHandler"),100),this.scrollEl.on("scroll",this.scrollHandlerProxy))),e(document).on("mousemove",this.mousemoveProxy=G(this,"mousemove")).on("mouseup",this.mouseupProxy=G(this,"mouseup")).on("selectstart",this.preventDefault),t?(this.originX=t.pageX,this.originY=t.pageY):(this.originX=0,this.originY=0),this.isListening=!0,this.listenStart(t))
},listenStart:function(e){this.trigger("listenStart",e)},mousemove:function(e){var t,n,i=e.pageX-this.originX,r=e.pageY-this.originY;this.isDragging||(t=this.options.distance||1,n=i*i+r*r,n>=t*t&&this.startDrag(e)),this.isDragging&&this.drag(i,r,e)},startDrag:function(e){this.isListening||this.startListening(),this.isDragging||(this.isDragging=!0,this.dragStart(e))},dragStart:function(e){var t=this.subjectEl;this.trigger("dragStart",e),(this.subjectHref=t?t.attr("href"):null)&&t.removeAttr("href")},drag:function(e,t,n){this.trigger("drag",e,t,n),this.updateScroll(n)},mouseup:function(e){this.stopListening(e)},stopDrag:function(e){this.isDragging&&(this.stopScrolling(),this.dragStop(e),this.isDragging=!1)},dragStop:function(e){var t=this;this.trigger("dragStop",e),setTimeout(function(){t.subjectHref&&t.subjectEl.attr("href",t.subjectHref)},0)},stopListening:function(t){this.stopDrag(t),this.isListening&&(this.scrollEl&&(this.scrollEl.off("scroll",this.scrollHandlerProxy),this.scrollHandlerProxy=null),e(document).off("mousemove",this.mousemoveProxy).off("mouseup",this.mouseupProxy).off("selectstart",this.preventDefault),this.mousemoveProxy=null,this.mouseupProxy=null,this.isListening=!1,this.listenStop(t))},listenStop:function(e){this.trigger("listenStop",e)},trigger:function(e){this.options[e]&&this.options[e].apply(this,Array.prototype.slice.call(arguments,1))},preventDefault:function(e){e.preventDefault()},computeScrollBounds:function(){var e=this.scrollEl;this.scrollBounds=e?p(e):null},updateScroll:function(e){var t,n,i,r,o=this.scrollSensitivity,a=this.scrollBounds,s=0,l=0;a&&(t=(o-(e.pageY-a.top))/o,n=(o-(a.bottom-e.pageY))/o,i=(o-(e.pageX-a.left))/o,r=(o-(a.right-e.pageX))/o,t>=0&&1>=t?s=t*this.scrollSpeed*-1:n>=0&&1>=n&&(s=n*this.scrollSpeed),i>=0&&1>=i?l=i*this.scrollSpeed*-1:r>=0&&1>=r&&(l=r*this.scrollSpeed)),this.setScrollVel(s,l)},setScrollVel:function(e,t){this.scrollTopVel=e,this.scrollLeftVel=t,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(G(this,"scrollIntervalFunc"),this.scrollIntervalMs))},constrainScrollVel:function(){var e=this.scrollEl;this.scrollTopVel<0?e.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&e.scrollTop()+e[0].clientHeight>=e[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?e.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&e.scrollLeft()+e[0].clientWidth>=e[0].scrollWidth&&(this.scrollLeftVel=0)},scrollIntervalFunc:function(){var e=this.scrollEl,t=this.scrollIntervalMs/1e3;this.scrollTopVel&&e.scrollTop(e.scrollTop()+this.scrollTopVel*t),this.scrollLeftVel&&e.scrollLeft(e.scrollLeft()+this.scrollLeftVel*t),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.stopScrolling()},stopScrolling:function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.scrollStop())},scrollHandler:function(){this.scrollIntervalId||this.scrollStop()},scrollStop:function(){}}),tn=en.extend({coordMap:null,origCell:null,cell:null,coordAdjust:null,constructor:function(e,t){en.prototype.constructor.call(this,t),this.coordMap=e},listenStart:function(e){var t,n,i,r=this.subjectEl;en.prototype.listenStart.apply(this,arguments),this.computeCoords(),e?(n={left:e.pageX,top:e.pageY},i=n,r&&(t=p(r),i=x(i,t)),this.origCell=this.getCell(i.left,i.top),r&&this.options.subjectCenter&&(this.origCell&&(t=E(this.origCell,t)||t),i=T(t)),this.coordAdjust=S(i,n)):(this.origCell=null,this.coordAdjust=null)},computeCoords:function(){this.coordMap.build(),this.computeScrollBounds()},dragStart:function(e){var t;en.prototype.dragStart.apply(this,arguments),t=this.getCell(e.pageX,e.pageY),t&&this.cellOver(t)},drag:function(e,t,n){var i;en.prototype.drag.apply(this,arguments),i=this.getCell(n.pageX,n.pageY),ut(i,this.cell)||(this.cell&&this.cellOut(),i&&this.cellOver(i))},dragStop:function(){this.cellDone(),en.prototype.dragStop.apply(this,arguments)},cellOver:function(e){this.cell=e,this.trigger("cellOver",e,ut(e,this.origCell),this.origCell)},cellOut:function(){this.cell&&(this.trigger("cellOut",this.cell),this.cellDone(),this.cell=null)},cellDone:function(){this.cell&&this.trigger("cellDone",this.cell)},listenStop:function(){en.prototype.listenStop.apply(this,arguments),this.origCell=this.cell=null,this.coordMap.clear()},scrollStop:function(){en.prototype.scrollStop.apply(this,arguments),this.computeCoords()},getCell:function(e,t){return this.coordAdjust&&(e+=this.coordAdjust.left,t+=this.coordAdjust.top),this.coordMap.getCell(e,t)}}),nn=ct.extend({options:null,sourceEl:null,el:null,parentEl:null,top0:null,left0:null,mouseY0:null,mouseX0:null,topDelta:null,leftDelta:null,mousemoveProxy:null,isFollowing:!1,isHidden:!1,isAnimating:!1,constructor:function(t,n){this.options=n=n||{},this.sourceEl=t,this.parentEl=n.parentEl?e(n.parentEl):t.parent()},start:function(t){this.isFollowing||(this.isFollowing=!0,this.mouseY0=t.pageY,this.mouseX0=t.pageX,this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),e(document).on("mousemove",this.mousemoveProxy=G(this,"mousemove")))},stop:function(t,n){function i(){this.isAnimating=!1,r.destroyEl(),this.top0=this.left0=null,n&&n()}var r=this,o=this.options.revertDuration;this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,e(document).off("mousemove",this.mousemoveProxy),t&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:i})):i())},getEl:function(){var e=this.el;return e||(this.sourceEl.width(),e=this.el=this.sourceEl.clone().css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex}).appendTo(this.parentEl)),e},destroyEl:function(){this.el&&(this.el.remove(),this.el=null)},updatePosition:function(){var e,t;this.getEl(),null===this.top0&&(this.sourceEl.width(),e=this.sourceEl.offset(),t=this.el.offsetParent().offset(),this.top0=e.top-t.top,this.left0=e.left-t.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},mousemove:function(e){this.topDelta=e.pageY-this.mouseY0,this.leftDelta=e.pageX-this.mouseX0,this.isHidden||this.updatePosition()},hide:function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},show:function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())}}),rn=ct.extend({view:null,isRTL:null,cellHtml:"<td/>",constructor:function(e){this.view=e,this.isRTL=e.opt("isRTL")},rowHtml:function(e,t){var n,i,r=this.getHtmlRenderer("cell",e),o="";for(t=t||0,n=0;n<this.colCnt;n++)i=this.getCell(t,n),o+=r(i);return o=this.bookendCells(o,e,t),"<tr>"+o+"</tr>"},bookendCells:function(e,t,n){var i=this.getHtmlRenderer("intro",t)(n||0),r=this.getHtmlRenderer("outro",t)(n||0),o=this.isRTL?r:i,a=this.isRTL?i:r;return"string"==typeof e?o+e+a:e.prepend(o).append(a)},getHtmlRenderer:function(e,t){var n,i,r,o,a=this.view;return n=e+"Html",t&&(i=t+W(e)+"Html"),i&&(o=a[i])?r=a:i&&(o=this[i])?r=this:(o=a[n])?r=a:(o=this[n])&&(r=this),"function"==typeof o?function(){return o.apply(r,arguments)||""}:function(){return o||""}}}),on=Lt.Grid=rn.extend({start:null,end:null,rowCnt:0,colCnt:0,rowData:null,colData:null,el:null,coordMap:null,elsByFill:null,externalDragStartProxy:null,colHeadFormat:null,eventTimeFormat:null,displayEventTime:null,displayEventEnd:null,cellDuration:null,largeUnit:null,constructor:function(){rn.apply(this,arguments),this.coordMap=new Qt(this),this.elsByFill={},this.externalDragStartProxy=G(this,"externalDragStart")},computeColHeadFormat:function(){},computeEventTimeFormat:function(){return this.view.opt("smallTimeFormat")},computeDisplayEventTime:function(){return!0},computeDisplayEventEnd:function(){return!0},setRange:function(e){var t,n,i=this.view;this.start=e.start.clone(),this.end=e.end.clone(),this.rowData=[],this.colData=[],this.updateCells(),this.colHeadFormat=i.opt("columnFormat")||this.computeColHeadFormat(),this.eventTimeFormat=i.opt("eventTimeFormat")||i.opt("timeFormat")||this.computeEventTimeFormat(),t=i.opt("displayEventTime"),null==t&&(t=this.computeDisplayEventTime()),n=i.opt("displayEventEnd"),null==n&&(n=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=n},updateCells:function(){},rangeToSegs:function(){},diffDates:function(e,t){return this.largeUnit?k(e,t,this.largeUnit):N(e,t)},getCell:function(t,n){var i;return null==n&&("number"==typeof t?(n=t%this.colCnt,t=Math.floor(t/this.colCnt)):(n=t.col,t=t.row)),i={row:t,col:n},e.extend(i,this.getRowData(t),this.getColData(n)),e.extend(i,this.computeCellRange(i)),i},computeCellRange:function(e){var t=this.computeCellDate(e);return{start:t,end:t.clone().add(this.cellDuration)}},computeCellDate:function(){},getRowData:function(e){return this.rowData[e]||{}},getColData:function(e){return this.colData[e]||{}},getRowEl:function(){},getColEl:function(){},getCellDayEl:function(e){return this.getColEl(e.col)||this.getRowEl(e.row)},computeRowCoords:function(){var e,t,n,i=[];for(e=0;e<this.rowCnt;e++)t=this.getRowEl(e),n=t.offset().top,i.push({top:n,bottom:n+t.outerHeight()});return i},computeColCoords:function(){var e,t,n,i=[];for(e=0;e<this.colCnt;e++)t=this.getColEl(e),n=t.offset().left,i.push({left:n,right:n+t.outerWidth()});return i},setElement:function(t){var n=this;this.el=t,t.on("mousedown",function(t){e(t.target).is(".fc-event-container *, .fc-more")||e(t.target).closest(".fc-popover").length||n.dayMousedown(t)}),this.bindSegHandlers(),this.bindGlobalHandlers()},removeElement:function(){this.unbindGlobalHandlers(),this.el.remove()},renderSkeleton:function(){},renderDates:function(){},destroyDates:function(){},bindGlobalHandlers:function(){e(document).on("dragstart sortstart",this.externalDragStartProxy)},unbindGlobalHandlers:function(){e(document).off("dragstart sortstart",this.externalDragStartProxy)},dayMousedown:function(e){var t,n,i=this,r=this.view,o=r.opt("selectable"),l=new tn(this.coordMap,{scroll:r.opt("dragScroll"),dragStart:function(){r.unselect()},cellOver:function(e,r,s){s&&(t=r?e:null,o&&(n=i.computeSelection(s,e),n?i.renderSelection(n):a()))},cellOut:function(){t=null,n=null,i.destroySelection(),s()},listenStop:function(e){t&&r.trigger("dayClick",i.getCellDayEl(t),t.start,e),n&&r.reportSelection(n,e),s()}});l.mousedown(e)},renderRangeHelper:function(e,t){var n=this.fabricateHelperEvent(e,t);this.renderHelper(n,t)},fabricateHelperEvent:function(e,t){var n=t?I(t.event):{};return n.start=e.start.clone(),n.end=e.end?e.end.clone():null,n.allDay=null,this.view.calendar.normalizeEventRange(n),n.className=(n.className||[]).concat("fc-helper"),t||(n.editable=!1),n},renderHelper:function(){},destroyHelper:function(){},renderSelection:function(e){this.renderHighlight(e)},destroySelection:function(){this.destroyHighlight()},computeSelection:function(e,t){var n,i=[e.start,e.end,t.start,t.end];return i.sort(U),n={start:i[0].clone(),end:i[3].clone()},this.view.calendar.isSelectionRangeAllowed(n)?n:null},renderHighlight:function(e){this.renderFill("highlight",this.rangeToSegs(e))},destroyHighlight:function(){this.destroyFill("highlight")},highlightSegClasses:function(){return["fc-highlight"]},renderFill:function(){},destroyFill:function(e){var t=this.elsByFill[e];t&&(t.remove(),delete this.elsByFill[e])},renderFillSegEls:function(t,n){var i,r=this,o=this[t+"SegEl"],a="",s=[];if(n.length){for(i=0;i<n.length;i++)a+=this.fillSegHtml(t,n[i]);e(a).each(function(t,i){var a=n[t],l=e(i);o&&(l=o.call(r,a,l)),l&&(l=e(l),l.is(r.fillSegTag)&&(a.el=l,s.push(a)))})}return s},fillSegTag:"div",fillSegHtml:function(e,t){var n=this[e+"SegClasses"],i=this[e+"SegCss"],r=n?n.call(this,t):[],o=Y(i?i.call(this,t):{});return"<"+this.fillSegTag+(r.length?' class="'+r.join(" ")+'"':"")+(o?' style="'+o+'"':"")+" />"},headHtml:function(){return'<div class="fc-row '+this.view.widgetHeaderClass+'"><table><thead>'+this.rowHtml("head")+"</thead></table></div>"},headCellHtml:function(e){var t=this.view,n=e.start;return'<th class="fc-day-header '+t.widgetHeaderClass+" fc-"+zt[n.day()]+'">'+$(n.format(this.colHeadFormat))+"</th>"},bgCellHtml:function(e){var t=this.view,n=e.start,i=this.getDayClasses(n);return i.unshift("fc-day",t.widgetContentClass),'<td class="'+i.join(" ")+'" data-date="'+n.format("YYYY-MM-DD")+'"></td>'},getDayClasses:function(e){var t=this.view,n=t.calendar.getNow().stripTime(),i=["fc-"+zt[e.day()]];return 1==t.intervalDuration.as("months")&&e.month()!=t.intervalStart.month()&&i.push("fc-other-month"),e.isSame(n,"day")?i.push("fc-today",t.highlightStateClass):i.push(n>e?"fc-past":"fc-future"),i}});on.mixin({mousedOverSeg:null,isDraggingSeg:!1,isResizingSeg:!1,isDraggingExternal:!1,segs:null,renderEvents:function(e){var t,n,i=this.eventsToSegs(e),r=[],o=[];for(t=0;t<i.length;t++)n=i[t],dt(n.event)?r.push(n):o.push(n);r=this.renderBgSegs(r)||r,o=this.renderFgSegs(o)||o,this.segs=r.concat(o)},destroyEvents:function(){this.triggerSegMouseout(),this.destroyFgSegs(),this.destroyBgSegs(),this.segs=null},getEventSegs:function(){return this.segs||[]},renderFgSegs:function(){},destroyFgSegs:function(){},renderFgSegEls:function(t,n){var i,r=this.view,o="",a=[];if(t.length){for(i=0;i<t.length;i++)o+=this.fgSegHtml(t[i],n);e(o).each(function(n,i){var o=t[n],s=r.resolveEventEl(o.event,e(i));s&&(s.data("fc-seg",o),o.el=s,a.push(o))})}return a},fgSegHtml:function(){},renderBgSegs:function(e){return this.renderFill("bgEvent",e)},destroyBgSegs:function(){this.destroyFill("bgEvent")},bgEventSegEl:function(e,t){return this.view.resolveEventEl(e.event,t)},bgEventSegClasses:function(e){var t=e.event,n=t.source||{};return["fc-bgevent"].concat(t.className,n.className||[])},bgEventSegCss:function(e){var t=this.view,n=e.event,i=n.source||{};return{"background-color":n.backgroundColor||n.color||i.backgroundColor||i.color||t.opt("eventBackgroundColor")||t.opt("eventColor")}},businessHoursSegClasses:function(){return["fc-nonbusiness","fc-bgevent"]},bindSegHandlers:function(){var t=this,n=this.view;e.each({mouseenter:function(e,n){t.triggerSegMouseover(e,n)},mouseleave:function(e,n){t.triggerSegMouseout(e,n)},click:function(e,t){return n.trigger("eventClick",this,e.event,t)},mousedown:function(i,r){e(r.target).is(".fc-resizer")&&n.isEventResizable(i.event)?t.segResizeMousedown(i,r,e(r.target).is(".fc-start-resizer")):n.isEventDraggable(i.event)&&t.segDragMousedown(i,r)}},function(n,i){t.el.on(n,".fc-event-container > *",function(n){var r=e(this).data("fc-seg");return!r||t.isDraggingSeg||t.isResizingSeg?void 0:i.call(this,r,n)})})},triggerSegMouseover:function(e,t){this.mousedOverSeg||(this.mousedOverSeg=e,this.view.trigger("eventMouseover",e.el[0],e.event,t))},triggerSegMouseout:function(e,t){t=t||{},this.mousedOverSeg&&(e=e||this.mousedOverSeg,this.mousedOverSeg=null,this.view.trigger("eventMouseout",e.el[0],e.event,t))},segDragMousedown:function(e,t){var n,i=this,r=this.view,o=r.calendar,l=e.el,c=e.event,u=new nn(e.el,{parentEl:r.el,opacity:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2}),d=new tn(r.coordMap,{distance:5,scroll:r.opt("dragScroll"),subjectEl:l,subjectCenter:!0,listenStart:function(e){u.hide(),u.start(e)},dragStart:function(t){i.triggerSegMouseout(e,t),i.segDragStart(e,t),r.hideEvent(c)},cellOver:function(t,s,l){e.cell&&(l=e.cell),n=i.computeEventDrop(l,t,c),n&&!o.isEventRangeAllowed(n,c)&&(a(),n=null),n&&r.renderDrag(n,e)?u.hide():u.show(),s&&(n=null)},cellOut:function(){r.destroyDrag(),u.show(),n=null},cellDone:function(){s()},dragStop:function(t){u.stop(!n,function(){r.destroyDrag(),r.showEvent(c),i.segDragStop(e,t),n&&r.reportEventDrop(c,n,this.largeUnit,l,t)})},listenStop:function(){u.stop()}});d.mousedown(t)},segDragStart:function(e,t){this.isDraggingSeg=!0,this.view.trigger("eventDragStart",e.el[0],e.event,t,{})},segDragStop:function(e,t){this.isDraggingSeg=!1,this.view.trigger("eventDragStop",e.el[0],e.event,t,{})},computeEventDrop:function(e,t,n){var i,r,o=this.view.calendar,a=e.start,s=t.start;return a.hasTime()===s.hasTime()?(i=this.diffDates(s,a),n.allDay&&M(i)?(r={start:n.start.clone(),end:o.getEventEnd(n),allDay:!1},o.normalizeEventRangeTimes(r)):r={start:n.start.clone(),end:n.end?n.end.clone():null,allDay:n.allDay},r.start.add(i),r.end&&r.end.add(i)):r={start:s.clone(),end:null,allDay:!s.hasTime()},r},applyDragOpacity:function(e){var t=this.view.opt("dragOpacity");null!=t&&e.each(function(e,n){n.style.opacity=t})},externalDragStart:function(t,n){var i,r,o=this.view;o.opt("droppable")&&(i=e((n?n.item:null)||t.target),r=o.opt("dropAccept"),(e.isFunction(r)?r.call(i[0],i):i.is(r))&&(this.isDraggingExternal||this.listenToExternalDrag(i,t,n)))},listenToExternalDrag:function(e,t,n){var i,r,o=this,l=vt(e);i=new tn(this.coordMap,{listenStart:function(){o.isDraggingExternal=!0},cellOver:function(e){r=o.computeExternalDrop(e,l),r?o.renderDrag(r):a()},cellOut:function(){r=null,o.destroyDrag(),s()},dragStop:function(){o.destroyDrag(),s(),r&&o.view.reportExternalDrop(l,r,e,t,n)},listenStop:function(){o.isDraggingExternal=!1}}),i.startDrag(t)},computeExternalDrop:function(e,t){var n={start:e.start.clone(),end:null};return t.startTime&&!n.start.hasTime()&&n.start.time(t.startTime),t.duration&&(n.end=n.start.clone().add(t.duration)),this.view.calendar.isExternalDropRangeAllowed(n,t.eventProps)?n:null},renderDrag:function(){},destroyDrag:function(){},segResizeMousedown:function(e,t,n){var i,r,o=this,l=this.view,c=l.calendar,u=e.el,d=e.event,h=c.getEventEnd(d);i=new tn(this.coordMap,{distance:5,scroll:l.opt("dragScroll"),subjectEl:u,dragStart:function(t){o.triggerSegMouseout(e,t),o.segResizeStart(e,t)},cellOver:function(t,i,s){r=n?o.computeEventStartResize(s,t,d):o.computeEventEndResize(s,t,d),r&&(c.isEventRangeAllowed(r,d)?r.start.isSame(d.start)&&r.end.isSame(h)&&(r=null):(a(),r=null)),r&&(l.hideEvent(d),o.renderEventResize(r,e))},cellOut:function(){r=null},cellDone:function(){o.destroyEventResize(),l.showEvent(d),s()},dragStop:function(t){o.segResizeStop(e,t),r&&l.reportEventResize(d,r,this.largeUnit,u,t)}}),i.mousedown(t)},segResizeStart:function(e,t){this.isResizingSeg=!0,this.view.trigger("eventResizeStart",e.el[0],e.event,t,{})},segResizeStop:function(e,t){this.isResizingSeg=!1,this.view.trigger("eventResizeStop",e.el[0],e.event,t,{})},computeEventStartResize:function(e,t,n){return this.computeEventResize("start",e,t,n)},computeEventEndResize:function(e,t,n){return this.computeEventResize("end",e,t,n)},computeEventResize:function(e,t,n,i){var r,o,a=this.view.calendar,s=this.diffDates(n[e],t[e]);return r={start:i.start.clone(),end:a.getEventEnd(i),allDay:i.allDay},r.allDay&&M(s)&&(r.allDay=!1,a.normalizeEventRangeTimes(r)),r[e].add(s),r.start.isBefore(r.end)||(o=i.allDay?a.defaultAllDayEventDuration:a.defaultTimedEventDuration,this.cellDuration&&this.cellDuration<o&&(o=this.cellDuration),"start"==e?r.start=r.end.clone().subtract(o):r.end=r.start.clone().add(o)),r},renderEventResize:function(){},destroyEventResize:function(){},getEventTimeText:function(e,t,n){return null==t&&(t=this.eventTimeFormat),null==n&&(n=this.displayEventEnd),this.displayEventTime&&e.start.hasTime()?n&&e.end?this.view.formatRange(e,t):e.start.format(t):""},getSegClasses:function(e,t,n){var i=e.event,r=["fc-event",e.isStart?"fc-start":"fc-not-start",e.isEnd?"fc-end":"fc-not-end"].concat(i.className,i.source?i.source.className:[]);return t&&r.push("fc-draggable"),n&&r.push("fc-resizable"),r},getEventSkinCss:function(e){var t=this.view,n=e.source||{},i=e.color,r=n.color,o=t.opt("eventColor");return{"background-color":e.backgroundColor||i||n.backgroundColor||r||t.opt("eventBackgroundColor")||o,"border-color":e.borderColor||i||n.borderColor||r||t.opt("eventBorderColor")||o,color:e.textColor||n.textColor||t.opt("eventTextColor")}},eventsToSegs:function(e,t){var n,i=this.eventsToRanges(e),r=[];for(n=0;n<i.length;n++)r.push.apply(r,this.eventRangeToSegs(i[n],t));return r},eventsToRanges:function(t){var n=this,i=pt(t),r=[];return e.each(i,function(e,t){t.length&&r.push.apply(r,ht(t[0])?n.eventsToInverseRanges(t):n.eventsToNormalRanges(t))}),r},eventsToNormalRanges:function(e){var t,n,i,r,o=this.view.calendar,a=[];for(t=0;t<e.length;t++)n=e[t],i=n.start.clone().stripZone(),r=o.getEventEnd(n).stripZone(),a.push({event:n,start:i,end:r,eventStartMS:+i,eventDurationMS:r-i});return a},eventsToInverseRanges:function(e){var t,n,i=this.view,r=i.start.clone().stripZone(),o=i.end.clone().stripZone(),a=this.eventsToNormalRanges(e),s=[],l=e[0],c=r;for(a.sort(mt),t=0;t<a.length;t++)n=a[t],n.start>c&&s.push({event:l,start:c,end:n.start}),c=n.end;return o>c&&s.push({event:l,start:c,end:o}),s},eventRangeToSegs:function(e,t){var n,i,r;for(n=t?t(e):this.rangeToSegs(e),i=0;i<n.length;i++)r=n[i],r.event=e.event,r.eventStartMS=e.eventStartMS,r.eventDurationMS=e.eventDurationMS;return n}}),Lt.compareSegs=gt,Lt.dataAttrPrefix="";var an=on.extend({numbersVisible:!1,bottomCoordPadding:0,breakOnWeeks:null,cellDates:null,dayToCellOffsets:null,rowEls:null,dayEls:null,helperEls:null,constructor:function(){on.apply(this,arguments),this.cellDuration=t.duration(1,"day")},renderDates:function(e){var t,n,i,r=this.view,o=this.rowCnt,a=this.colCnt,s=o*a,l="";for(t=0;o>t;t++)l+=this.dayRowHtml(t,e);for(this.el.html(l),this.rowEls=this.el.find(".fc-row"),this.dayEls=this.el.find(".fc-day"),n=0;s>n;n++)i=this.getCell(n),r.trigger("dayRender",null,i.start,this.dayEls.eq(n))},destroyDates:function(){this.destroySegPopover()},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents(!0),t=this.eventsToSegs(e);this.renderFill("businessHours",t,"bgevent")},dayRowHtml:function(e,t){var n=this.view,i=["fc-row","fc-week",n.widgetContentClass];return t&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table>'+this.rowHtml("day",e)+'</table></div><div class="fc-content-skeleton"><table>'+(this.numbersVisible?"<thead>"+this.rowHtml("number",e)+"</thead>":"")+"</table></div></div>"},dayCellHtml:function(e){return this.bgCellHtml(e)},computeColHeadFormat:function(){return this.rowCnt>1?"ddd":this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("extraSmallTimeFormat")},computeDisplayEventEnd:function(){return 1==this.colCnt},updateCells:function(){var e,t,n,i;if(this.updateCellDates(),e=this.cellDates,this.breakOnWeeks){for(t=e[0].day(),i=1;i<e.length&&e[i].day()!=t;i++);n=Math.ceil(e.length/i)}else n=1,i=e.length;this.rowCnt=n,this.colCnt=i},updateCellDates:function(){for(var e=this.view,t=this.start.clone(),n=[],i=-1,r=[];t.isBefore(this.end);)e.isHiddenDay(t)?r.push(i+.5):(i++,r.push(i),n.push(t.clone())),t.add(1,"days");this.cellDates=n,this.dayToCellOffsets=r},computeCellDate:function(e){var t=this.colCnt,n=e.row*t+(this.isRTL?t-e.col-1:e.col);return this.cellDates[n].clone()},getRowEl:function(e){return this.rowEls.eq(e)},getColEl:function(e){return this.dayEls.eq(e)},getCellDayEl:function(e){return this.dayEls.eq(e.row*this.colCnt+e.col)},computeRowCoords:function(){var e=on.prototype.computeRowCoords.call(this);return e[e.length-1].bottom+=this.bottomCoordPadding,e},rangeToSegs:function(e){var t,n,i,r,o,a,s,l,c,u,d=this.isRTL,h=this.rowCnt,f=this.colCnt,p=[];for(e=this.view.computeDayRange(e),t=this.dateToCellOffset(e.start),n=this.dateToCellOffset(e.end.subtract(1,"days")),i=0;h>i;i++)r=i*f,o=r+f-1,l=Math.max(r,t),c=Math.min(o,n),l=Math.ceil(l),c=Math.floor(c),c>=l&&(a=l===t,s=c===n,l-=r,c-=r,u={row:i,isStart:a,isEnd:s},d?(u.leftCol=f-c-1,u.rightCol=f-l-1):(u.leftCol=l,u.rightCol=c),p.push(u));return p},dateToCellOffset:function(e){var t=this.dayToCellOffsets,n=e.diff(this.start,"days");return 0>n?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]},renderDrag:function(e,t){return this.renderHighlight(this.view.calendar.ensureVisibleEventRange(e)),t&&!t.el.closest(this.el).length?(this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEls),!0):void 0},destroyDrag:function(){this.destroyHighlight(),this.destroyHelper()},renderEventResize:function(e,t){this.renderHighlight(e),this.renderRangeHelper(e,t)},destroyEventResize:function(){this.destroyHighlight(),this.destroyHelper()},renderHelper:function(t,n){var i,r=[],o=this.eventsToSegs([t]);o=this.renderFgSegEls(o),i=this.renderSegRows(o),this.rowEls.each(function(t,o){var a,s=e(o),l=e('<div class="fc-helper-skeleton"><table/></div>');a=n&&n.row===t?n.el.position().top:s.find(".fc-content-skeleton tbody").position().top,l.css("top",a).find("table").append(i[t].tbodyEl),s.append(l),r.push(l[0])}),this.helperEls=e(r)},destroyHelper:function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},fillSegTag:"td",renderFill:function(t,n,i){var r,o,a,s=[];for(n=this.renderFillSegEls(t,n),r=0;r<n.length;r++)o=n[r],a=this.renderFillRow(t,o,i),this.rowEls.eq(o.row).append(a),s.push(a[0]);return this.elsByFill[t]=e(s),n},renderFillRow:function(t,n,i){var r,o,a=this.colCnt,s=n.leftCol,l=n.rightCol+1;return i=i||t.toLowerCase(),r=e('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),o=r.find("tr"),s>0&&o.append('<td colspan="'+s+'"/>'),o.append(n.el.attr("colspan",l-s)),a>l&&o.append('<td colspan="'+(a-l)+'"/>'),this.bookendCells(o,t),r}});an.mixin({rowStructs:null,destroyEvents:function(){this.destroySegPopover(),on.prototype.destroyEvents.apply(this,arguments)},getEventSegs:function(){return on.prototype.getEventSegs.call(this).concat(this.popoverSegs||[])},renderBgSegs:function(t){var n=e.grep(t,function(e){return e.event.allDay});return on.prototype.renderBgSegs.call(this,n)},renderFgSegs:function(t){var n;return t=this.renderFgSegEls(t),n=this.rowStructs=this.renderSegRows(t),this.rowEls.each(function(t,i){e(i).find(".fc-content-skeleton > table").append(n[t].tbodyEl)}),t},destroyFgSegs:function(){for(var e,t=this.rowStructs||[];e=t.pop();)e.tbodyEl.remove();this.rowStructs=null},renderSegRows:function(e){var t,n,i=[];for(t=this.groupSegRows(e),n=0;n<t.length;n++)i.push(this.renderSegRow(n,t[n]));return i},fgSegHtml:function(e,t){var n,i,r=this.view,o=e.event,a=r.isEventDraggable(o),s=!t&&o.allDay&&e.isStart&&r.isEventResizableFromStart(o),l=!t&&o.allDay&&e.isEnd&&r.isEventResizableFromEnd(o),c=this.getSegClasses(e,a,s||l),u=Y(this.getEventSkinCss(o)),d="";return c.unshift("fc-day-grid-event","fc-h-event"),e.isStart&&(n=this.getEventTimeText(o),n&&(d='<span class="fc-time">'+$(n)+"</span>")),i='<span class="fc-title">'+($(o.title||"")||"&nbsp;")+"</span>",'<a class="'+c.join(" ")+'"'+(o.url?' href="'+$(o.url)+'"':"")+(u?' style="'+u+'"':"")+'><div class="fc-content">'+(this.isRTL?i+" "+d:d+" "+i)+"</div>"+(s?'<div class="fc-resizer fc-start-resizer" />':"")+(l?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},renderSegRow:function(t,n){function i(t){for(;t>a;)u=(v[r-1]||[])[a],u?u.attr("rowspan",parseInt(u.attr("rowspan")||1,10)+1):(u=e("<td/>"),s.append(u)),g[r][a]=u,v[r][a]=u,a++}var r,o,a,s,l,c,u,d=this.colCnt,h=this.buildSegLevels(n),f=Math.max(1,h.length),p=e("<tbody/>"),m=[],g=[],v=[];for(r=0;f>r;r++){if(o=h[r],a=0,s=e("<tr/>"),m.push([]),g.push([]),v.push([]),o)for(l=0;l<o.length;l++){for(c=o[l],i(c.leftCol),u=e('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?u.attr("colspan",c.rightCol-c.leftCol+1):v[r][a]=u;a<=c.rightCol;)g[r][a]=u,m[r][a]=c,a++;s.append(u)}i(d),this.bookendCells(s,"eventSkeleton"),p.append(s)}return{row:t,tbodyEl:p,cellMatrix:g,segMatrix:m,segLevels:h,segs:n}},buildSegLevels:function(e){var t,n,i,r=[];for(e.sort(gt),t=0;t<e.length;t++){for(n=e[t],i=0;i<r.length&&yt(n,r[i]);i++);n.level=i,(r[i]||(r[i]=[])).push(n)}for(i=0;i<r.length;i++)r[i].sort(bt);return r},groupSegRows:function(e){var t,n=[];for(t=0;t<this.rowCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].row].push(e[t]);return n}}),an.mixin({segPopover:null,popoverSegs:null,destroySegPopover:function(){this.segPopover&&this.segPopover.hide()},limitRows:function(e){var t,n,i=this.rowStructs||[];for(t=0;t<i.length;t++)this.unlimitRow(t),n=e?"number"==typeof e?e:this.computeRowLevelLimit(t):!1,n!==!1&&this.limitRow(t,n)},computeRowLevelLimit:function(t){function n(t,n){o=Math.max(o,e(n).outerHeight())}var i,r,o,a=this.rowEls.eq(t),s=a.height(),l=this.rowStructs[t].tbodyEl.children();for(i=0;i<l.length;i++)if(r=l.eq(i).removeClass("fc-limited"),o=0,r.find("> td > :first-child").each(n),r.position().top+o>s)return i;return!1},limitRow:function(t,n){function i(i){for(;i>x;)r=w.getCell(t,x),u=w.getCellSegs(r,n),u.length&&(f=a[n-1][x],b=w.renderMoreLink(r,u),y=e("<div/>").append(b),f.append(y),E.push(y[0])),x++}var r,o,a,s,l,c,u,d,h,f,p,m,g,v,y,b,w=this,C=this.rowStructs[t],E=[],x=0;if(n&&n<C.segLevels.length){for(o=C.segLevels[n-1],a=C.cellMatrix,s=C.tbodyEl.children().slice(n).addClass("fc-limited").get(),l=0;l<o.length;l++){for(c=o[l],i(c.leftCol),h=[],d=0;x<=c.rightCol;)r=this.getCell(t,x),u=this.getCellSegs(r,n),h.push(u),d+=u.length,x++;if(d){for(f=a[n-1][c.leftCol],p=f.attr("rowspan")||1,m=[],g=0;g<h.length;g++)v=e('<td class="fc-more-cell"/>').attr("rowspan",p),u=h[g],r=this.getCell(t,c.leftCol+g),b=this.renderMoreLink(r,[c].concat(u)),y=e("<div/>").append(b),v.append(y),m.push(v[0]),E.push(v[0]);f.addClass("fc-limited").after(e(m)),s.push(f[0])}}i(this.colCnt),C.moreEls=e(E),C.limitedEls=e(s)}},unlimitRow:function(e){var t=this.rowStructs[e];t.moreEls&&(t.moreEls.remove(),t.moreEls=null),t.limitedEls&&(t.limitedEls.removeClass("fc-limited"),t.limitedEls=null)},renderMoreLink:function(t,n){var i=this,r=this.view;return e('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(o){var a=r.opt("eventLimitClick"),s=t.start,l=e(this),c=i.getCellDayEl(t),u=i.getCellSegs(t),d=i.resliceDaySegs(u,s),h=i.resliceDaySegs(n,s);"function"==typeof a&&(a=r.trigger("eventLimitClick",null,{date:s,dayEl:c,moreEl:l,segs:d,hiddenSegs:h},o)),"popover"===a?i.showSegPopover(t,l,d):"string"==typeof a&&r.calendar.zoomTo(s,a)})},showSegPopover:function(e,t,n){var i,r,o=this,a=this.view,s=t.parent();i=1==this.rowCnt?a.el:this.rowEls.eq(e.row),r={className:"fc-more-popover",content:this.renderSegPopoverContent(e,n),parentEl:this.el,top:i.offset().top,autoHide:!0,viewportConstrain:a.opt("popoverViewportConstrain"),hide:function(){o.segPopover.destroy(),o.segPopover=null,o.popoverSegs=null}},this.isRTL?r.right=s.offset().left+s.outerWidth()+1:r.left=s.offset().left-1,this.segPopover=new Xt(r),this.segPopover.show()},renderSegPopoverContent:function(t,n){var i,r=this.view,o=r.opt("theme"),a=t.start.format(r.opt("dayPopoverFormat")),s=e('<div class="fc-header '+r.widgetHeaderClass+'"><span class="fc-close '+(o?"ui-icon ui-icon-closethick":"fc-icon fc-icon-x")+'"></span><span class="fc-title">'+$(a)+'</span><div class="fc-clear"/></div><div class="fc-body '+r.widgetContentClass+'"><div class="fc-event-container"></div></div>'),l=s.find(".fc-event-container");for(n=this.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)n[i].cell=t,l.append(n[i].el);return s},resliceDaySegs:function(t,n){var i=e.map(t,function(e){return e.event}),r=n.clone().stripTime(),o=r.clone().add(1,"days"),a={start:r,end:o};return t=this.eventsToSegs(i,function(e){var t=D(e,a);return t?[t]:[]}),t.sort(gt),t},getMoreLinkText:function(e){var t=this.view.opt("eventLimitText");return"function"==typeof t?t(e):"+"+e+" "+t},getCellSegs:function(e,t){for(var n,i=this.rowStructs[e.row].segMatrix,r=t||0,o=[];r<i.length;)n=i[r][e.col],n&&o.push(n),r++;return o}});var sn=on.extend({slotDuration:null,snapDuration:null,minTime:null,maxTime:null,axisFormat:null,dayEls:null,slatEls:null,slatTops:null,helperEl:null,businessHourSegs:null,constructor:function(){on.apply(this,arguments),this.processOptions()},renderDates:function(){this.el.html(this.renderHtml()),this.dayEls=this.el.find(".fc-day"),this.slatEls=this.el.find(".fc-slats tr")},renderBusinessHours:function(){var e=this.view.calendar.getBusinessHoursEvents();this.businessHourSegs=this.renderFill("businessHours",this.eventsToSegs(e),"bgevent")},renderHtml:function(){return'<div class="fc-bg"><table>'+this.rowHtml("slotBg")+'</table></div><div class="fc-slats"><table>'+this.slatRowHtml()+"</table></div>"},slotBgCellHtml:function(e){return this.bgCellHtml(e)},slatRowHtml:function(){for(var e,n,i,r=this.view,o=this.isRTL,a="",s=this.slotDuration.asMinutes()%15===0,l=t.duration(+this.minTime);l<this.maxTime;)e=this.start.clone().time(l),n=e.minutes(),i='<td class="fc-axis fc-time '+r.widgetContentClass+'" '+r.axisStyleAttr()+">"+(s&&n?"":"<span>"+$(e.format(this.axisFormat))+"</span>")+"</td>",a+="<tr "+(n?'class="fc-minor"':"")+">"+(o?"":i)+'<td class="'+r.widgetContentClass+'"/>'+(o?i:"")+"</tr>",l.add(this.slotDuration);return a},processOptions:function(){var e=this.view,n=e.opt("slotDuration"),i=e.opt("snapDuration");
n=t.duration(n),i=i?t.duration(i):n,this.slotDuration=n,this.snapDuration=i,this.cellDuration=i,this.minTime=t.duration(e.opt("minTime")),this.maxTime=t.duration(e.opt("maxTime")),this.axisFormat=e.opt("axisFormat")||e.opt("smallTimeFormat")},computeColHeadFormat:function(){return this.colCnt>1?this.view.opt("dayOfMonthFormat"):"dddd"},computeEventTimeFormat:function(){return this.view.opt("noMeridiemTimeFormat")},computeDisplayEventEnd:function(){return!0},updateCells:function(){var e,t=this.view,n=[];for(e=this.start.clone();e.isBefore(this.end);)n.push({day:e.clone()}),e.add(1,"day"),e=t.skipHiddenDays(e);this.isRTL&&n.reverse(),this.colData=n,this.colCnt=n.length,this.rowCnt=Math.ceil((this.maxTime-this.minTime)/this.snapDuration)},computeCellDate:function(e){var t=this.computeSnapTime(e.row);return this.view.calendar.rezoneDate(e.day).time(t)},getColEl:function(e){return this.dayEls.eq(e)},computeSnapTime:function(e){return t.duration(this.minTime+this.snapDuration*e)},rangeToSegs:function(e){var t,n,i,r,o=this.colCnt,a=[];for(e={start:e.start.clone().stripZone(),end:e.end.clone().stripZone()},n=0;o>n;n++)i=this.colData[n].day,r={start:i.clone().time(this.minTime),end:i.clone().time(this.maxTime)},t=D(e,r),t&&(t.col=n,a.push(t));return a},updateSize:function(e){this.computeSlatTops(),e&&this.updateSegVerticals()},computeRowCoords:function(){var e,t,n=this.el.offset().top,i=[];for(e=0;e<this.rowCnt;e++)t={top:n+this.computeTimeTop(this.computeSnapTime(e))},e>0&&(i[e-1].bottom=t.top),i.push(t);return t.bottom=t.top+this.computeTimeTop(this.computeSnapTime(e)),i},computeDateTop:function(e,n){return this.computeTimeTop(t.duration(e.clone().stripZone()-n.clone().stripTime()))},computeTimeTop:function(e){var t,n,i,r,o=(e-this.minTime)/this.slotDuration;return o=Math.max(0,o),o=Math.min(this.slatEls.length,o),t=Math.floor(o),n=o-t,i=this.slatTops[t],n?(r=this.slatTops[t+1],i+(r-i)*n):i},computeSlatTops:function(){var t,n=[];this.slatEls.each(function(i,r){t=e(r).position().top,n.push(t)}),n.push(t+this.slatEls.last().outerHeight()),this.slatTops=n},renderDrag:function(e,t){return t?(this.renderRangeHelper(e,t),this.applyDragOpacity(this.helperEl),!0):void this.renderHighlight(this.view.calendar.ensureVisibleEventRange(e))},destroyDrag:function(){this.destroyHelper(),this.destroyHighlight()},renderEventResize:function(e,t){this.renderRangeHelper(e,t)},destroyEventResize:function(){this.destroyHelper()},renderHelper:function(t,n){var i,r,o,a,s=this.eventsToSegs([t]);for(s=this.renderFgSegEls(s),i=this.renderSegTable(s),r=0;r<s.length;r++)o=s[r],n&&n.col===o.col&&(a=n.el,o.el.css({left:a.css("left"),right:a.css("right"),"margin-left":a.css("margin-left"),"margin-right":a.css("margin-right")}));this.helperEl=e('<div class="fc-helper-skeleton"/>').append(i).appendTo(this.el)},destroyHelper:function(){this.helperEl&&(this.helperEl.remove(),this.helperEl=null)},renderSelection:function(e){this.view.opt("selectHelper")?this.renderRangeHelper(e):this.renderHighlight(e)},destroySelection:function(){this.destroyHelper(),this.destroyHighlight()},renderFill:function(t,n,i){var r,o,a,s,l,c,u,d,h,f;if(n.length){for(n=this.renderFillSegEls(t,n),r=this.groupSegCols(n),i=i||t.toLowerCase(),o=e('<div class="fc-'+i+'-skeleton"><table><tr/></table></div>'),a=o.find("tr"),s=0;s<r.length;s++)if(l=r[s],c=e("<td/>").appendTo(a),l.length)for(u=e('<div class="fc-'+i+'-container"/>').appendTo(c),d=this.colData[s].day,h=0;h<l.length;h++)f=l[h],u.append(f.el.css({top:this.computeDateTop(f.start,d),bottom:-this.computeDateTop(f.end,d)}));this.bookendCells(a,t),this.el.append(o),this.elsByFill[t]=o}return n}});sn.mixin({eventSkeletonEl:null,renderFgSegs:function(t){return t=this.renderFgSegEls(t),this.el.append(this.eventSkeletonEl=e('<div class="fc-content-skeleton"/>').append(this.renderSegTable(t))),t},destroyFgSegs:function(){this.eventSkeletonEl&&(this.eventSkeletonEl.remove(),this.eventSkeletonEl=null)},renderSegTable:function(t){var n,i,r,o,a,s,l=e("<table><tr/></table>"),c=l.find("tr");for(n=this.groupSegCols(t),this.computeSegVerticals(t),o=0;o<n.length;o++){for(a=n[o],wt(a),s=e('<div class="fc-event-container"/>'),i=0;i<a.length;i++)r=a[i],r.el.css(this.generateSegPositionCss(r)),r.bottom-r.top<30&&r.el.addClass("fc-short"),s.append(r.el);c.append(e("<td/>").append(s))}return this.bookendCells(c,"eventSkeleton"),l},updateSegVerticals:function(){var e,t=(this.segs||[]).concat(this.businessHourSegs||[]);for(this.computeSegVerticals(t),e=0;e<t.length;e++)t[e].el.css(this.generateSegVerticalCss(t[e]))},computeSegVerticals:function(e){var t,n;for(t=0;t<e.length;t++)n=e[t],n.top=this.computeDateTop(n.start,n.start),n.bottom=this.computeDateTop(n.end,n.start)},fgSegHtml:function(e,t){var n,i,r,o=this.view,a=e.event,s=o.isEventDraggable(a),l=!t&&e.isStart&&o.isEventResizableFromStart(a),c=!t&&e.isEnd&&o.isEventResizableFromEnd(a),u=this.getSegClasses(e,s,l||c),d=Y(this.getEventSkinCss(a));return u.unshift("fc-time-grid-event","fc-v-event"),o.isMultiDayEvent(a)?(e.isStart||e.isEnd)&&(n=this.getEventTimeText(e),i=this.getEventTimeText(e,"LT"),r=this.getEventTimeText(e,null,!1)):(n=this.getEventTimeText(a),i=this.getEventTimeText(a,"LT"),r=this.getEventTimeText(a,null,!1)),'<a class="'+u.join(" ")+'"'+(a.url?' href="'+$(a.url)+'"':"")+(d?' style="'+d+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+$(r)+'" data-full="'+$(i)+'"><span>'+$(n)+"</span></div>":"")+(a.title?'<div class="fc-title">'+$(a.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(c?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},generateSegPositionCss:function(e){var t,n,i=this.view.opt("slotEventOverlap"),r=e.backwardCoord,o=e.forwardCoord,a=this.generateSegVerticalCss(e);return i&&(o=Math.min(1,r+2*(o-r))),this.isRTL?(t=1-o,n=r):(t=r,n=1-o),a.zIndex=e.level+1,a.left=100*t+"%",a.right=100*n+"%",i&&e.forwardPressure&&(a[this.isRTL?"marginLeft":"marginRight"]=20),a},generateSegVerticalCss:function(e){return{top:e.top,bottom:-e.bottom}},groupSegCols:function(e){var t,n=[];for(t=0;t<this.colCnt;t++)n.push([]);for(t=0;t<e.length;t++)n[e[t].col].push(e[t]);return n}});var ln=Lt.View=ct.extend({type:null,name:null,title:null,calendar:null,options:null,coordMap:null,el:null,isDisplayed:!1,isSkeletonRendered:!1,isEventsRendered:!1,start:null,end:null,intervalStart:null,intervalEnd:null,intervalDuration:null,intervalUnit:null,isSelected:!1,scrollerEl:null,scrollTop:null,widgetHeaderClass:null,widgetContentClass:null,highlightStateClass:null,nextDayThreshold:null,isHiddenDayHash:null,documentMousedownProxy:null,constructor:function(e,n,i,r){this.calendar=e,this.type=this.name=n,this.options=i,this.intervalDuration=r||t.duration(1,"day"),this.nextDayThreshold=t.duration(this.opt("nextDayThreshold")),this.initThemingProps(),this.initHiddenDays(),this.documentMousedownProxy=G(this,"documentMousedown"),this.initialize()},initialize:function(){},opt:function(e){return this.options[e]},trigger:function(e,t){var n=this.calendar;return n.trigger.apply(n,[e,t||this].concat(Array.prototype.slice.call(arguments,2),[this]))},setDate:function(e){this.setRange(this.computeRange(e))},setRange:function(t){e.extend(this,t),this.updateTitle()},computeRange:function(e){var t,n,i=A(this.intervalDuration),r=e.clone().startOf(i),o=r.clone().add(this.intervalDuration);return/year|month|week|day/.test(i)?(r.stripTime(),o.stripTime()):(r.hasTime()||(r=this.calendar.rezoneDate(r)),o.hasTime()||(o=this.calendar.rezoneDate(o))),t=r.clone(),t=this.skipHiddenDays(t),n=o.clone(),n=this.skipHiddenDays(n,-1,!0),{intervalUnit:i,intervalStart:r,intervalEnd:o,start:t,end:n}},computePrevDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).subtract(this.intervalDuration),-1)},computeNextDate:function(e){return this.massageCurrentDate(e.clone().startOf(this.intervalUnit).add(this.intervalDuration))},massageCurrentDate:function(e,t){return this.intervalDuration.as("days")<=1&&this.isHiddenDay(e)&&(e=this.skipHiddenDays(e,t),e.startOf("day")),e},updateTitle:function(){this.title=this.computeTitle()},computeTitle:function(){return this.formatRange({start:this.intervalStart,end:this.intervalEnd},this.opt("titleFormat")||this.computeTitleFormat(),this.opt("titleRangeSeparator"))},computeTitleFormat:function(){return"year"==this.intervalUnit?"YYYY":"month"==this.intervalUnit?this.opt("monthYearFormat"):this.intervalDuration.as("days")>1?"ll":"LL"},formatRange:function(e,t,n){var i=e.end;return i.hasTime()||(i=i.clone().subtract(1)),rt(e.start,i,t,n,this.opt("isRTL"))},setElement:function(e){this.el=e,this.bindGlobalHandlers()},removeElement:function(){this.clear(),this.isSkeletonRendered&&(this.destroySkeleton(),this.isSkeletonRendered=!1),this.unbindGlobalHandlers(),this.el.remove()},display:function(e){var t=null;this.isDisplayed&&(t=this.queryScroll()),this.clear(),this.setDate(e),this.render(),this.updateSize(),this.renderBusinessHours(),this.isDisplayed=!0,t=this.computeInitialScroll(t),this.forceScroll(t),this.triggerRender()},clear:function(){this.isDisplayed&&(this.unselect(),this.clearEvents(),this.triggerDestroy(),this.destroyBusinessHours(),this.destroy(),this.isDisplayed=!1)},render:function(){this.isSkeletonRendered||(this.renderSkeleton(),this.isSkeletonRendered=!0),this.renderDates()},destroy:function(){this.destroyDates()},renderSkeleton:function(){},destroySkeleton:function(){},renderDates:function(){},destroyDates:function(){},renderBusinessHours:function(){},destroyBusinessHours:function(){},triggerRender:function(){this.trigger("viewRender",this,this,this.el)},triggerDestroy:function(){this.trigger("viewDestroy",this,this,this.el)},bindGlobalHandlers:function(){e(document).on("mousedown",this.documentMousedownProxy)},unbindGlobalHandlers:function(){e(document).off("mousedown",this.documentMousedownProxy)},initThemingProps:function(){var e=this.opt("theme")?"ui":"fc";this.widgetHeaderClass=e+"-widget-header",this.widgetContentClass=e+"-widget-content",this.highlightStateClass=e+"-state-highlight"},updateSize:function(e){var t;e&&(t=this.queryScroll()),this.updateHeight(),this.updateWidth(),e&&this.setScroll(t)},updateWidth:function(){},updateHeight:function(){var e=this.calendar;this.setHeight(e.getSuggestedViewHeight(),e.isHeightAuto())},setHeight:function(){},computeScrollerHeight:function(e){var t,n,i=this.scrollerEl;return t=this.el.add(i),t.css({position:"relative",left:-1}),n=this.el.outerHeight()-i.height(),t.css({position:"",left:""}),e-n},computeInitialScroll:function(){return 0},queryScroll:function(){return this.scrollerEl?this.scrollerEl.scrollTop():void 0},setScroll:function(e){return this.scrollerEl?this.scrollerEl.scrollTop(e):void 0},forceScroll:function(e){var t=this;this.setScroll(e),setTimeout(function(){t.setScroll(e)},0)},displayEvents:function(e){var t=this.queryScroll();this.clearEvents(),this.renderEvents(e),this.isEventsRendered=!0,this.setScroll(t),this.triggerEventRender()},clearEvents:function(){this.isEventsRendered&&(this.triggerEventDestroy(),this.destroyEvents(),this.isEventsRendered=!1)},renderEvents:function(){},destroyEvents:function(){},triggerEventRender:function(){this.renderedEventSegEach(function(e){this.trigger("eventAfterRender",e.event,e.event,e.el)}),this.trigger("eventAfterAllRender")},triggerEventDestroy:function(){this.renderedEventSegEach(function(e){this.trigger("eventDestroy",e.event,e.event,e.el)})},resolveEventEl:function(t,n){var i=this.trigger("eventRender",t,t,n);return i===!1?n=null:i&&i!==!0&&(n=e(i)),n},showEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","")},e)},hideEvent:function(e){this.renderedEventSegEach(function(e){e.el.css("visibility","hidden")},e)},renderedEventSegEach:function(e,t){var n,i=this.getEventSegs();for(n=0;n<i.length;n++)t&&i[n].event._id!==t._id||i[n].el&&e.call(this,i[n])},getEventSegs:function(){return[]},isEventDraggable:function(e){var t=e.source||{};return z(e.startEditable,t.startEditable,this.opt("eventStartEditable"),e.editable,t.editable,this.opt("editable"))},reportEventDrop:function(e,t,n,i,r){var o=this.calendar,a=o.mutateEvent(e,t,n),s=function(){a.undo(),o.reportEventChange()};this.triggerEventDrop(e,a.dateDelta,s,i,r),o.reportEventChange()},triggerEventDrop:function(e,t,n,i,r){this.trigger("eventDrop",i[0],e,t,n,r,{})},reportExternalDrop:function(t,n,i,r,o){var a,s,l=t.eventProps;l&&(a=e.extend({},l,n),s=this.calendar.renderEvent(a,t.stick)[0]),this.triggerExternalDrop(s,n,i,r,o)},triggerExternalDrop:function(e,t,n,i,r){this.trigger("drop",n[0],t.start,i,r),e&&this.trigger("eventReceive",null,e)},renderDrag:function(){},destroyDrag:function(){},isEventResizableFromStart:function(e){return this.opt("eventResizableFromStart")&&this.isEventResizable(e)},isEventResizableFromEnd:function(e){return this.isEventResizable(e)},isEventResizable:function(e){var t=e.source||{};return z(e.durationEditable,t.durationEditable,this.opt("eventDurationEditable"),e.editable,t.editable,this.opt("editable"))},reportEventResize:function(e,t,n,i,r){var o=this.calendar,a=o.mutateEvent(e,t,n),s=function(){a.undo(),o.reportEventChange()};this.triggerEventResize(e,a.durationDelta,s,i,r),o.reportEventChange()},triggerEventResize:function(e,t,n,i,r){this.trigger("eventResize",i[0],e,t,n,r,{})},select:function(e,t){this.unselect(t),this.renderSelection(e),this.reportSelection(e,t)},renderSelection:function(){},reportSelection:function(e,t){this.isSelected=!0,this.trigger("select",null,e.start,e.end,t)},unselect:function(e){this.isSelected&&(this.isSelected=!1,this.destroySelection(),this.trigger("unselect",null,e))},destroySelection:function(){},documentMousedown:function(t){var n;this.isSelected&&this.opt("unselectAuto")&&C(t)&&(n=this.opt("unselectCancel"),n&&e(t.target).closest(n).length||this.unselect(t))},initHiddenDays:function(){var t,n=this.opt("hiddenDays")||[],i=[],r=0;for(this.opt("weekends")===!1&&n.push(0,6),t=0;7>t;t++)(i[t]=-1!==e.inArray(t,n))||r++;if(!r)throw"invalid hiddenDays";this.isHiddenDayHash=i},isHiddenDay:function(e){return t.isMoment(e)&&(e=e.day()),this.isHiddenDayHash[e]},skipHiddenDays:function(e,t,n){var i=e.clone();for(t=t||1;this.isHiddenDayHash[(i.day()+(n?t:0)+7)%7];)i.add(t,"days");return i},computeDayRange:function(e){var t,n=e.start.clone().stripTime(),i=e.end,r=null;return i&&(r=i.clone().stripTime(),t=+i.time(),t&&t>=this.nextDayThreshold&&r.add(1,"days")),(!i||n>=r)&&(r=n.clone().add(1,"days")),{start:n,end:r}},isMultiDayEvent:function(e){var t=this.computeDayRange(e);return t.end.diff(t.start,"days")>1}}),cn=Lt.Calendar=Lt.CalendarBase=ct.extend({dirDefaults:null,langDefaults:null,overrides:null,options:null,viewSpecCache:null,view:null,header:null,constructor:_t,initOptions:function(e){var t,r,o,a;e=i(e),t=e.lang,r=un[t],r||(t=cn.defaults.lang,r=un[t]||{}),o=z(e.isRTL,r.isRTL,cn.defaults.isRTL),a=o?cn.rtlDefaults:{},this.dirDefaults=a,this.langDefaults=r,this.overrides=e,this.options=n(cn.defaults,a,r,e),kt(this.options),this.viewSpecCache={}},getViewSpec:function(e){var t=this.viewSpecCache;return t[e]||(t[e]=this.buildViewSpec(e))},getUnitViewSpec:function(t){var n,i,r;if(-1!=e.inArray(t,$t))for(n=this.header.getViewsWithButtons(),e.each(Lt.views,function(e){n.push(e)}),i=0;i<n.length;i++)if(r=this.getViewSpec(n[i]),r&&r.singleUnit==t)return r},buildViewSpec:function(e){for(var i,r,o,a,s,l,c=this.overrides.views||{},u=[],d=[],h=e;h&&!i;)r=It[h]||{},o=c[h]||{},a=a||o.duration||r.duration,h=o.type||r.type,"function"==typeof r?(i=r,u.unshift(i.defaults||{})):u.unshift(r),d.unshift(o);return i?(l={"class":i,type:e},a&&(a=t.duration(a),a.valueOf()||(a=null)),a&&(l.duration=a,s=A(a),1===a.as(s)&&(l.singleUnit=s,d.unshift(c[s]||{}))),l.defaults=n.apply(null,u),l.overrides=n.apply(null,d),this.buildViewSpecOptions(l),this.buildViewSpecButtonText(l,e),l):void 0},buildViewSpecOptions:function(e){e.options=n(cn.defaults,e.defaults,this.dirDefaults,this.langDefaults,this.overrides,e.overrides),kt(e.options)},buildViewSpecButtonText:function(e,t){function n(n){var i=n.buttonText||{};return i[t]||(e.singleUnit?i[e.singleUnit]:null)}e.buttonTextOverride=n(this.overrides)||e.overrides.buttonText,e.buttonTextDefault=n(this.langDefaults)||n(this.dirDefaults)||e.defaults.buttonText||n(cn.defaults)||(e.duration?this.humanizeDuration(e.duration):null)||t},instantiateView:function(e){var t=this.getViewSpec(e);return new t["class"](this,e,t.options,t.duration)},isValidViewType:function(e){return Boolean(this.getViewSpec(e))}});cn.defaults={titleRangeSeparator:" \u2014 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},buttonIcons:{prev:"left-single-arrow",next:"right-single-arrow",prevYear:"left-double-arrow",nextYear:"right-double-arrow"},theme:!1,themeButtonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e",prevYear:"seek-prev",nextYear:"seek-next"},dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:200},cn.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},cn.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var un=Lt.langs={};Lt.datepickerLang=function(t,n,i){var r=un[t]||(un[t]={});r.isRTL=i.isRTL,r.weekNumberTitle=i.weekHeader,e.each(dn,function(e,t){r[e]=t(i)}),e.datepicker&&(e.datepicker.regional[n]=e.datepicker.regional[t]=i,e.datepicker.regional.en=e.datepicker.regional[""],e.datepicker.setDefaults(i))},Lt.lang=function(t,i){var r,o;r=un[t]||(un[t]={}),i&&(r=un[t]=n(r,i)),o=At(t),e.each(hn,function(e,t){null==r[e]&&(r[e]=t(o,r))}),cn.defaults.lang=t};var dn={buttonText:function(e){return{prev:q(e.prevText),next:q(e.nextText),today:q(e.currentText)}},monthYearFormat:function(e){return e.showMonthAfterYear?"YYYY["+e.yearSuffix+"] MMMM":"MMMM YYYY["+e.yearSuffix+"]"}},hn={dayOfMonthFormat:function(e,t){var n=e.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),t.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(e){return e.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(e){return e.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(e){return e.longDateFormat("LT").replace(/\s*a$/i,"")}},fn={smallDayDateFormat:function(e){return e.isRTL?"D dd":"dd D"},weekFormat:function(e){return e.isRTL?"w[ "+e.weekNumberTitle+"]":"["+e.weekNumberTitle+" ]w"},smallWeekFormat:function(e){return e.isRTL?"w["+e.weekNumberTitle+"]":"["+e.weekNumberTitle+"]w"}};Lt.lang("en",cn.englishDefaults),Lt.sourceNormalizers=[],Lt.sourceFetchers=[];var pn={dataType:"json",cache:!1},mn=1;cn.prototype.getPeerEvents=function(e){var t,n,i=this.getEventCache(),r=[];for(t=0;t<i.length;t++)n=i[t],e&&e._id===n._id||r.push(n);return r};var gn=It.basic=ln.extend({dayGrid:null,dayNumbersVisible:!1,weekNumbersVisible:!1,weekNumberWidth:null,headRowEl:null,initialize:function(){this.dayGrid=new an(this),this.coordMap=this.dayGrid.coordMap},setRange:function(e){ln.prototype.setRange.call(this,e),this.dayGrid.breakOnWeeks=/year|month|week/.test(this.intervalUnit),this.dayGrid.setRange(e)},computeRange:function(e){var t=ln.prototype.computeRange.call(this,e);return/year|month/.test(t.intervalUnit)&&(t.start.startOf("week"),t.start=this.skipHiddenDays(t.start),t.end.weekday()&&(t.end.add(1,"week").startOf("week"),t.end=this.skipHiddenDays(t.end,-1,!0))),t},render:function(){this.dayNumbersVisible=this.dayGrid.rowCnt>1,this.weekNumbersVisible=this.opt("weekNumbers"),this.dayGrid.numbersVisible=this.dayNumbersVisible||this.weekNumbersVisible,this.el.addClass("fc-basic-view").html(this.renderHtml()),this.headRowEl=this.el.find("thead .fc-row"),this.scrollerEl=this.el.find(".fc-day-grid-container"),this.dayGrid.coordMap.containerEl=this.scrollerEl,this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(this.hasRigidRows())},destroy:function(){this.dayGrid.destroyDates(),this.dayGrid.removeElement()},renderBusinessHours:function(){this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.dayGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'"><div class="fc-day-grid-container"><div class="fc-day-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){return this.weekNumbersVisible?'<th class="fc-week-number '+this.widgetHeaderClass+'" '+this.weekNumberStyleAttr()+"><span>"+$(this.opt("weekNumberTitle"))+"</span></th>":void 0},numberIntroHtml:function(e){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"><span>"+this.dayGrid.getCell(e,0).start.format("w")+"</span></td>":void 0},dayIntroHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number '+this.widgetContentClass+'" '+this.weekNumberStyleAttr()+"></td>":void 0},introHtml:function(){return this.weekNumbersVisible?'<td class="fc-week-number" '+this.weekNumberStyleAttr()+"></td>":void 0},numberCellHtml:function(e){var t,n=e.start;return this.dayNumbersVisible?(t=this.dayGrid.getDayClasses(n),t.unshift("fc-day-number"),'<td class="'+t.join(" ")+'" data-date="'+n.format()+'">'+n.date()+"</td>"):"<td/>"},weekNumberStyleAttr:function(){return null!==this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},hasRigidRows:function(){var e=this.opt("eventLimit");return e&&"number"!=typeof e},updateWidth:function(){this.weekNumbersVisible&&(this.weekNumberWidth=u(this.el.find(".fc-week-number")))},setHeight:function(e,t){var n,i=this.opt("eventLimit");h(this.scrollerEl),o(this.headRowEl),this.dayGrid.destroySegPopover(),i&&"number"==typeof i&&this.dayGrid.limitRows(i),n=this.computeScrollerHeight(e),this.setGridHeight(n,t),i&&"number"!=typeof i&&this.dayGrid.limitRows(i),!t&&d(this.scrollerEl,n)&&(r(this.headRowEl,v(this.scrollerEl)),n=this.computeScrollerHeight(e),this.scrollerEl.height(n))},setGridHeight:function(e,t){t?c(this.dayGrid.rowEls):l(this.dayGrid.rowEls,e,!0)},renderEvents:function(e){this.dayGrid.renderEvents(e),this.updateHeight()},getEventSegs:function(){return this.dayGrid.getEventSegs()},destroyEvents:function(){this.dayGrid.destroyEvents()},renderDrag:function(e,t){return this.dayGrid.renderDrag(e,t)},destroyDrag:function(){this.dayGrid.destroyDrag()},renderSelection:function(e){this.dayGrid.renderSelection(e)},destroySelection:function(){this.dayGrid.destroySelection()}}),vn=It.month=gn.extend({computeRange:function(e){var t,n=gn.prototype.computeRange.call(this,e);return this.isFixedWeeks()&&(t=Math.ceil(n.end.diff(n.start,"weeks",!0)),n.end.add(6-t,"weeks")),n},setGridHeight:function(e,t){t=t||"variable"===this.opt("weekMode"),t&&(e*=this.rowCnt/6),l(this.dayGrid.rowEls,e,!t)},isFixedWeeks:function(){var e=this.opt("weekMode");return e?"fixed"===e:this.opt("fixedWeekCount")}});vn.duration={months:1},vn.defaults={fixedWeekCount:!0},It.basicWeek={type:"basic",duration:{weeks:1}},It.basicDay={type:"basic",duration:{days:1}};var yn={allDaySlot:!0,allDayText:"all-day",scrollTime:"06:00:00",slotDuration:"00:30:00",minTime:"00:00:00",maxTime:"24:00:00",slotEventOverlap:!0},bn=5,wn=It.agenda=ln.extend({timeGrid:null,dayGrid:null,axisWidth:null,noScrollRowEls:null,bottomRuleEl:null,bottomRuleHeight:null,initialize:function(){this.timeGrid=new sn(this),this.opt("allDaySlot")?(this.dayGrid=new an(this),this.coordMap=new Jt([this.dayGrid.coordMap,this.timeGrid.coordMap])):this.coordMap=this.timeGrid.coordMap},setRange:function(e){ln.prototype.setRange.call(this,e),this.timeGrid.setRange(e),this.dayGrid&&this.dayGrid.setRange(e)},render:function(){this.el.addClass("fc-agenda-view").html(this.renderHtml()),this.scrollerEl=this.el.find(".fc-time-grid-container"),this.timeGrid.coordMap.containerEl=this.scrollerEl,this.timeGrid.setElement(this.el.find(".fc-time-grid")),this.timeGrid.renderDates(),this.bottomRuleEl=e('<hr class="fc-divider '+this.widgetHeaderClass+'"/>').appendTo(this.timeGrid.el),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.renderDates(),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight()),this.noScrollRowEls=this.el.find(".fc-row:not(.fc-scroller *)")},destroy:function(){this.timeGrid.destroyDates(),this.timeGrid.removeElement(),this.dayGrid&&(this.dayGrid.destroyDates(),this.dayGrid.removeElement())},renderBusinessHours:function(){this.timeGrid.renderBusinessHours(),this.dayGrid&&this.dayGrid.renderBusinessHours()},renderHtml:function(){return'<table><thead class="fc-head"><tr><td class="'+this.widgetHeaderClass+'">'+this.timeGrid.headHtml()+'</td></tr></thead><tbody class="fc-body"><tr><td class="'+this.widgetContentClass+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+this.widgetHeaderClass+'"/>':"")+'<div class="fc-time-grid-container"><div class="fc-time-grid"/></div></td></tr></tbody></table>'},headIntroHtml:function(){var e,t;return this.opt("weekNumbers")?(e=this.timeGrid.getCell(0).start,t=e.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"><span>"+$(t)+"</span></th>"):'<th class="fc-axis '+this.widgetHeaderClass+'" '+this.axisStyleAttr()+"></th>"},dayIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"><span>"+(this.opt("allDayHtml")||$(this.opt("allDayText")))+"</span></td>"},slotBgIntroHtml:function(){return'<td class="fc-axis '+this.widgetContentClass+'" '+this.axisStyleAttr()+"></td>"},introHtml:function(){return'<td class="fc-axis" '+this.axisStyleAttr()+"></td>"},axisStyleAttr:function(){return null!==this.axisWidth?'style="width:'+this.axisWidth+'px"':""},updateSize:function(e){this.timeGrid.updateSize(e),ln.prototype.updateSize.call(this,e)},updateWidth:function(){this.axisWidth=u(this.el.find(".fc-axis"))},setHeight:function(e,t){var n,i;null===this.bottomRuleHeight&&(this.bottomRuleHeight=this.bottomRuleEl.outerHeight()),this.bottomRuleEl.hide(),this.scrollerEl.css("overflow",""),h(this.scrollerEl),o(this.noScrollRowEls),this.dayGrid&&(this.dayGrid.destroySegPopover(),n=this.opt("eventLimit"),n&&"number"!=typeof n&&(n=bn),n&&this.dayGrid.limitRows(n)),t||(i=this.computeScrollerHeight(e),d(this.scrollerEl,i)?(r(this.noScrollRowEls,v(this.scrollerEl)),i=this.computeScrollerHeight(e),this.scrollerEl.height(i)):(this.scrollerEl.height(i).css("overflow","hidden"),this.bottomRuleEl.show()))},computeInitialScroll:function(){var e=t.duration(this.opt("scrollTime")),n=this.timeGrid.computeTimeTop(e);return n=Math.ceil(n),n&&n++,n},renderEvents:function(e){var t,n,i=[],r=[],o=[];for(n=0;n<e.length;n++)e[n].allDay?i.push(e[n]):r.push(e[n]);t=this.timeGrid.renderEvents(r),this.dayGrid&&(o=this.dayGrid.renderEvents(i)),this.updateHeight()},getEventSegs:function(){return this.timeGrid.getEventSegs().concat(this.dayGrid?this.dayGrid.getEventSegs():[])},destroyEvents:function(){this.timeGrid.destroyEvents(),this.dayGrid&&this.dayGrid.destroyEvents()},renderDrag:function(e,t){return e.start.hasTime()?this.timeGrid.renderDrag(e,t):this.dayGrid?this.dayGrid.renderDrag(e,t):void 0},destroyDrag:function(){this.timeGrid.destroyDrag(),this.dayGrid&&this.dayGrid.destroyDrag()},renderSelection:function(e){e.start.hasTime()||e.end.hasTime()?this.timeGrid.renderSelection(e):this.dayGrid&&this.dayGrid.renderSelection(e)},destroySelection:function(){this.timeGrid.destroySelection(),this.dayGrid&&this.dayGrid.destroySelection()}});return wn.defaults=yn,It.agendaWeek={type:"agenda",duration:{weeks:1}},It.agendaDay={type:"agenda",duration:{days:1}},Lt}),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&!function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});/**
 * @license wysihtml5x v0.4.13
 * https://github.com/Edicy/wysihtml5
 *
 * Author: Christopher Blum (https://github.com/tiff)
 * Secondary author of extended features: Oliver Pulges (https://github.com/pulges)
 *
 * Copyright (C) 2012 XING AG
 * Licensed under the MIT license (MIT)
 *
 */
var wysihtml5={version:"0.4.13",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};/**
 * Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Copyright 2014, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3alpha.20140804
 * Build date: 4 August 2014
 */
!function(e,t){"function"==typeof define&&define.amd?define(e):t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==y||!(n!=v||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=v||!e[t])}function n(e,t){return typeof e[t]!=b}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&T(e,x)&&D(e,E)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(n){t(window,"console")&&e(window.console,"log")&&window.console.log(n)}function s(e,t){t?window.alert(e):a(e)}function l(e){_.initialized=!0,_.supported=!1,s("Rangy is not supported on this page in your browser. Reason: "+e,_.config.alertOnFail)}function c(e){s("Rangy warning: "+e,_.config.alertOnWarn)}function u(e){return e.message||e.description||String(e)}function d(){if(!_.initialized){var t,n=!1,i=!1;e(document,"createRange")&&(t=document.createRange(),T(t,C)&&D(t,w)&&(n=!0));var s=o(document);if(!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),r(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");_.initialized=!0,_.features={implementsDomRange:n,implementsTextRange:i};var c,d;for(var h in N)(c=N[h])instanceof f&&c.init(c,_);for(var p=0,m=A.length;m>p;++p)try{A[p](_)}catch(g){d="Rangy init listener threw an exception. Continuing. Detail: "+u(g),a(d)}}}function h(e){e=e||window,d();for(var t=0,n=R.length;n>t;++t)R[t](e)}function f(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function p(e,t,n,i){var r=new f(t,n,function(e){if(!e.initialized){e.initialized=!0;try{i(_,e),e.supported=!0}catch(n){var r="Module '"+t+"' failed to load: "+u(n);a(r)}}});N[t]=r}function m(){}function g(){}var v="object",y="function",b="undefined",w=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],E=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],x=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],T=i(e),S=i(t),D=i(n),N={},_={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:T,areHostObjects:S,areHostProperties:D,isTextRange:r,getBody:o},features:{},modules:N,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==b?!0:rangyAutoInitialize}};_.fail=l,_.warn=c,{}.hasOwnProperty?_.util.extend=function(e,t,n){var i,r;for(var o in t)t.hasOwnProperty(o)&&(i=e[o],r=t[o],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&_.util.extend(i,r,!0),e[o]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e}:l("hasOwnProperty not supported"),function(){var e=document.createElement("div");e.appendChild(document.createElement("span"));var t,n=[].slice;try{1==n.call(e.childNodes,0)[0].nodeType&&(t=function(e){return n.call(e,0)})}catch(i){}t||(t=function(e){for(var t=[],n=0,i=e.length;i>n;++n)t[n]=e[n];return t}),_.util.toArray=t}();var k;e(document,"addEventListener")?k=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?k=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),_.util.addListener=k;var A=[];_.init=d,_.addInitListener=function(e){_.initialized?e(_):A.push(e)};var R=[];_.addShimListener=function(e){R.push(e)},_.shim=_.createMissingNativeApi=h,f.prototype={init:function(){for(var e,t,n=this.dependencies||[],i=0,r=n.length;r>i;++i){if(t=n[i],e=N[t],!(e&&e instanceof f))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){_.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){_.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},_.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var i=p(!1,e,n,t);_.initialized&&i.init()},_.createCoreModule=function(e,t,n){p(!0,e,t,n)},_.RangePrototype=m,_.rangePrototype=new m,_.selectionPrototype=new g;var M=!1,O=function(){M||(M=!0,!_.initialized&&_.config.autoInitialize&&d())};return typeof window==b?void l("No window found"):typeof document==b?void l("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",O,!1),k(window,"load",O),_.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==k||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(O(i,n))return n;return null}function s(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return s(e,t,!0)}function c(e,t,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.parentNode,i===t)return r;r=i}return null}function u(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function h(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function f(e,t,n){var i=e.cloneNode(!1);if(i.deleteData(0,t),e.deleteData(t,e.length-t),h(i,e),n)for(var o,a=0;o=n[a++];)o.node==e&&o.offset>t?(o.node=i,o.offset-=t):o.node==e.parentNode&&o.offset>r(e)&&++o.offset;return i}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=k)return e.ownerDocument;if(typeof e.document!=k)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var n=p(e);if(typeof n.defaultView!=k)return n.defaultView;if(typeof n.parentWindow!=k)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=k)return e.contentDocument;if(typeof e.contentWindow!=k)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=k)return e.contentWindow;if(typeof e.contentDocument!=k)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function y(e){return e&&A.isHostMethod(e,"setTimeout")&&A.isHostObject(e,"document")}function b(e,t,n){var i;if(e?A.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):p(e):y(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function w(e){for(var t;t=e.parentNode;)e=t;return e}function C(e,n,i,o){var s,l,u,d,h;if(e==i)return n===o?0:o>n?-1:1;if(s=c(i,e,!0))return n<=r(s)?-1:1;if(s=c(e,i,!0))return r(s)<o?-1:1;if(l=a(e,i),!l)throw new Error("comparePoints error: nodes have no common ancestor");if(u=e===l?l:c(e,l,!0),d=i===l?l:c(i,l,!0),u===d)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=l.firstChild;h;){if(h===u)return-1;if(h===d)return 1;h=h.nextSibling}}function E(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function x(e){if(!e)return"[No node]";if(L&&E(e))return"[Broken node]";if(u(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+r(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function T(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function S(e){this.root=e,this._next=e}function D(e){return new S(e)}function N(e,t){this.node=e,this.offset=t}function _(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var k="undefined",A=e.util;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var R=document.createElement("div");A.areHostMethods(R,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects(R,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),A.isHostProperty(R,"innerHTML")||t.fail("Element is missing innerHTML property");var M=document.createTextNode("test");A.areHostMethods(M,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects(R,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(M,["data"]))||t.fail("Incomplete Text Node implementation");var O=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},L=!1;!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br>",L=E(n),e.features.crashyTextNodes=L}();var I;typeof window.getComputedStyle!=k?I=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=k?I=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),S.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},N.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+x(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},_.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},_.prototype.toString=function(){return this.message},e.dom={arrayContains:O,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:c,isCharacterDataNode:u,isTextOrCommentNode:d,insertAfter:h,splitDataNode:f,getDocument:p,getWindow:m,getIframeWindow:v,getIframeDocument:g,getBody:A.getBody,isWindow:y,getContentDocument:b,getRootContainer:w,comparePoints:C,isBrokenNode:E,inspectNode:x,getComputedStyleProperty:I,fragmentFromNodeChildren:T,createIterator:D,DomPosition:N},e.DOMException=_}),_.createCoreModule("DomRange",["DomUtil"],function(e){function t(e,t){return 3!=e.nodeType&&(j(e,t.startContainer)||j(e,t.endContainer))}function n(e){return e.document||z(e.startContainer)}function i(e){return new H(e.parentNode,B(e))}function r(e){return new H(e.parentNode,B(e)+1)}function o(e,t,n){var i=11==e.nodeType?e.firstChild:e;return P(t)?n==t.length?L.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:q(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function a(e,t,i){if(T(e),T(t),n(t)!=n(e))throw new F("WRONG_DOCUMENT_ERR");var r=$(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=$(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?0>=r&&o>=0:0>r&&o>0}function s(e){for(var t,i,r,o=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(r=e.getSubtreeIterator(),i.appendChild(s(r)),r.detach()),10==i.nodeType)throw new F("HIERARCHY_REQUEST_ERR");o.appendChild(i)}return o}function l(e,t,n){var i,r;n=n||{stop:!1};for(var o,a;o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),l(a,t,n),a.detach(),n.stop)return}else for(i=L.createIterator(o);r=i.next();)if(t(r)===!1)return void(n.stop=!0)}function c(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),c(t),t.detach()):e.remove()}function u(e){for(var t,i,r=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(u(i)),i.detach()):e.remove(),10==t.nodeType)throw new F("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function d(e,t,n){var i,r=!(!t||!t.length),o=!!n;r&&(i=new RegExp("^("+t.join("|")+")$"));var a=[];return l(new f(e,!1),function(t){if(!(r&&!i.test(t.nodeType)||o&&!n(t))){var s=e.startContainer;if(t!=s||!P(s)||e.startOffset!=s.length){var l=e.endContainer;t==l&&P(l)&&0==e.endOffset||a.push(t)}}}),a}function h(e){var t="undefined"==typeof e.getName?"Range":e.getName();return"["+t+"("+L.inspectNode(e.startContainer)+":"+e.startOffset+", "+L.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function f(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&P(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||P(this.sc)?Y(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||P(this.ec)?Y(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,U(e,i))return r;r=r.parentNode}return null}}function m(e,t){if(nt(e,t))throw new F("INVALID_NODE_TYPE_ERR")}function g(e,t){if(!U(t,e.nodeType))throw new F("INVALID_NODE_TYPE_ERR")}function v(e,t){if(0>t||t>(P(e)?e.length:e.childNodes.length))throw new F("INDEX_SIZE_ERR")}function y(e,t){if(et(e,!0)!==et(t,!0))throw new F("WRONG_DOCUMENT_ERR")}function b(e){if(tt(e,!0))throw new F("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new F(t)}function C(e){return G&&L.isBrokenNode(e)||!U(K,e.nodeType)&&!et(e,!0)}function E(e,t){return t<=(P(e)?e.length:e.childNodes.length)}function x(e){return!!e.startContainer&&!!e.endContainer&&!C(e.startContainer)&&!C(e.endContainer)&&E(e.startContainer,e.startOffset)&&E(e.endContainer,e.endOffset)}function T(e){if(!x(e))throw new Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function S(e,t){T(e);var n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,a=n===r;P(r)&&o>0&&o<r.length&&q(r,o,t),P(n)&&i>0&&i<n.length&&(n=q(n,i,t),a?(o-=i,r=n):r==n.parentNode&&o>=B(n)&&o++,i=0),e.setStartAndEnd(n,i,r,o)}function D(e){T(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function N(e){e.START_TO_START=lt,e.START_TO_END=ct,e.END_TO_END=ut,e.END_TO_START=dt,e.NODE_BEFORE=ht,e.NODE_AFTER=ft,e.NODE_BEFORE_AND_AFTER=pt,e.NODE_INSIDE=mt}function _(e){N(e),N(e.prototype)}function k(e,t){return function(){T(this);var n,i,o=this.startContainer,a=this.startOffset,s=this.commonAncestorContainer,c=new f(this,!0);o!==s&&(n=Y(o,s,!0),i=r(n),o=i.node,a=i.offset),l(c,b),c.reset();var u=e(c);return c.detach(),t(this,o,a,o,a),u}}function A(n,o){function a(e,t){return function(n){g(n,Z),g(V(n),K);var o=(e?i:r)(n);(t?s:l)(this,o.node,o.offset)}}function s(e,t,n){var i=e.endContainer,r=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((V(t)!=V(i)||1==$(t,n,i,r))&&(i=t,r=n),o(e,t,n,i,r))}function l(e,t,n){var i=e.startContainer,r=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((V(t)!=V(i)||-1==$(t,n,i,r))&&(i=t,r=n),o(e,i,r,t,n))}var d=function(){};d.prototype=e.rangePrototype,n.prototype=new d,I.extend(n.prototype,{setStart:function(e,t){m(e,!0),v(e,t),s(this,e,t)},setEnd:function(e,t){m(e,!0),v(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,r=n;switch(e.length){case 3:r=e[2];break;case 4:i=e[2],r=e[3]}o(this,t,n,i,r)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){T(this),e?o(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):o(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){m(e,!0),o(this,e,0,e,W(e))},selectNode:function(e){m(e,!1),g(e,Z);var t=i(e),n=r(e);o(this,t.node,t.offset,n.node,n.offset)},extractContents:k(u,o),deleteContents:k(c,o),canSurroundContents:function(){T(this),b(this.startContainer),b(this.endContainer);var e=new f(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(e){S(this,e)},normalizeBoundaries:function(){T(this);var e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},a=function(r){var o=r.previousSibling;if(o&&o.nodeType==r.nodeType){e=r;var a=r.length;if(t=o.length,r.insertData(0,o.data),o.parentNode.removeChild(o),e==n)i+=t,n=e;else if(n==r.parentNode){var s=B(r);i==s?(n=r,i=a):i>s&&i--}}},s=!0;if(P(n))n.length==i&&r(n);else{if(i>0){var l=n.childNodes[i-1];l&&P(l)&&r(l)}s=!this.collapsed}if(s){if(P(e))0==t&&a(e);else if(t<e.childNodes.length){var c=e.childNodes[t];c&&P(c)&&a(c)}}else e=n,t=i;o(this,e,t,n,i)},collapseToPoint:function(e,t){m(e,!0),v(e,t),this.setStartAndEnd(e,t)}}),_(n)}function R(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:L.getCommonAncestor(e.startContainer,e.endContainer)}function M(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=L.getDocument(t),R(e)}function O(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,R(this)}var L=e.dom,I=e.util,H=L.DomPosition,F=e.DOMException,P=L.isCharacterDataNode,B=L.getNodeIndex,j=L.isOrIsAncestorOf,z=L.getDocument,$=L.comparePoints,q=L.splitDataNode,Y=L.getClosestAncestorIn,W=L.getNodeLength,U=L.arrayContains,V=L.getRootContainer,G=e.features.crashyTextNodes;f.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,P(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!P(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)e=this.range.cloneRange(),e.collapse(!1);else{e=new O(n(this.range));var t=this._current,i=t,r=0,o=t,a=W(t);j(t,this.sc)&&(i=this.sc,r=this.so),j(t,this.ec)&&(o=this.ec,a=this.eo),M(e,i,r,o,a)}return new f(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var Z=[1,3,4,5,7,8,10],K=[2,9,11],X=[5,6,10,12],Q=[1,3,4,5,7,8,10,11],J=[1,3,4,5,7,8],et=p([9,11]),tt=p(X),nt=p([6,10,12]),it=document.createElement("style"),rt=!1;try{it.innerHTML="<b>x</b>",rt=3==it.firstChild.nodeType}catch(ot){}e.features.htmlParsingConforms=rt;var at=rt?function(e){var t=this.startContainer,n=z(t);if(!t)throw new F("INVALID_STATE_ERR");var i=null;return 1==t.nodeType?i=t:P(t)&&(i=L.parentElement(t)),i=null===i||"HTML"==i.nodeName&&L.isHtmlNamespace(z(i).documentElement)&&L.isHtmlNamespace(i)?n.createElement("body"):i.cloneNode(!1),i.innerHTML=e,L.fragmentFromNodeChildren(i)}:function(e){var t=n(this),i=t.createElement("body");return i.innerHTML=e,L.fragmentFromNodeChildren(i)},st=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],lt=0,ct=1,ut=2,dt=3,ht=0,ft=1,pt=2,mt=3;I.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){T(this),y(this.startContainer,t.startContainer);var n,i,r,o,a=e==dt||e==lt?"start":"end",s=e==ct||e==lt?"start":"end";return n=this[a+"Container"],i=this[a+"Offset"],r=t[s+"Container"],o=t[s+"Offset"],$(n,i,r,o)},insertNode:function(e){if(T(this),g(e,Q),b(this.startContainer),j(e,this.startContainer))throw new F("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){T(this);var e,t;if(this.collapsed)return n(this).createDocumentFragment();if(this.startContainer===this.endContainer&&P(this.startContainer))return e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t;var i=new f(this,!0);return e=s(i),i.detach(),e},canSurroundContents:function(){T(this),b(this.startContainer),b(this.endContainer);var e=new f(this,!0),n=e._first&&t(e._first,this)||e._last&&t(e._last,this);return e.detach(),!n},surroundContents:function(e){if(g(e,J),!this.canSurroundContents())throw new F("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){T(this);for(var e,t=new O(n(this)),i=st.length;i--;)e=st[i],t[e]=this[e];return t},toString:function(){T(this);var e=this.startContainer;if(e===this.endContainer&&P(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new f(this,!0);return l(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){T(this);var t=e.parentNode,n=B(e);if(!t)throw new F("NOT_FOUND_ERR");var i=this.comparePoint(t,n),r=this.comparePoint(t,n+1);return 0>i?r>0?pt:ht:r>0?ft:mt},comparePoint:function(e,t){return T(this),w(e,"HIERARCHY_REQUEST_ERR"),y(e,this.startContainer),$(e,t,this.startContainer,this.startOffset)<0?-1:$(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:at,toHtml:function(){return D(this)},intersectsNode:function(e,t){if(T(this),w(e,"NOT_FOUND_ERR"),z(e)!==n(this))return!1;var i=e.parentNode,r=B(e);w(i,"NOT_FOUND_ERR");var o=$(i,r,this.endContainer,this.endOffset),a=$(i,r+1,this.startContainer,this.startOffset);return t?0>=o&&a>=0:0>o&&a>0},isPointInRange:function(e,t){return T(this),w(e,"HIERARCHY_REQUEST_ERR"),y(e,this.startContainer),$(e,t,this.startContainer,this.startOffset)>=0&&$(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return a(this,e,!1)},intersectsOrTouchesRange:function(e){return a(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=$(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=$(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange();return-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==$(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==$(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new F("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==mt},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,W(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var i=n.pop();return t.setEnd(i,i.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return T(this),d(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var i=n(this),r=e.createRange(i);t=t||L.getBody(i),r.selectNodeContents(t);var o=this.intersection(r),a=0,s=0;return o&&(r.setEnd(o.startContainer,o.startOffset),a=r.toString().length,s=a+o.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var i,r,o,a,s=[t],l=!1,c=!1;!c&&(i=s.pop());)if(3==i.nodeType)r=n+i.length,!l&&e.start>=n&&e.start<=r&&(this.setStart(i,e.start-n),l=!0),l&&e.end>=n&&e.end<=r&&(this.setEnd(i,e.end-n),c=!0),n=r;else for(a=i.childNodes,o=a.length;o--;)s.push(a[o])},getName:function(){return"DomRange"},equals:function(e){return O.rangesEqual(this,e)},isValid:function(){return x(this)},inspect:function(){return h(this)},detach:function(){}}),A(O,M),I.extend(O,{rangeProperties:st,RangeIterator:f,copyComparisonConstants:_,createPrototypeRange:A,inspect:h,toHtml:D,getRangeDocument:n,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=O}),_.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,r=e.dom,o=e.util,a=r.DomPosition,s=e.DomRange,l=r.getBody,c=r.getContentDocument,u=r.isCharacterDataNode;if(e.features.implementsDomRange&&!function(){function i(e){for(var t,n=h.length;n--;)t=h[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function a(e,t,n,i,r){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==i||e.endOffset!=r,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(i,r),e.setStart(t,n))}var u,d,h=s.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},s.createPrototypeRange(n,a),u=n.prototype,u.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},u.cloneContents=function(){return this.nativeRange.cloneContents()},u.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},u.collapse=function(e){this.nativeRange.collapse(e),i(this)},u.cloneRange=function(){return new n(this.nativeRange.cloneRange())},u.refresh=function(){i(this)},u.toString=function(){return this.nativeRange.toString()};var f=document.createTextNode("test");l(document).appendChild(f);var p=document.createRange();p.setStart(f,0),p.setEnd(f,0);try{p.setStart(f,1),u.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},u.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},d=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(m){u.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},u.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},d=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}u.setStartBefore=d("setStartBefore","setEndBefore"),u.setStartAfter=d("setStartAfter","setEndAfter"),u.setEndBefore=d("setEndBefore","setStartBefore"),u.setEndAfter=d("setEndAfter","setStartAfter"),u.selectNodeContents=function(e){this.setStartAndEnd(e,0,r.getNodeLength(e))},p.selectNodeContents(f),p.setEnd(f,3);var g=document.createRange();g.selectNodeContents(f),g.setEnd(f,4),g.setStart(f,2),u.compareBoundaryPoints=-1==p.compareBoundaryPoints(p.START_TO_END,g)&&1==p.compareBoundaryPoints(p.END_TO_START,g)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var v=document.createElement("div");v.innerHTML="123";var y=v.firstChild,b=l(document);b.appendChild(v),p.setStart(y,1),p.setEnd(y,2),p.deleteContents(),"13"==y.data&&(u.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},u.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),b.removeChild(v),b=null,o.isHostMethod(p,"createContextualFragment")&&(u.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),l(document).removeChild(f),u.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange){var d=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var i=n.parentElement();n=e.duplicate(),n.collapse(!1);var o=n.parentElement(),a=i==o?i:r.getCommonAncestor(i,o);return a==t?a:r.getCommonAncestor(t,a)},h=function(e){return 0==e.compareEndPoints("StartToEnd",e)},f=function(e,t,n,i,o){var s=e.duplicate();s.collapse(n);var l=s.parentElement();if(r.isOrIsAncestorOf(t,l)||(l=t),!l.canHaveHTML){var c=new a(l.parentNode,r.getNodeIndex(l));return{boundaryPosition:c,nodeInfo:{nodeIndex:c.offset,containerElement:c.node}}}var d=r.getDocument(l).createElement("span");d.parentNode&&d.parentNode.removeChild(d);for(var h,f,p,m,g,v=n?"StartToStart":"StartToEnd",y=o&&o.containerElement==l?o.nodeIndex:0,b=l.childNodes.length,w=b,C=w;;){if(C==b?l.appendChild(d):l.insertBefore(d,l.childNodes[C]),s.moveToElementText(d),h=s.compareEndPoints(v,e),0==h||y==w)break;if(-1==h){if(w==y+1)break;y=C}else w=w==y+1?y:C;C=Math.floor((y+w)/2),l.removeChild(d)}if(g=d.nextSibling,-1==h&&g&&u(g)){s.setEndPoint(n?"EndToStart":"EndToEnd",e);var E;if(/[\r\n]/.test(g.data)){var x=s.duplicate(),T=x.text.replace(/\r\n/g,"\r").length;for(E=x.moveStart("character",T);-1==(h=x.compareEndPoints("StartToEnd",x));)E++,x.moveStart("character",1)}else E=s.text.length;m=new a(g,E)}else f=(i||!n)&&d.previousSibling,p=(i||n)&&d.nextSibling,m=p&&u(p)?new a(p,0):f&&u(f)?new a(f,f.data.length):new a(l,r.getNodeIndex(d));return d.parentNode.removeChild(d),{boundaryPosition:m,nodeInfo:{nodeIndex:C,containerElement:l}}},p=function(e,t){var n,i,o,a,s=e.offset,c=r.getDocument(e.node),d=l(c).createTextRange(),h=u(e.node);return h?(n=e.node,i=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,i=e.node),o=c.createElement("span"),o.innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),d.moveToElementText(o),d.collapse(!t),i.removeChild(o),h&&d[t?"moveStart":"moveEnd"]("character",s),d};i=function(e){this.textRange=e,this.refresh()},i.prototype=new s(document),i.prototype.refresh=function(){var e,t,n,i=d(this.textRange);h(this.textRange)?t=e=f(this.textRange,i,!0,!0).boundaryPosition:(n=f(this.textRange,i,!0,!1),e=n.boundaryPosition,t=f(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(i);var m=function(e){if(e.collapsed)return p(new a(e.startContainer,e.startOffset),!0);var t=p(new a(e.startContainer,e.startOffset),!0),n=p(new a(e.endContainer,e.endOffset),!1),i=l(s.getRangeDocument(e)).createTextRange();return i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i};if(i.rangeToTextRange=m,i.prototype.toTextRange=function(){return m(this)},e.WrappedTextRange=i,!e.features.implementsDomRange||e.config.preferTextRange){var g=function(){return this}();"undefined"==typeof g.Range&&(g.Range=i),e.createNativeRange=function(e){return e=c(e,t,"createNativeRange"),l(e).createTextRange()},e.WrappedRange=i}}e.createRange=function(n){return n=c(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=c(e,t,"createRangyRange"),new s(e)},e.createIframeRange=function(n){return t.deprecationNotice("createIframeRange()","createRange(iframeEl)"),e.createRange(n)},e.createIframeRangyRange=function(n){return t.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),e.createRangyRange(n)},e.addShimListener(function(t){var n=t.document;"undefined"==typeof n.createRange&&(n.createRange=function(){return e.createRange(n)
}),n=t=null})}),_.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if(_.isWindow(e))return e;if(e instanceof v)return e.win;var i=_.getContentDocument(e,t,n);return _.getWindow(i)}return window}function r(e){return i(e,"getWinSelection").getSelection()}function o(e){return i(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==_.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function c(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function u(t){var n;return t instanceof R?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof M?n=t.nativeRange:I.implementsDomRange&&t instanceof _.getWindow(t.startContainer).Range&&(n=t),n}function d(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!_.isAncestorOf(e[0],e[t]))return!1;return!0}function h(e){var n=e.getNodes();if(!d(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function f(e){return!!e&&"undefined"!=typeof e.text}function p(e,t){var n=new M(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function m(t){if(t._ranges.length=0,"None"==t.docSelection.type)c(t);else{var n=t.docSelection.createRange();if(f(n))p(t,n);else{t.rangeCount=n.length;for(var i,r=F(n.item(0)),o=0;o<t.rangeCount;++o)i=e.createRange(r),i.selectNode(n.item(o)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}}function g(e,n){for(var i=e.docSelection.createRange(),r=h(n),o=F(i.item(0)),a=P(o).createControlRange(),s=0,l=i.length;l>s;++s)a.add(i.item(s));try{a.add(r)}catch(c){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),m(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function y(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function b(e,t){for(var n,i,r=tt.length;r--;)if(n=tt[r],i=n.selection,"deleteAll"==t)y(i);else if(n.win==e)return"delete"==t?(tt.splice(r,1),!0):i;return"deleteAll"==t&&(tt.length=0),null}function w(e,n){for(var i,r=F(n[0].startContainer),o=P(r).createControlRange(),a=0,s=n.length;s>a;++a){i=h(n[a]);try{o.add(i)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}o.select(),m(e)}function C(e,t){if(e.win.document!=F(t))throw new O("WRONG_DOCUMENT_ERR")}function E(t){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(t?"Start":"End")](n,i)):(r=e.createRange(this.win.document),r.setStartAndEnd(n,i)),this.setSingleRange(r,this.isBackward())}}function x(e){var t=[],n=new L(e.anchorNode,e.anchorOffset),i=new L(e.focusNode,e.focusOffset),r="function"==typeof e.getName?e.getName():"Selection";if("undefined"!=typeof e.rangeCount)for(var o=0,a=e.rangeCount;a>o;++o)t[o]=R.inspect(e.getRangeAt(o));return"["+r+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+i.inspect()+"]"}e.config.checkSelectionRanges=!0;var T,S,D="boolean",N="number",_=e.dom,k=e.util,A=k.isHostMethod,R=e.DomRange,M=e.WrappedRange,O=e.DOMException,L=_.DomPosition,I=e.features,H="Control",F=_.getDocument,P=_.getBody,B=R.rangesEqual,j=A(window,"getSelection"),z=k.isHostObject(document,"selection");I.implementsWinGetSelection=j,I.implementsDocSelection=z;var $=z&&(!j||e.config.preferTextRange);$?(T=o,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||F(n.createRange().parentElement())==t}):j?(T=r,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=T;var q=T(),Y=e.createNativeRange(document),W=P(document),U=k.areHostProperties(q,["anchorNode","focusNode","anchorOffset","focusOffset"]);I.selectionHasAnchorAndFocus=U;var V=A(q,"extend");I.selectionHasExtend=V;var G=typeof q.rangeCount==N;I.selectionHasRangeCount=G;var Z=!1,K=!0,X=V?function(t,n){var i=R.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(u(r)),t.extend(n.startContainer,n.startOffset)}:null;k.areHostMethods(q,["addRange","getRangeAt","removeAllRanges"])&&typeof q.rangeCount==N&&I.implementsDomRange&&!function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,i=n>1,r=[],o=a(t),s=0;n>s;++s)r[s]=t.getRangeAt(s);var l=P(document),c=l.appendChild(document.createElement("div"));c.contentEditable="false";var u=c.appendChild(document.createTextNode("\xa0\xa0\xa0")),d=document.createRange();if(d.setStart(u,1),d.collapse(!0),t.addRange(d),K=1==t.rangeCount,t.removeAllRanges(),!i){var h=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(h&&parseInt(h[1])>=36)Z=!1;else{var f=d.cloneRange();d.setStart(u,0),f.setEnd(u,3),f.setStart(u,2),t.addRange(d),t.addRange(f),Z=2==t.rangeCount}}for(l.removeChild(c),t.removeAllRanges(),s=0;n>s;++s)0==s&&o?X?X(t,r[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(r[s])):t.addRange(r[s])}}(),I.selectionSupportsMultipleRanges=Z,I.collapsedNonEditableSelectionsSupported=K;var Q,J=!1;W&&A(W,"createControlRange")&&(Q=W.createControlRange(),k.areHostProperties(Q,["item","add"])&&(J=!0)),I.implementsControlRange=J,S=U?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return e.rangeCount?e.getRangeAt(e.rangeCount-1).collapsed:!1};var et;A(q,"getRangeAt")?et=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:U&&(et=function(t){var n=F(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),v.prototype=e.selectionPrototype;var tt=[],nt=function(e){if(e&&e instanceof v)return e.refresh(),e;e=i(e,"getNativeSelection");var t=b(e),n=T(e),r=z?o(e):null;return t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new v(n,r,e),tt.push({win:e,selection:t})),t};e.getSelection=nt,e.getIframeSelection=function(n){return t.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),e.getSelection(_.getIframeWindow(n))};var it=v.prototype;if(!$&&U&&k.areHostMethods(q,["removeAllRanges","addRange"])){it.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),c(this)};var rt=function(e,t){X(e.nativeSelection,t),e.refresh()};it.addRange=G?function(t,i){if(J&&z&&this.docSelection.type==H)g(this,t);else if(n(i)&&V)rt(this,t);else{var r;if(Z?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(u(t).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1){if(e.config.checkSelectionRanges){var o=et(this.nativeSelection,this.rangeCount-1);o&&!B(o,t)&&(t=new M(o))}this._ranges[this.rangeCount-1]=t,s(this,t,st(this.nativeSelection)),this.isCollapsed=S(this)}else this.refresh()}}:function(e,t){n(t)&&V?rt(this,e):(this.nativeSelection.addRange(u(e)),this.refresh())},it.setRanges=function(e){if(J&&z&&e.length>1)w(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}}}else{if(!(A(q,"empty")&&A(Y,"select")&&J&&$))return t.fail("No means of selecting a Range or TextRange was found"),!1;it.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=F(this.anchorNode);else if(this.docSelection.type==H){var t=this.docSelection.createRange();t.length&&(e=F(t.item(0)))}if(e){var n=P(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(i){}c(this)},it.addRange=function(t){this.docSelection.type==H?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},it.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?w(this,e):t&&this.addRange(e[0])}}it.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()};var ot;if($)ot=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=P(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==H?m(t):f(n)?p(t,n):c(t)};else if(A(q,"getRangeAt")&&typeof q.rangeCount==N)ot=function(t){if(J&&z&&t.docSelection.type==H)m(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],st(t.nativeSelection)),t.isCollapsed=S(t)}else c(t)};else{if(!U||typeof q.isCollapsed!=D||typeof Y.collapsed!=D||!I.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;ot=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=et(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=S(e)):c(e)}}it.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,i=this.anchorOffset;if(ot(this),e){var r=t.length;if(r!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=i)return!0;for(;r--;)if(!B(t[r],this._ranges[r]))return!0;return!1}};var at=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var i=0,r=n.length;r>i;++i)B(t,n[i])||e.addRange(n[i]);e.rangeCount||c(e)};it.removeRange=J&&z?function(e){if(this.docSelection.type==H){for(var t,n=this.docSelection.createRange(),i=h(e),r=F(n.item(0)),o=P(r).createControlRange(),a=!1,s=0,l=n.length;l>s;++s)t=n.item(s),t!==i||a?o.add(n.item(s)):a=!0;o.select(),m(this)}else at(this,e)}:function(e){at(this,e)};var st;!$&&U&&I.implementsDomRange?(st=a,it.isBackward=function(){return st(this)}):st=it.isBackward=function(){return!1},it.isBackwards=it.isBackward,it.toString=function(){for(var e=[],t=0,n=this.rangeCount;n>t;++t)e[t]=""+this._ranges[t];return e.join("")},it.collapse=function(t,n){C(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},it.collapseToStart=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},it.collapseToEnd=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},it.selectAllChildren=function(t){C(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},it.deleteFromDocument=function(){if(J&&z&&this.docSelection.type==H){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}}},it.eachRange=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(e(this.getRangeAt(n)))return t},it.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},it.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},it.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t))}),n},it.setStart=E(!0),it.setEnd=E(!1),e.rangePrototype.select=function(e){nt(this.getDocument()).setSingleRange(this,e)},it.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},it.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},it.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},it.moveToBookmark=function(t){for(var n,i,r=[],o=0;n=t.rangeBookmarks[o++];)i=e.createRange(this.win),i.moveToBookmark(n),r.push(i);t.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},it.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(R.toHtml(t))}),e.join("")},I.implementsTextRange&&(it.getNativeTextRange=function(){var n;if(n=this.docSelection){var i=n.createRange();if(f(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),it.getName=function(){return"WrappedSelection"},it.inspect=function(){return x(this)},it.detach=function(){b(this.win,"delete"),y(this)},v.detachAll=function(){b(null,"deleteAll")},v.inspect=x,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=it,e.addShimListener(function(e){"undefined"==typeof e.getSelection&&(e.getSelection=function(){return nt(e)}),e=null})}),_)},this),/**
 * Selection save and restore module for Rangy.
 * Saves and restores user selections using marker invisible elements in the DOM.
 *
 * Part of Rangy, a cross-browser JavaScript range and selection library
 * http://code.google.com/p/rangy/
 *
 * Depends on Rangy core.
 *
 * Copyright 2014, Tim Down
 * Licensed under the MIT license.
 * Version: 1.3alpha.20140804
 * Build date: 4 August 2014
 */
function(e,t){"function"==typeof define&&define.amd?define(["rangy"],e):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(m)),o.insertNode(n),n}function r(e,i,r,o){var a=n(r,e);a?(i[o?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var r,o,a=e.DomRange.getRangeDocument(t),s=t.toString();return t.collapsed?(o=i(t,!1),{document:a,markerId:o.id,collapsed:!0}):(o=i(t,!1),r=i(t,!0),{document:a,startMarkerId:r.id,endMarkerId:o.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+s+"', new text: '"+t.toString()+"'"}})}function s(i,o){var a=i.document;"undefined"==typeof o&&(o=!0);var s=e.createRange(a);if(i.collapsed){var l=n(i.markerId,a);if(l){l.style.display="inline";var c=l.previousSibling;c&&3==c.nodeType?(l.parentNode.removeChild(l),s.collapseToPoint(c,c.length)):(s.collapseBefore(l),l.parentNode.removeChild(l))}else t.warn("Marker element has been removed. Cannot restore selection.")}else r(a,s,i.startMarkerId,!0),r(a,s,i.endMarkerId,!1);return o&&s.normalizeBoundaries(),s}function l(t,i){var r,s,l=[];t=t.slice(0),t.sort(o);for(var c=0,u=t.length;u>c;++c)l[c]=a(t[c],i);for(c=u-1;c>=0;--c)r=t[c],s=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(l[c].markerId,s)):(r.setEndBefore(n(l[c].endMarkerId,s)),r.setStartAfter(n(l[c].startMarkerId,s)));return l}function c(n){if(!e.isSelectionValid(n))return t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null;var i=e.getSelection(n),r=i.getAllRanges(),o=1==r.length&&i.isBackward(),a=l(r,o);return o?i.setSingleRange(r[0],"backward"):i.setRanges(r),{win:n,rangeInfos:a,restored:!1}}function u(e){for(var t=[],n=e.length,i=n-1;i>=0;i--)t[i]=s(e[i],!0);return t}function d(t,n){if(!t.restored){var i=t.rangeInfos,r=e.getSelection(t.win),o=u(i),a=i.length;1==a&&n&&e.features.selectionHasExtend&&i[0].backward?(r.removeAllRanges(),r.addRange(o[0],!0)):r.setRanges(o),t.restored=!0}}function h(e,t){var i=n(t,e);i&&i.parentNode.removeChild(i)}function f(e){for(var t,n=e.rangeInfos,i=0,r=n.length;r>i;++i)t=n[i],t.collapsed?h(e.doc,t.markerId):(h(e.doc,t.startMarkerId),h(e.doc,t.endMarkerId))}var p=e.dom,m="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:u,saveSelection:c,restoreSelection:d,removeMarkerElement:h,removeMarkers:f})})},this);/*
	Base.js, version 1.1a
	Copyright 2006-2010, Dean Edwards
	License: http://www.opensource.org/licenses/mit-license.php
*/
var Base=function(){};Base.extend=function(e,t){var n=Base.prototype.extend;Base._prototyping=!0;var i=new this;n.call(i,e),i.base=function(){},delete Base._prototyping;var r=i.constructor,o=i.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,r.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||n).call(arguments[0],i)};return o.ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=i,o.toString=this.toString,o.valueOf=function(e){return"object"==e?o:r.valueOf()},n.call(o,t),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(e,t){if(arguments.length>1){var n=this[e];if(n&&"function"==typeof t&&(!n.valueOf||n.valueOf()!=t.valueOf())&&/\bbase\b/.test(t)){var i=t.valueOf();t=function(){var e=this.base||Base.prototype.base;this.base=n;var t=i.apply(this,arguments);return this.base=e,t},t.valueOf=function(e){return"object"==e?t:i},t.toString=Base.toString}this[e]=t}else if(e){var r=Base.prototype.extend;Base._prototyping||"function"==typeof this||(r=this.extend||r);for(var o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)e[l]!=o[l]&&r.call(this,l,e[l]);for(var l in e)o[l]||r.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var i in e)void 0===this.prototype[i]&&t.call(n,e[i],i,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function e(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function t(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}function n(e,t){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1===i?!1:e?t?"<"===t?i>e:">"===t?e>i:"<="===t?i>=e:">="===t?e>=i:void 0:e===i:!0}var i=navigator.userAgent,r=document.createElement("div"),o=-1!==i.indexOf("Gecko")&&-1===i.indexOf("KHTML"),a=-1!==i.indexOf("AppleWebKit/"),s=-1!==i.indexOf("Chrome/"),l=-1!==i.indexOf("Opera/");return{USER_AGENT:i,supported:function(){var n=this.USER_AGENT.toLowerCase(),i="contentEditable"in r,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,a=document.querySelector&&document.querySelectorAll,s=this.isIos()&&e(n)<5||this.isAndroid()&&t(n)<4||-1!==n.indexOf("opera mobi")||-1!==n.indexOf("hpwos/");return i&&o&&a&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return n()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return n()},hasCurrentStyleProperty:function(){return"currentStyle"in r},hasHistoryIssue:function(){return o&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in r||function(){return r.setAttribute("on"+e,"return;"),"function"==typeof r["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:n(10,"<="),insertUnorderedList:n(),insertOrderedList:n()},t={insertHTML:o};return function(n,i){var r=e[i];if(!r){try{return n.queryCommandSupported(i)}catch(o){}try{return n.queryCommandEnabled(i)}catch(a){return!!t[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||l||a},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||n()||l},autoScrollsToCaret:function(){return!a},autoClosesUnclosedTags:function(){var e,t,n=r.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(e){var t=i.match(/Chrome\/(\d+)/)||[void 0,0];return t[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n()},hasProblemsSettingCaretAfterImg:function(){return n()},hasUndoInContextMenu:function(){return o||s||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return n()},createsNestedInvalidMarkupAfterPaste:function(){return a},supportsMutationEvents:function(){return"MutationEvent"in window}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(Array.isArray(t)){for(var n=t.length;n--;)if(-1!==wysihtml5.lang.array(e).indexOf(t[n]))return!0;return!1}return-1!==wysihtml5.lang.array(e).indexOf(t)},indexOf:function(t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],i=0,r=e.length;r>i;i++)t.contains(e[i])||n.push(e[i]);return n},get:function(){for(var t=0,n=e.length,i=[];n>t;t++)i.push(e[t]);return i},map:function(t,n){if(Array.prototype.map)return e.map(t,n);for(var i=e.length>>>0,r=new Array(i),o=0;i>o;o++)r[o]=t.call(n,e[o],o,e);return r},unique:function(){for(var t=[],n=e.length,i=0;n>i;)wysihtml5.lang.array(t).contains(e[i])||t.push(e[i]),i++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,i,r=0;if(e){for(n=this.events[e]||[],i=[];r<n.length;r++)n[r]!==t&&t&&i.push(n[r]);this.events[e]=i}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],i=0;i<n.length;i++)n[i].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/,n=/[&<>"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};wysihtml5.lang.string=function(r){return r=String(r),{trim:function(){return r.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)r=this.replace("#{"+t+"}").by(e[t]);return r},replace:function(e){return{by:function(t){return r.split(e).join(t)}}},escapeHTML:function(){return r.replace(n,function(e){return i[e]})}}}}(),function(e){function t(e,t){return o(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),a(e,t))}function n(e){return e.replace(l,function(e,t){var n=(t.match(c)||[])[1]||"",i=d[n];t=t.replace(c,""),t.split(i).length>t.split(n).length&&(t+=n,n="");var r=t,o=t;return t.length>u&&(o=o.substr(0,u)+"..."),"www."===r.substr(0,4)&&(r="http://"+r),'<a href="'+r+'">'+o+"</a>"+n})}function i(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function r(t){var r=t.parentNode,o=e.lang.string(t.data).escapeHTML(),a=i(r.ownerDocument);for(a.innerHTML="<span></span>"+n(o),a.removeChild(a.firstChild);a.firstChild;)r.insertBefore(a.firstChild,t);r.removeChild(t)}function o(t,n){for(var i;t.parentNode;){if(t=t.parentNode,i=t.nodeName,t.className&&e.lang.array(t.className.split(" ")).contains(n))return!0;if(s.contains(i))return!0;if("body"===i)return!1}return!1}function a(t,n){if(!(s.contains(t.nodeName)||t.className&&e.lang.array(t.className.split(" ")).contains(n))){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void r(t);for(var i=e.lang.array(t.childNodes).get(),o=i.length,c=0;o>c;c++)a(i[c],n);return t}}var s=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,c=/([^\w\/\-](,?))$/i,u=100,d={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.dom;t.addClass=function(e,n){var i=e.classList;return i?i.add(n):void(t.hasClass(e,n)||(e.className+=" "+n))},t.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):void(e.className=e.className.replace(new RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},t.hasClass=function(e,t){var n=e.classList;if(n)return n.contains(t);var i=e.className;return i.length>0&&(i==t||new RegExp("(^|\\s)"+t+"(\\s|$)").test(i))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}function t(e,t){return e.createElement(t)}function n(n,i,r){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var o,a,s,l,c,u,d,h,f,p=n.ownerDocument,m=t(p,i),g=n.querySelectorAll("br"),v=g.length;for(f=0;v>f;f++)for(l=g[f];(c=l.parentNode)&&c!==n&&c.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(c)){c.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(o=wysihtml5.lang.array(n.childNodes).get(),a=o.length,f=0;a>f;f++)h=h||e(p,m),s=o[f],u="block"===wysihtml5.dom.getStyle("display").from(s),d="BR"===s.nodeName,!u||r&&wysihtml5.dom.hasClass(s,r)?d?h=h.firstChild?null:h:h.appendChild(s):(h=h.firstChild?e(p,m):h,h.appendChild(s),h=null);return 0===o.length&&e(p,m),n.parentNode.replaceChild(m,n),m}return n}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var i,r=0,o=e.length;o>r;r++)i=e[r],"undefined"!=typeof t[i]&&""!==t[i]&&(n[i]=t[i]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return i(t)?parseInt(e.getStyle("width").from(t),10)<t.offsetWidth:!1},i=function(n){for(var i=0,r=t.length;r>i;i++)if("border-box"===e.getStyle(t[i]).from(n))return t[i]};e.copyStyles=function(i){return{from:function(r){n(r)&&(i=wysihtml5.lang.array(i).without(t));for(var o,a="",s=i.length,l=0;s>l;l++)o=i[l],a+=o+":"+e.getStyle(o).from(r)+";";return{to:function(t){return e.setStyles(a).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,i,r){return e.dom.observe(t,i,function(i){for(var o=i.target,a=e.lang.array(t.querySelectorAll(n));o&&o!==t;){if(a.contains(o)){r.call(o,i);break}o=o.parentNode}})}}(wysihtml5),function(e){e.dom.domNode=function(t){var n=[e.ELEMENT_NODE,e.TEXT_NODE],i=function(t){return t.nodeType===e.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(r){var o=t.previousSibling,a=r&&r.nodeTypes?r.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||r&&r.ignoreBlankTexts&&i(o)?e.dom.domNode(o).prev(r):o:null},next:function(r){var o=t.nextSibling,a=r&&r.nodeTypes?r.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||r&&r.ignoreBlankTexts&&i(o)?e.dom.domNode(o).next(r):o:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(i){}return t.body.removeChild(n),n},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,i=n.length;i>t;t++)e.createElement(n[t]);e._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,i){i=i||document;var r;return"object"==typeof n&&n.nodeType?(r=i.createElement("div"),r.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(i)?(r=i.createElement("div"),r.innerHTML=n):(t(i),r=e(n,i)),r}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return t&&t.length?"string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e):!0}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var i=(e.className||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}function i(e,t,n){var i=(e.getAttribute("style")||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}return function(r,o,a,s){var l=o.cssStyle||o.styleRegExp,c=o.className||o.classRegExp;for(a=a||50;a--&&r&&"BODY"!==r.nodeName&&(!s||r!==s);){if(t(r)&&e(r.nodeName,o.nodeName)&&(!l||i(r,o.cssStyle,o.styleRegExp))&&(!c||n(r,o.className,o.classRegExp)))return r;r=r.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){if(i.nodeType===wysihtml5.ELEMENT_NODE){var r=i.ownerDocument,o=t[n]||e(n),a=i.style,s=i.currentStyle,l=a[o];if(l)return l;if(s)try{return s[o]}catch(c){}var u,d,h=r.defaultView||r.parentWindow,f=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName;return h.getComputedStyle?(f&&(u=a.overflow,a.overflow="hidden"),d=h.getComputedStyle(i,null).getPropertyValue(n),f&&(a.overflow=u||""),d):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,i){var r=e(n)+":"+i,o=t[r];return o||(o=t[r]=n.getElementsByTagName(i)),o.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var n={},i=1;e.dom.hasElementWithClassName=function(i,r){if(!e.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+r);var o=t(i)+":"+r,a=n[o];return a||(a=n[o]=i.getElementsByClassName(r)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n=t.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e));var i=t.querySelector("head link");if(i)return void i.parentNode.insertBefore(n,i);var r=t.querySelector("head");r&&r.appendChild(n)}}},function(e){e.dom.lineBreaks=function(t){function n(e){return"BR"===e.nodeName}function i(t){return n(t)?!0:"block"===e.dom.getStyle("display").from(t)?!0:!1}return{add:function(){var n=t.ownerDocument,r=e.dom.domNode(t).next({ignoreBlankTexts:!0}),o=e.dom.domNode(t).prev({ignoreBlankTexts:!0});r&&!i(r)&&e.dom.insert(n.createElement("br")).after(t),o&&!i(o)&&e.dom.insert(n.createElement("br")).before(t)},remove:function(){var i=e.dom.domNode(t).next({ignoreBlankTexts:!0}),r=e.dom.domNode(t).prev({ignoreBlankTexts:!0});i&&n(i)&&i.parentNode.removeChild(i),r&&n(r)&&r.parentNode.removeChild(r)}}}}(wysihtml5),wysihtml5.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var i,r,o=0,a=t.length;a>o;o++)r=t[o],e.addEventListener?e.addEventListener(r,n,!1):(i=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+r,i));return{stop:function(){for(var r,o=0,a=t.length;a>o;o++)r=t[o],e.removeEventListener?e.removeEventListener(r,n,!1):e.detachEvent("on"+r,i)}}},wysihtml5.dom.parse=function(){function e(e,n){wysihtml5.lang.object(m).merge(p).merge(n.rules).get();var i,r,o,a=n.context||e.ownerDocument||document,s=a.createDocumentFragment(),l="string"==typeof e,c=!1;for(n.clearInternals===!0&&(c=!0),n.uneditableClass&&(g=n.uneditableClass),i=l?wysihtml5.dom.getAsDom(e,a):e;i.firstChild;)o=i.firstChild,r=t(o,n.cleanUp,c),r&&s.appendChild(r),o!==r&&i.removeChild(o);return i.innerHTML="",i.appendChild(s),l?wysihtml5.quirks.getCorrectInnerHTML(i):i}function t(e,n,i){var r,o,a,s=e.nodeType,l=e.childNodes,c=l.length,u=d[s],f=0;if(g&&1===s&&wysihtml5.dom.hasClass(e,g))return e;if(o=u&&u(e,i),!o){if(o===!1){for(r=e.ownerDocument.createDocumentFragment(),f=c;f--;)l[f]&&(a=t(l[f],n,i),a&&(l[f]===a&&f--,r.insertBefore(a,r.firstChild)));return wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||r.appendChild(e.ownerDocument.createTextNode(" "))),r.normalize&&r.normalize(),r}return null}for(f=0;c>f;f++)l[f]&&(a=t(l[f],n,i),a&&(l[f]===a&&f--,o.appendChild(a)));if(n&&o.nodeName.toLowerCase()===h&&(!o.childNodes.length||/^\s*$/gi.test(o.innerHTML)&&(i||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!o.attributes.length)){for(r=o.ownerDocument.createDocumentFragment();o.firstChild;)r.appendChild(o.firstChild);return r.normalize&&r.normalize(),r}return o.normalize&&o.normalize(),o}function n(e,t){var n,r,s=m.tags,l=e.nodeName.toLowerCase(),c=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(c&&"HTML"!=c&&(l=c+":"+l),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(l="div")),l in s){if(n=s[l],!n||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!e.firstChild)return null;n={rename_tag:h}}return r=e.ownerDocument.createElement(n.rename_tag||l),a(e,r,n,t),o(e,r,n),n.one_of_type&&!i(e,m,n.one_of_type,t)?n.remove_action&&"unwrap"==n.remove_action?!1:null:(e=null,r.normalize&&r.normalize(),r)}function i(e,t,n,i){var o,a;if("SPAN"===e.nodeName&&!i&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(a in n)if(n.hasOwnProperty(a)&&t.type_definitions&&t.type_definitions[a]&&(o=t.type_definitions[a],r(e,o)))return!0;return!1}function r(e,t){var n,i,r,o,a,l=e.getAttribute("class"),c=e.getAttribute("style");if(t.methods)for(var u in t.methods)if(t.methods.hasOwnProperty(u)&&E[u]&&E[u](e))return!0;if(l&&t.classes){l=l.replace(/^\s+/g,"").replace(/\s+$/g,"").split(f),n=l.length;for(var d=0;n>d;d++)if(t.classes[l[d]])return!0}if(c&&t.styles){c=c.split(";");for(i in t.styles)if(t.styles.hasOwnProperty(i))for(var h=c.length;h--;)if(a=c[h].split(":"),a[0].replace(/\s/g,"").toLowerCase()===i&&(t.styles[i]===!0||1===t.styles[i]||wysihtml5.lang.array(t.styles[i]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0}if(t.attrs)for(r in t.attrs)if(t.attrs.hasOwnProperty(r)&&(o=s(e,r),"string"==typeof o&&o.search(t.attrs[r])>-1))return!0;return!1}function o(e,t,n){var i;if(n&&n.keep_styles)for(i in n.keep_styles)n.keep_styles.hasOwnProperty(i)&&("float"==i?(e.style.styleFloat&&(t.style.styleFloat=e.style.styleFloat),e.style.cssFloat&&(t.style.cssFloat=e.style.cssFloat)):e.style[i]&&(t.style[i]=e.style[i]))}function a(e,t,n,i){var r,o,a,l,c,u,d,h={},p=n.set_class,g=n.add_class,v=n.add_style,y=n.set_attributes,E=n.check_attributes,x=m.classes,T=0,S=[],D=[],N=[],_=[];if(y&&(h=wysihtml5.lang.object(y).clone()),E)for(l in E)u=b[E[l]],u&&(d=s(e,l),(d||"alt"===l&&"IMG"==e.nodeName)&&(c=u(d),"string"==typeof c&&(h[l]=c)));if(p&&S.push(p),g)for(l in g)u=C[g[l]],u&&(a=u(s(e,l)),"string"==typeof a&&S.push(a));if(v)for(l in v)u=w[v[l]],u&&(newStyle=u(s(e,l)),"string"==typeof newStyle&&D.push(newStyle));if("string"==typeof x&&"any"===x&&e.getAttribute("class"))h["class"]=e.getAttribute("class");else{for(i||(x["_wysihtml5-temp-placeholder"]=1,x._rangySelectionBoundary=1,x["wysiwyg-tmp-selected-cell"]=1),_=e.getAttribute("class"),_&&(S=S.concat(_.split(f))),r=S.length;r>T;T++)o=S[T],x[o]&&N.push(o);N.length&&(h["class"]=wysihtml5.lang.array(N).unique().join(" "))}h["class"]&&i&&(h["class"]=h["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(h["class"])&&delete h["class"]),D.length&&(h.style=wysihtml5.lang.array(D).unique().join(" "));for(l in h)try{t.setAttribute(l,h[l])}catch(k){}h.src&&("undefined"!=typeof h.width&&t.setAttribute("width",h.width),"undefined"!=typeof h.height&&t.setAttribute("height",h.height))}function s(e,t){t=t.toLowerCase();var n=e.nodeName;if("IMG"==n&&"src"==t&&l(e)===!0)return e.src;if(v&&"outerHTML"in e){var i=e.outerHTML.toLowerCase(),r=-1!=i.indexOf(" "+t+"=");return r?e.getAttribute(t):null}return e.getAttribute(t)}function l(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}}function c(e){var t=e.nextSibling;if(!t||t.nodeType!==wysihtml5.TEXT_NODE){var n=e.data.replace(y,"");return e.ownerDocument.createTextNode(n)}t.data=e.data.replace(y,"")+t.data.replace(y,"")}function u(e){return m.comments?e.ownerDocument.createComment(e.nodeValue):void 0}var d={1:n,3:c,8:u},h="span",f=/\s+/,p={tags:{},classes:{}},m={},g=!1,v=!wysihtml5.browser.supportsGetAttributeCorrectly(),y=/\uFEFF/g,b={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),href:function(){var e=/^(#|\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}(),any:function(){return function(e){return e}}()},w={align_text:function(){var e={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(t){return e[String(t).toLowerCase()]}}()},C={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[String(t).toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[String(t).toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[String(t).toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[String(t).charAt(0)]}}()},E={has_visible_contet:function(){var e,t=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if(e=(n.innerText||n.textContent).replace(/\s/g,""),e&&e.length>0)return!0;for(var i=t.length;i--;)if(n.querySelector(t[i]))return!0;return n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0?!0:!1}}()};return e}(),wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),i=n.length,r=0;i>r;r++)t=n[r],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,i=e.ownerDocument.createElement(t);n=e.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function i(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function r(e,r){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var o,a,s,l,c,u,d=e.ownerDocument,h=d.createDocumentFragment(),f=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(r)for(!f||t(f)||n(f)||i(h);u=e.firstElementChild||e.firstChild;){for(a=u.lastChild;o=u.firstChild;)s=o===a,l=s&&!t(o)&&!n(o),h.appendChild(o),l&&i(h);u.parentNode.removeChild(u)}else for(;u=e.firstElementChild||e.firstChild;){if(u.querySelector&&u.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;o=u.firstChild;)h.appendChild(o);else{for(c=d.createElement("p");o=u.firstChild;)c.appendChild(o);h.appendChild(c)}u.parentNode.removeChild(u)}e.parentNode.replaceChild(h,e)}}e.resolveList=r}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=t.createElement("iframe");return i.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(o){if(e.dom.contains(t.documentElement,o)){var a=this,s=o.contentWindow,l=o.contentWindow.document,c=t.characterSet||t.charset||"utf-8",u=this._getHtml({charset:c,stylesheets:this.config.stylesheets});if(l.open("text/html","replace"),l.write(u),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},s.onerror=function(e,t,n){throw new Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){var d,h;for(d=0,h=n.length;h>d;d++)this._unset(s,n[d]);for(d=0,h=i.length;h>d;d++)this._unset(s,i[d],e.EMPTY_FUNCTION);for(d=0,h=r.length;h>d;d++)this._unset(l,r[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(t){var n,i=t.stylesheets,r="",o=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>o;o++)r+='<link rel="stylesheet" href="'+i[o]+'">';return t.stylesheets=r,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,i,r){try{t[n]=i}catch(o){}try{t.__defineGetter__(n,function(){return i})}catch(o){}if(r)try{t.__defineSetter__(n,function(){})}catch(o){}if(!e.browser.crashesWhenDefineProperty(n))try{var a={get:function(){return i}};r&&(a.set=function(){}),Object.defineProperty(t,n,a)}catch(o){}}})}(wysihtml5),function(e){var t=document;e.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,n,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n=this;if(!t){var i=this._getHtml();e.innerHTML=i}this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){n.callback(n)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var i in t)n.setAttribute(e[i]||i,t[i])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n=t.style;if("string"==typeof e)return void(n.cssText+=";"+e);for(var i in e)"float"===i?(n.cssFloat=e[i],n.styleFloat=e[i]):n[i]=e[i]}}},function(e){e.simulatePlaceholder=function(t,n,i){var r="placeholder",o=function(){var t=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),t&&setTimeout(function(){var e=n.selection.getSelection();e.focusNode&&e.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,e.removeClass(n.element,r)},a=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(i),e.addClass(n.element,r))};t.on("set_placeholder",a).on("unset_placeholder",o).on("focus:composer",o).on("paste:composer",o).on("blur:composer",a),a()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();t=t.toLowerCase();var i=e.nodeName;if("IMG"==i&&"src"==t&&_isLoadedImage(e)===!0)return e.src;if(n&&"outerHTML"in e){var r=e.outerHTML.toLowerCase(),o=-1!=r.indexOf(" "+t+"=");return o?e.getAttribute(t):null}return e.getAttribute(t)},function(e){function t(e,t){for(var n,i=[],r=0,o=e.length;o>r;r++)if(n=e[r].querySelectorAll(t))for(var a=n.length;a--;i.unshift(n[a]));return i}function n(e){e.parentNode.removeChild(e)}function i(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function r(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}var o=e.dom,a=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},s=function(e,t){e?(this.cell=e,this.table=o.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};s.prototype={addSpannedCellToMap:function(e,t,n,i,r,o){for(var s=[],l=n+(o?parseInt(o,10)-1:0),c=i+(r?parseInt(r,10)-1:0),u=n;l>=u;u++){"undefined"==typeof t[u]&&(t[u]=[]);for(var d=i;c>=d;d++)t[u][d]=new a(e),t[u][d].isColspan=r&&parseInt(r,10)>1,t[u][d].isRowspan=o&&parseInt(o,10)>1,t[u][d].firstCol=d==i,t[u][d].lastCol=d==c,t[u][d].firstRow=u==n,t[u][d].lastRow=u==l,t[u][d].isReal=d==i&&u==n,t[u][d].spanCollection=s,s.push(t[u][d])}},setCellAsModified:function(e){if(e.modified=!0,e.spanCollection.length>0)for(var t=0,n=e.spanCollection.length;n>t;t++)e.spanCollection[t].modified=!0
},setTableMap:function(){var e,t,n,i,r,s,l,c,u=[],d=this.getTableRows();for(e=0;e<d.length;e++)for(t=d[e],n=this.getRowCells(t),s=0,"undefined"==typeof u[e]&&(u[e]=[]),i=0;i<n.length;i++){for(r=n[i];"undefined"!=typeof u[e][s];)s++;l=o.getAttribute(r,"colspan"),c=o.getAttribute(r,"rowspan"),l||c?(this.addSpannedCellToMap(r,u,e,s,l,c),s+=l?parseInt(l,10):1):(u[e][s]=new a(r),s++)}return this.map=u,u},getRowCells:function(n){var i=this.table.querySelectorAll("table"),r=i?t(i,"th, td"):[],o=n.querySelectorAll("th, td"),a=r.length>0?e.lang.array(o).without(r):o;return a},getTableRows:function(){var n=this.table.querySelectorAll("table"),i=n?t(n,"tr"):[],r=this.table.querySelectorAll("tr"),o=i.length>0?e.lang.array(r).without(i):r;return o},getMapIndex:function(e){for(var t=this.map.length,n=this.map&&this.map[0]?this.map[0].length:0,i=0;t>i;i++)for(var r=0;n>r;r++)if(this.map[i][r].el===e)return{row:i,col:r};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var n=this.idx_start;this.idx_start=this.idx_end,this.idx_end=n}if(this.idx_start.col>this.idx_end.col){var i=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=i}if(null!=this.idx_start&&null!=this.idx_end)for(var r=this.idx_start.row,o=this.idx_end.row;o>=r;r++)for(var a=this.idx_start.col,s=this.idx_end.col;s>=a;a++)t.push(this.map[r][a].el);return t},orderSelectionEnds:function(e){if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}return{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){for(var i,r=this.table.ownerDocument,o=r.createDocumentFragment(),a=0;t>a;a++){if(i=r.createElement(e),n)for(var s in n)n.hasOwnProperty(s)&&i.setAttribute(s,n[s]);i.appendChild(document.createTextNode("\xa0")),o.appendChild(i)}return o},correctColIndexForUnreals:function(e,t){for(var n=this.map[t],i=-1,r=0;e>r;r++)n[r].isReal&&i++;return i},getLastNewCellOnRow:function(e,t){for(var n,i,r=this.getRowCells(e),o=0,a=r.length;a>o;o++)if(n=r[o],i=this.getMapIndex(n),i===!1||"undefined"!=typeof t&&i.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return e&&0!=e.length?!1:(n(this.table),!0)},splitRowToCells:function(e){if(e.isColspan){var t=parseInt(o.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase();if(t>1){var r=this.createCells(n,t-1);i(e.el,r)}e.el.removeAttribute("colspan")}},getRealRowEl:function(e,t){var n=null,i=null;t=t||this.idx;for(var r=0,a=this.map[t.row].length;a>r;r++)if(i=this.map[t.row][r],i.isReal&&(n=o.getParentElement(i.el,{nodeName:["TR"]})))return n;return null===n&&e&&(n=o.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),n},injectRowAt:function(e,t,n,r,a){var s=this.getRealRowEl(!1,{row:e,col:t}),l=this.createCells(r,n);if(s){var c=this.correctColIndexForUnreals(t,e);c>=0?i(this.getRowCells(s)[c],l):s.insertBefore(l,s.firstChild)}else{var u=this.table.ownerDocument.createElement("tr");u.appendChild(l),i(o.getParentElement(a.el,{nodeName:["TR"]}),u)}},canMerge:function(e){if(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col){var t=this.idx_start;this.idx_start=this.idx_end,this.idx_end=t}if(this.idx_start.col>this.idx_end.col){var n=this.idx_start.col;this.idx_start.col=this.idx_end.col,this.idx_end.col=n}for(var i=this.idx_start.row,r=this.idx_end.row;r>=i;i++)for(var o=this.idx_start.col,a=this.idx_end.col;a>=o;o++)if(this.map[i][o].isColspan||this.map[i][o].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(o.getAttribute(e.el,t),10)-1;n>=1?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,i,r,a,s,l;if(this.setTableMap(),this.map){for(i=0,r=this.map.length;r>i;i++){for(e=this.map[i],l=!0,a=0,s=e.length;s>a;a++)if(t=e[a],!(o.getAttribute(t.el,"rowspan")&&parseInt(o.getAttribute(t.el,"rowspan"),10)>1&&t.firstRow!==!0)){l=!1;break}if(l)for(a=0;s>a;a++)this.decreaseCellSpan(e[a],"rowspan")}var c=this.getTableRows();for(i=0,r=c.length;r>i;i++)e=c[i],0==e.childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&n(e)}},fillMissingCells:function(){var e=0,t=0,n=null;if(this.setTableMap(),this.map){e=this.map.length;for(var r=0;e>r;r++)this.map[r].length>t&&(t=this.map[r].length);for(var o=0;e>o;o++)for(var s=0;t>s;s++)this.map[o]&&!this.map[o][s]&&s>0&&(this.map[o][s]=new a(this.createCells("td",1)),n=this.map[o][s-1],n&&n.el&&n.el.parent&&i(this.map[o][s-1].el,this.map[o][s].el))}},rectify:function(){return this.removeEmptyTable()?!1:(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){var e=this.map[this.idx.row][this.idx.col],t=o.getAttribute(e.el,"colspan")?parseInt(o.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase();if(e.isRowspan){var i=parseInt(o.getAttribute(e.el,"rowspan"),10);if(i>1)for(var r=1,a=i-1;a>=r;r++)this.injectRowAt(this.idx.row+r,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){if(this.rectify())if(this.canMerge(e)){for(var t=this.idx_end.row-this.idx_start.row+1,i=this.idx_end.col-this.idx_start.col+1,r=this.idx_start.row,o=this.idx_end.row;o>=r;r++)for(var a=this.idx_start.col,s=this.idx_end.col;s>=a;a++)r==this.idx_start.row&&a==this.idx_start.col?(t>1&&this.map[r][a].el.setAttribute("rowspan",t),i>1&&this.map[r][a].el.setAttribute("colspan",i)):(/^\s*<br\/?>\s*$/.test(this.map[r][a].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[r][a].el.innerHTML),n(this.map[r][a].el));this.rectify()}else window.console&&console.log("Do not know how to merge allready merged cells.")},collapseCellToNextRow:function(e){var t=this.getMapIndex(e.el),n=t.row+1,r={row:n,col:t.col};if(n<this.map.length){var a=this.getRealRowEl(!1,r);if(null!==a){var s=this.correctColIndexForUnreals(r.col,r.row);if(s>=0)i(this.getRowCells(a)[s],e.el);else{var l=this.getLastNewCellOnRow(a,n);null!==l?i(l,e.el):a.insertBefore(e.el,a.firstChild)}parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")}}},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):n(e.el):parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=this.map[this.idx.row],n=0,i=t.length;i>n;n++)t[n].isReal&&e.push(t[n].el);return e},getColumnElementsByCell:function(){var e=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=0,n=this.map.length;n>t;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&e.push(this.map[t][this.idx.col].el);return e},removeRow:function(){var e=o.getParentElement(this.cell,{nodeName:["TR"]});if(e){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var t=this.map[this.idx.row],i=0,r=t.length;r>i;i++)t[i].modified||(this.setCellAsModified(t[i]),this.removeRowCell(t[i]));n(e)}},removeColCell:function(e){e.isColspan?parseInt(o.getAttribute(e.el,"colspan"),10)>2?e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&n(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var e=0,t=this.map.length;t>e;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&o.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(o.getAttribute(this.cell,"rowspan"),10)-1),this.idx!==!1){for(var n=this.map[this.idx.row],r=t.createElement("tr"),a=0,s=n.length;s>a;a++)n[a].modified||(this.setCellAsModified(n[a]),this.addRowCell(n[a],r,e));switch(e){case"below":i(this.getRealRowEl(!0),r);break;case"above":var l=o.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]});l&&l.parentNode.insertBefore(r,l)}}},addRowCell:function(e,t,n){var i=e.isColspan?{colspan:o.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,i)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,i)):c.isRowspan&&e.el.attr("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&(("below"==e||"above"==e)&&this.addRow(e),("before"==e||"after"==e)&&this.addColumn(e))},addColCell:function(e,t,n){var r,a=e.el.tagName.toLowerCase();switch(n){case"before":r=!e.isColspan||e.firstCol;break;case"after":r=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(r){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(a,1),e.el);break;case"after":i(e.el,this.createCells(a,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&o.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(o.getAttribute(this.cell,"colspan"),10)-1),this.idx!==!1)for(var i=0,r=this.map.length;r>i;i++)t=this.map[i],t[this.idx.col]&&(n=t[this.idx.col],n.modified||(this.setCellAsModified(n),this.addColCell(n,i,e)))},handleCellAddWithRowspan:function(e,t,n){for(var a,s,l,c=parseInt(o.getAttribute(this.cell,"rowspan"),10)-1,u=o.getParentElement(e.el,{nodeName:["TR"]}),d=e.el.tagName.toLowerCase(),h=this.table.ownerDocument,f=0;c>f;f++)if(a=this.correctColIndexForUnreals(this.idx.col,t+f),u=r(u,"tr"))if(a>0)switch(n){case"before":s=this.getRowCells(u),a>0&&this.map[t+f][this.idx.col].el!=s[a]&&a==s.length-1?i(s[a],this.createCells(d,1)):s[a].parentNode.insertBefore(this.createCells(d,1),s[a]);break;case"after":i(this.getRowCells(u)[a],this.createCells(d,1))}else u.insertBefore(this.createCells(d,1),u.firstChild);else l=h.createElement("tr"),l.appendChild(this.createCells(d,1)),this.table.appendChild(l)}},o.table={getCellsBetween:function(e,t){var n=new s(e);return n.getMapElsTo(t)},addCells:function(e,t){var n=new s(e);n.add(t)},removeCells:function(e,t){var n=new s(e);n.remove(t)},mergeCellsBetween:function(e,t){var n=new s(e);n.merge(t)},unmergeCell:function(e){var t=new s(e);t.unmerge()},orderSelectionEnds:function(e,t){var n=new s(e);return n.orderSelectionEnds(t)},indexOf:function(e){var t=new s(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){var n=new s(null,e);return n.getElementAtIndex(t)},findRowByCell:function(e){var t=new s(e);return t.getRowElementsByCell()},findColumnByCell:function(e){var t=new s(e);return t.getColumnElementsByCell()},canMerge:function(e,t){var n=new s(e);return n.canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,i=[];e.nodeType&&(e=[e]);for(var r=0,o=e.length;o>r;r++)if(n=e[r].querySelectorAll(t))for(var a=n.length;a--;i.unshift(n[a]));return i},wysihtml5.dom.compareDocumentPosition=function(){var e=document.documentElement;return e.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,i;if(n=9===e.nodeType?e:e.ownerDocument,i=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==i)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(var r=e,o=[],a=null;r;){if(r==t)return 10;o.push(r),r=r.parentNode}for(r=t,a=null;r;){if(r==e)return 20;var s=wysihtml5.lang.array(o).indexOf(r);if(-1!==s){var l=o[s],c=wysihtml5.lang.array(l.childNodes).indexOf(o[s-1]),u=wysihtml5.lang.array(l.childNodes).indexOf(a);return c>u?2:4}a=r,r=r.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.quirks.cleanPastedHTML=function(){function e(e,n,i){n=n||t,i=i||e.ownerDocument||document;var r,o,a,s,l,c,u="string"==typeof e,d=0;r=u?wysihtml5.dom.getAsDom(e,i):e;for(l in n)for(a=r.querySelectorAll(l),o=n[l],s=a.length;s>d;d++)o(a[d]);var h=wysihtml5.dom.getTextNodes(r);for(c=h.length;c--;)h[c].nodeValue=h[c].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return a=e=n=null,u?r.innerHTML:r}var t={"a u":wysihtml5.dom.replaceWithChildNodes};return e}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(n){var i=n.innerHTML;if(-1===i.indexOf(t))return i;var r,o,a,s,l=n.querySelectorAll("[href*='~'], [src*='~']");for(s=0,a=l.length;a>s;s++)r=l[s].href||l[s].src,o=e.lang.string(r).replace("~").by(t),i=e.lang.string(i).replace(o).by(r);return i}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(r){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(e,t){function n(){return u.observe(e,"mousedown",function(e){var t=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});t&&i(t)}),d}function i(n){d.start=n,d.end=n,d.cells=[n],d.table=u.getParentElement(d.start,{nodeName:["TABLE"]}),d.table&&(r(),u.addClass(n,h),f=u.observe(e,"mousemove",a),p=u.observe(e,"mouseup",s),t.fire("tableselectstart").fire("tableselectstart:composer"))}function r(){if(e){var t=e.querySelectorAll("."+h);if(t.length>0)for(var n=0;n<t.length;n++)u.removeClass(t[n],h)}}function o(e){for(var t=0;t<e.length;t++)u.addClass(e[t],h)}function a(e){var n,i=null,a=u.getParentElement(e.target,{nodeName:["TD","TH"]});a&&d.table&&d.start&&(i=u.getParentElement(a,{nodeName:["TABLE"]}),i&&i===d.table&&(r(),n=d.end,d.end=a,d.cells=u.table.getCellsBetween(d.start,a),d.cells.length>1&&t.composer.selection.deselect(),o(d.cells),d.end!==n&&t.fire("tableselectchange").fire("tableselectchange:composer")))}function s(){f.stop(),p.stop(),t.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){l()},0)}function l(){var n=u.observe(e.ownerDocument,"click",function(e){n.stop(),u.getParentElement(e.target,{nodeName:["TABLE"]})!=d.table&&(r(),d.table=null,d.start=null,d.end=null,t.fire("tableunselect").fire("tableunselect:composer"))})}function c(e,n){d.start=e,d.end=n,d.table=u.getParentElement(d.start,{nodeName:["TABLE"]}),selectedCells=u.table.getCellsBetween(d.start,d.end),o(selectedCells),l(),t.fire("tableselect").fire("tableselect:composer")}var u=wysihtml5.dom,d={table:null,start:null,end:null,cells:null,select:c},h="wysiwyg-tmp-selected-cell",f=null,p=null;return n()},function(e){var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,i=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,r=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,o=function(e){return new RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};e.quirks.styleParser={parseColor:function(a,s){var l,c,u=o(s),d=a.match(u),h=10;if(d){for(var f=d.length;f--;)d[f]=e.lang.string(d[f].split(":")[1]).trim();if(l=d[d.length-1],t.test(l))c=l.match(t);else if(n.test(l))c=l.match(n);else if(i.test(l))c=l.match(i),h=16;else if(r.test(l))return c=l.match(r),c.shift(),c.push(1),e.lang.array(c).map(function(e,t){return 3>t?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(c)return c.shift(),c[3]||c.push(1),e.lang.array(c).map(function(e,t){return 3>t?parseInt(e,h):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(t){var n=t.match(o("font-size"));return n?e.lang.string(n[n.length-1].split(":")[1]).trim():!1}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}function n(e,t){for(var n=0;t!==e;)if(n++,t=t.parentNode,!t)throw new Error("not a descendant of ancestor!");return n}function i(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,i=n(t,e.startContainer),r=n(t,e.endContainer);!e.canSurroundContents();)i>r?(e.setStartBefore(e.startContainer),i=n(t,e.startContainer)):(e.setEndAfter(e.endContainer),r=n(t,e.endContainer))}var r=e.dom;e.Selection=Base.extend({constructor:function(e,t,n){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&i(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t,n){var i=rangy.createRange(this.doc),o=t.nodeType===e.ELEMENT_NODE,a="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,s=o?t.innerHTML:t.data,l=""===s||s===e.INVISIBLE_SPACE,c=r.getStyle("display").from(t),u="block"===c||"list-item"===c;if(l&&o&&a&&!n)try{t.innerHTML=e.INVISIBLE_SPACE}catch(d){}a?i.selectNodeContents(t):i.selectNode(t),a&&l&&o?i.collapse(u):a&&l&&(i.setStartAfter(t),i.setEndAfter(t)),this.setSelection(i)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange(),n&&n.length)?n.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var e=this.getRange();i(e),this.setSelection(e)},getSelectedOwnNodes:function(){for(var e=this.getOwnRanges(),t=[],n=0,i=e.length;i>n;n++)t.push(e[n].commonAncestorContainer||this.doc.body);return t},findNodesInSelection:function(t){for(var n,i=this.getOwnRanges(),r=[],o=0,a=i.length;a>o;o++)n=i[o].getNodes([1],function(n){return e.lang.array(t).contains(n.nodeName)}),r=r.concat(n);return r},containsUneditable:function(){for(var e=this.getOwnUneditables(),t=this.getSelection(),n=0,i=e.length;i>n;n++)if(t.containsNode(e[n]))return!0;return!1},deleteContents:function(){for(var e=this.getOwnRanges(),t=e.length;t--;)e[t].deleteContents();this.setSelection(e[0])},getPreviousNode:function(t,n){if(!t){var i=this.getSelection();t=i.anchorNode}if(t===this.contain)return!1;var r,o=t.previousSibling;return o===this.contain?!1:(o&&3!==o.nodeType&&1!==o.nodeType?o=this.getPreviousNode(o,n):o&&3===o.nodeType&&/^\s*$/.test(o.textContent)?o=this.getPreviousNode(o,n):n&&o&&1===o.nodeType&&!e.lang.array(["BR","HR","IMG"]).contains(o.nodeName)&&/^[\s]*$/.test(o.innerHTML)?o=this.getPreviousNode(o,n):o||t===this.contain||(r=t.parentNode,r!==this.contain&&(o=this.getPreviousNode(r,n))),o!==this.contain?o:!1)},getSelectionParentsByTag:function(){for(var t,n=this.getSelectedOwnNodes(),i=[],r=0,o=n.length;o>r;r++)t=n[r].nodeName&&"LI"===n[r].nodeName?n[r]:e.dom.getParentElement(n[r],{nodeName:["LI"]},!1,this.contain),t&&i.push(t);return i.length?i:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(t),i.setStart(t,n),i}},caretIsLastInSelection:function(){var e=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),t=e.textContent;return/^\s*$/.test(t)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),n=this.getSelection(),i=this.getRange(),r=i.startContainer;return r.nodeType===e.TEXT_NODE?this.isCollapsed()&&r.nodeType===e.TEXT_NODE&&/^\s*$/.test(r.data.substr(0,i.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===n.anchorNode||t.endContainer===n.anchorNode)&&t.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(t){var n=this.getSelection(),i=n.anchorNode,r=n.anchorOffset;return t?0===r&&(i.nodeName&&i.nodeName===t.toUpperCase()||e.dom.getParentElement(i.parentNode,{nodeName:t},1)):0===r&&!this.getPreviousNode(i,!0)},caretIsBeforeUneditable:function(){var e=this.getSelection(),t=e.anchorNode,n=e.anchorOffset;if(0===n){var i=this.getPreviousNode(t,!0);if(i)for(var r=this.getOwnUneditables(),o=0,a=r.length;a>o;o++)if(i===r[o])return r[o]}return!1},executeAndRestoreRangy:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(t);if(n)try{e()}catch(i){setTimeout(function(){throw i},0)}else e();rangy.restoreSelection(n)},executeAndRestore:function(t,n){var i,o,a,s,l,c,u,d,h=this.doc.body,f=n&&h.scrollTop,p=n&&h.scrollLeft,m="_wysihtml5-temp-placeholder",g='<span class="'+m+'">'+e.INVISIBLE_SPACE+"</span>",v=this.getRange(!0);if(!v)return void t(h,h);v.collapsed||(u=v.cloneRange(),c=u.createContextualFragment(g),u.collapse(!1),u.insertNode(c),u.detach()),l=v.createContextualFragment(g),v.insertNode(l),c&&(i=this.contain.querySelectorAll("."+m),v.setStartBefore(i[0]),v.setEndAfter(i[i.length-1])),this.setSelection(v);try{t(v.startContainer,v.endContainer)}catch(y){setTimeout(function(){throw y},0)}if(i=this.contain.querySelectorAll("."+m),i&&i.length){d=rangy.createRange(this.doc),a=i[0].nextSibling,i.length>1&&(s=i[i.length-1].previousSibling),s&&a?(d.setStartBefore(a),d.setEndAfter(s)):(o=this.doc.createTextNode(e.INVISIBLE_SPACE),r.insert(o).after(i[0]),d.setStartBefore(o),d.setEndAfter(o)),this.setSelection(d);for(var b=i.length;b--;)i[b].parentNode.removeChild(i[b])}else this.contain.focus();n&&(h.scrollTop=f,h.scrollLeft=p);try{i.parentNode.removeChild(i)}catch(w){}},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){var t=rangy.createRange(this.doc),n=t.createContextualFragment(e),i=n.lastChild;this.insertNode(n),i&&this.setAfter(i)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,n=this.getOwnRanges(),i=[];if(0==n.length)return i;for(var r=n.length;r--;){t=this.doc.createElement(e.nodeName),i.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{n[r].surroundContents(t),this.selectNode(t)}catch(o){t.appendChild(n[r].extractContents()),n[r].insertNode(t)}}return i},deblockAndSurround:function(t){var n,i,r,o=this.doc.createElement("div"),a=rangy.createRange(this.doc);if(o.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),n=this.contain.querySelectorAll("."+t.className),n[0])for(n[0].parentNode.insertBefore(o,n[0]),a.setStartBefore(n[0]),a.setEndAfter(n[n.length-1]),i=a.extractContents();i.firstChild;)if(r=i.firstChild,1==r.nodeType&&e.dom.hasClass(r,t.className)){for(;r.firstChild;)o.appendChild(r.firstChild);"BR"!==r.nodeName&&o.appendChild(this.doc.createElement("br")),i.removeChild(r)}else o.appendChild(r);else o=null;return o},scrollIntoView:function(){var n,i=this.doc,r=5,o=i.documentElement.scrollHeight>i.documentElement.offsetHeight,a=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||function(){var t=i.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();o&&(this.insertNode(a),n=t(a),a.parentNode.removeChild(a),n>=i.body.scrollTop+i.documentElement.offsetHeight-r&&(i.body.scrollTop=n))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,i,r,o=this.doc.selection.createRange(),a=o.boundingTop,s=this.doc.body.scrollWidth;if(o.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,i=-10;s>i;i+=2)try{o.moveToPoint(i,a);break}catch(l){}for(e=a,t=this.doc.selection.createRange(),r=s;r>=0;r--)try{t.moveToPoint(r,e);break}catch(c){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?e.toString():""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},fixRangeOverflow:function(e){if(this.contain&&this.contain.firstChild&&e){var t=e.compareNode(this.contain);if(2!==t)1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild));else if(this._detectInlineRangeProblems(e)){var n=e.endContainer.previousElementSibling;n&&e.setEnd(n,this._endOffsetForNode(n))}}},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=r.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return e!==!0&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var t=r.query(this.contain,"."+this.unselectableClass),n=r.query(t,"."+this.unselectableClass);return e.lang.array(t).without(n)},getOwnRanges:function(){var e,t=[],n=this.getRange();if(n&&t.push(n),this.unselectableClass&&this.contain&&n){var i,r=this.getOwnUneditables();if(r.length>0)for(var o=0,a=r.length;a>o;o++){e=[];for(var s=0,l=t.length;l>s;s++){if(t[s])switch(t[s].compareNode(r[o])){case 2:break;case 3:i=t[s].cloneRange(),i.setEndBefore(r[o]),e.push(i),i=t[s].cloneRange(),i.setStartAfter(r[o]),e.push(i);break;default:e.push(t[s])}t=e}}}return t},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.getSelection(t);return n.setSingleRange(e)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},isEndToEndInNode:function(t){var n=this.getRange(),i=n.commonAncestorContainer,r=n.startContainer,o=n.endContainer;if(i.nodeType===e.TEXT_NODE&&(i=i.parentNode),r.nodeType===e.TEXT_NODE&&!/^\s*$/.test(r.data.substr(n.startOffset)))return!1;if(o.nodeType===e.TEXT_NODE&&!/^\s*$/.test(o.data.substr(n.endOffset)))return!1;for(;r&&r!==i;){if(r.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,r))return!1;if(e.dom.domNode(r).prev({ignoreBlankTexts:!0}))return!1;r=r.parentNode}for(;o&&o!==i;){if(o.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,o))return!1;if(e.dom.domNode(o).next({ignoreBlankTexts:!0}))return!1;o=o.parentNode}return e.lang.array(t).contains(i.nodeName)?i:!1},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var i=e.className.match(n)||[];return i[i.length-1]===t}function i(e,t){if(!e.getAttribute||!e.getAttribute("style"))return!1;e.getAttribute("style").match(t);return e.getAttribute("style").match(t)?!0:!1}function r(e,t,n){e.getAttribute("style")?(s(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function o(e,t,n){e.className?(a(e,n),e.className+=" "+t):e.className=t}function a(e,t){e.className&&(e.className=e.className.replace(t,""))}function s(e,t){var n,i=[];if(e.getAttribute("style")){n=e.getAttribute("style").split(";");for(var r=n.length;r--;)n[r].match(t)||/^\s*$/.test(n[r])||i.push(n[r]);i.length?e.setAttribute("style",i.join(";")):e.removeAttribute("style")}}function l(e,t){var n=[],i=t.split(";"),r=e.getAttribute("style");if(r){r=r.replace(/\s/gi,"").toLowerCase(),n.push(new RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var o=i.length;o-->0;)/^\s*$/.test(i[o])||n.push(new RegExp("(^|\\s|;)"+i[o].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(var a=0,s=n.length;s>a;a++)if(r.match(n[a]))return n[a]}return!1}function c(n,i,r,o){return r?l(n,r):o?e.dom.hasClass(n,o):t.dom.arrayContains(i,n.tagName.toLowerCase())}function u(e,t,n,i){for(var r=e.length;r--;)if(!c(e[r],t,n,i))return!1;return e.length?!0:!1}function d(e,t,n){var i=l(e,t);return i?(s(e,i),"remove"):(r(e,t,n),"change")}function h(e,t){return e.className.replace(w," ")==t.className.replace(w," ")}function f(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function p(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,r,o=0,a=e.attributes.length;a>o;++o)if(n=e.attributes[o],r=n.name,"class"!=r){if(i=t.attributes.getNamedItem(r),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function m(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n==e.length?!!e.nextSibling:!0:n>0&&n<e.childNodes.length}function g(e,n,i,r){var o;if(t.dom.isCharacterDataNode(n)&&(0==i?(i=t.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=t.dom.getNodeIndex(n)+1,n=n.parentNode):o=t.dom.splitDataNode(n,i)),!(o||r&&n===r)){o=n.cloneNode(!1),o.id&&o.removeAttribute("id");for(var a;a=n.childNodes[i];)o.appendChild(a);t.dom.insertAfter(o,n)}return n==e?o:g(e,o.parentNode,t.dom.getNodeIndex(o),r)}function v(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function y(e,t,n,i,r,o,a){this.tagNames=e||[b],this.cssClass=t||(t===!1?!1:""),this.similarClassRegExp=n,this.cssStyle=r||"",this.similarStyleRegExp=o,this.normalize=i,this.applyToAnyTagName=!1,this.container=a}var b="span",w=/\s+/g;v.prototype={doMerge:function(){for(var e,t,n,i=[],r=0,o=this.textNodes.length;o>r;++r)e=this.textNodes[r],t=e.parentNode,i[r]=e.data,r&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=i.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){for(var e=[],t=0,n=this.textNodes.length;n>t;++t)e[t]="'"+this.textNodes[t].data+"'";return"[Merge("+e.join(",")+")]"}},y.prototype={getAncestorWithClass:function(i){for(var r;i;){if(r=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):""!==this.cssStyle?!1:!0,i.nodeType==e.ELEMENT_NODE&&"false"!=i.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&r)return i;i=i.parentNode}return!1},getAncestorWithStyle:function(n){for(var r;n;){if(r=this.cssStyle?i(n,this.similarStyleRegExp):!1,n.nodeType==e.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;
n=n.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e),t&&(n="style")),{element:t,type:n}},postApply:function(e,t){for(var n,i,r,o=e[0],a=e[e.length-1],s=[],l=o,c=a,u=0,d=a.length,h=0,f=e.length;f>h;++h)i=e[h],r=null,i&&i.parentNode&&(r=this.getAdjacentMergeableTextNode(i.parentNode,!1)),r?(n||(n=new v(r),s.push(n)),n.textNodes.push(i),i===o&&(l=n.firstTextNode,u=l.length),i===a&&(c=n.firstTextNode,d=n.getLength())):n=null;if(a&&a.parentNode){var p=this.getAdjacentMergeableTextNode(a.parentNode,!0);p&&(n||(n=new v(a),s.push(n)),n.textNodes.push(p))}if(s.length){for(h=0,f=s.length;f>h;++h)s[h].doMerge();t.setStart(l,u),t.setEnd(c,d)}},getAdjacentMergeableTextNode:function(t,n){var i,r=t.nodeType==e.TEXT_NODE,o=r?t.parentNode:t,a=n?"nextSibling":"previousSibling";if(r){if(i=t[a],i&&i.nodeType==e.TEXT_NODE)return i}else if(i=o[a],i&&this.areElementsMergeable(t,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&h(e,n)&&p(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var n=e.parentNode;if(1==n.childNodes.length&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase()))this.cssClass&&o(n,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(n,this.cssStyle,this.similarStyleRegExp);else{var i=this.createContainer(t.dom.getDocument(e));e.parentNode.insertBefore(i,e),i.appendChild(e)}},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===e.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===e.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,i){var r=n?!1:!0,o=n||i,s=!1;if(!t.containsNode(o)){var l=t.cloneRange();l.selectNode(o),l.isPointInRange(t.endContainer,t.endOffset)&&m(t.endContainer,t.endOffset)&&(g(o,t.endContainer,t.endOffset,this.container),t.setEndAfter(o)),l.isPointInRange(t.startContainer,t.startOffset)&&m(t.startContainer,t.startOffset)&&(o=g(o,t.startContainer,t.startOffset,this.container))}!r&&this.similarClassRegExp&&a(o,this.similarClassRegExp),r&&this.similarStyleRegExp&&(s="change"===d(o,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(o)&&!s&&f(o)},applyToRange:function(t){for(var n,i=t.length;i--;){if(n=t[i].getNodes([e.TEXT_NODE]),!n.length)try{var r=this.createContainer(t[i].endContainer.ownerDocument);return t[i].surroundContents(r),void this.selectNode(t[i],r)}catch(o){}if(t[i].splitBoundaries(),n=t[i].getNodes([e.TEXT_NODE]),n.length){for(var a,s=0,l=n.length;l>s;++s)a=n[s],this.getMatchingAncestor(a).element||this.applyToTextNode(a);t[i].setStart(n[0],0),a=n[n.length-1],t[i].setEnd(a,a.length),this.normalize&&this.postApply(n,t[i])}}},undoToRange:function(t){for(var n,i,r,o=t.length;o--;){if(n=t[o].getNodes([e.TEXT_NODE]),n.length)t[o].splitBoundaries(),n=t[o].getNodes([e.TEXT_NODE]);else{var a=t[o].endContainer.ownerDocument,s=a.createTextNode(e.INVISIBLE_SPACE);t[o].insertNode(s),t[o].selectNode(s),n=[s]}for(var l=0,c=n.length;c>l;++l)t[o].isValid()&&(i=n[l],r=this.getMatchingAncestor(i),"style"===r.type?this.undoToTextNode(i,t[o],!1,r.element):r.element&&this.undoToTextNode(i,t[o],r.element));1==c?this.selectNode(t[o],n[0]):(t[o].setStart(n[0],0),i=n[n.length-1],t[o].setEnd(i,i.length),this.normalize&&this.postApply(n,t[o]))}},selectNode:function(t,n){var i=n.nodeType===e.ELEMENT_NODE,r="canHaveHTML"in n?n.canHaveHTML:!0,o=i?n.innerHTML:n.data,a=""===o||o===e.INVISIBLE_SPACE;if(a&&i&&r)try{n.innerHTML=e.INVISIBLE_SPACE}catch(s){}t.selectNodeContents(n),a&&i?t.collapse(!1):a&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n=t.cloneRange();n.selectNodeContents(e);var i=n.intersection(t),r=i?i.toString():"";return n.detach(),r},isAppliedToRange:function(t){for(var n,i,r=[],o="full",a=t.length;a--;){if(i=t[a].getNodes([e.TEXT_NODE]),!i.length)return n=this.getMatchingAncestor(t[a].startContainer).element,n?{elements:[n],coverage:o}:!1;for(var s,l=0,c=i.length;c>l;++l)s=this.getTextSelectedByRange(i[l],t[a]),n=this.getMatchingAncestor(i[l]).element,n&&""!=s?(r.push(n),1===e.dom.getTextNodes(n,!0).length?o="full":"full"===o&&(o="inline")):n||(o="partial")}return r.length?{elements:r,coverage:o}:!1},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=u(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(u(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},e.selection.HTMLApplier=y}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(e,!1,t)}catch(a){}return this.editor.fire("aftercommand:composer"),o},state:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.state;if(i)return n.unshift(this.composer),i.apply(t,n);try{return this.doc.queryCommandState(e)}catch(r){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.stateValue;return i?(n.unshift(this.composer),i.apply(t,n)):!1}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){function t(t,n){var a,s,l,c,u,d,h,f,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,y=0;for(e.commands.formatInline.exec(t,i,r,g,v,i,i,!0,!0),s=m.querySelectorAll(r+"."+g),a=s.length;a>y;y++){l=s[y],l.removeAttribute("class");for(p in n)"text"!==p&&l.setAttribute(p,n[p])}d=l,1===a&&(h=o.getTextContent(l),c=!!l.querySelector("*"),u=""===h||h===e.INVISIBLE_SPACE,!c&&u&&(o.setTextContent(l,n.text||l.href),f=m.createTextNode(" "),t.selection.setAfter(l),o.insert(f).after(l),d=f)),t.selection.setAfter(d)}function n(e,t,n){for(var i,r=t.length;r--;){i=t[r].attributes;for(var o=i.length;o--;)t[r].removeAttribute(i.item(o).name);for(var a in n)n.hasOwnProperty(a)&&t[r].setAttribute(a,n[a])}}var i,r="A",o=e.dom;e.commands.createLink={exec:function(e,i,r){var o=this.state(e,i);o?e.selection.executeAndRestore(function(){n(e,o,r)}):(r="object"==typeof r?r:{href:r},t(e,r))},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){function t(e,t){for(var i,r,o,a=t.length,s=0;a>s;s++)i=t[s],r=n.getParentElement(i,{nodeName:"code"}),o=n.getTextContent(i),o.match(n.autoLink.URL_REG_EXP)&&!r?r=n.renameElement(i,"code"):n.replaceWithChildNodes(i)}var n=e.dom;e.commands.removeLink={exec:function(e,n){var i=this.state(e,n);i&&e.selection.executeAndRestore(function(){t(e,i)})},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(n,i,r){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-font-size-"+r,t)},state:function(n,i,r){return e.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+r,t)}}}(wysihtml5),function(e){var t=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;e.commands.fontSizeStyle={exec:function(n,i,r){r="object"==typeof r?r.size:r,/^\s*$/.test(r)||e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,"font-size:"+r,t)},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"font-size",t)},stateValue:function(t,n){var i,r=this.state(t,n);return r&&e.lang.object(r).isArray()&&(r=r[0]),r&&(i=r.getAttribute("style"))?e.quirks.styleParser.parseFontSize(i):!1}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(n,i,r){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-color-"+r,t)},state:function(n,i,r){return e.commands.formatInline.state(n,i,"span","wysiwyg-color-"+r,t)}}}(wysihtml5),function(e){var t=/(\s|^)color\s*:\s*[^;\s]+;?/gi;e.commands.foreColorStyle={exec:function(n,i,r){var o,a=e.quirks.styleParser.parseColor("object"==typeof r?"color:"+r.color:"color:"+r,"color");a&&(o="color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,o,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"color",t)},stateValue:function(t,n,i){var r,o=this.state(t,n);return o&&e.lang.object(o).isArray()&&(o=o[0]),o&&(r=o.getAttribute("style"),r&&r)?(val=e.quirks.styleParser.parseColor(r,"color"),e.quirks.styleParser.unparseColor(val,i)):!1}}}(wysihtml5),function(e){var t=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;e.commands.bgColorStyle={exec:function(n,i,r){var o,a=e.quirks.styleParser.parseColor("object"==typeof r?"background-color:"+r.color:"background-color:"+r,"background-color");a&&(o="background-color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="background-color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,o,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"background-color",t)},stateValue:function(t,n,i){var r,o=this.state(t,n),a=!1;return o&&e.lang.object(o).isArray()&&(o=o[0]),o&&(r=o.getAttribute("style"))?(a=e.quirks.styleParser.parseColor(r,"background-color"),e.quirks.styleParser.unparseColor(a,i)):!1}}}(wysihtml5),function(e){function t(t,n,r){t.className?(i(t,r),t.className=e.lang.string(t.className+" "+n).trim()):t.className=n}function n(t,n,i){r(t,i),t.getAttribute("style")?t.setAttribute("style",e.lang.string(t.getAttribute("style")+" "+n).trim()):t.setAttribute("style",n)}function i(t,n){var i=n.test(t.className);return t.className=t.className.replace(n,""),""==e.lang.string(t.className).trim()&&t.removeAttribute("class"),i}function r(t,n){var i=n.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(n,"")),""==e.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),i}function o(e){var t=e.lastChild;t&&a(t)&&t.parentNode.removeChild(t)}function a(e){return"BR"===e.nodeName}function s(t,n){t.selection.isCollapsed()&&t.selection.selectLine();for(var i=t.selection.surround(n),r=0,a=i.length;a>r;r++)e.dom.lineBreaks(i[r]).remove(),o(i[r])}function l(t){return!!e.lang.string(t.className).trim()}function c(t){return!!e.lang.string(t.getAttribute("style")||"").trim()}var u=e.dom,d=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];e.commands.formatBlock={exec:function(o,a,h,f,p,m,g){var v,y,b,w,C,E=(o.doc,this.state(o,a,h,f,p,m,g)),x=o.config.useLineBreaks,T=x?"DIV":"P";return h="string"==typeof h?h.toUpperCase():h,E.length?void o.selection.executeAndRestoreRangy(function(){for(var t=E.length;t--;){if(p&&(y=i(E[t],p)),g&&(w=r(E[t],g)),(w||y)&&null===h&&E[t].nodeName!=T)return;var n=l(E[t]),o=c(E[t]);n||o||!x&&"P"!==h?u.renameElement(E[t],"P"===h?"DIV":T):(e.dom.lineBreaks(E[t]).add(),u.replaceWithChildNodes(E[t]))}}):void((null!==h&&!e.lang.array(d).contains(h)||(v=o.selection.findNodesInSelection(d).concat(o.selection.getSelectedOwnNodes()),o.selection.executeAndRestoreRangy(function(){for(var e=v.length;e--;)C=u.getParentElement(v[e],{nodeName:d}),C==o.element&&(C=null),C&&(h&&(C=u.renameElement(C,h)),f&&t(C,f,p),m&&n(C,m,g),b=!0)}),!b))&&s(o,{nodeName:h||T,className:f||null,cssStyle:m||null}))},state:function(t,n,i,r,o,a,s){var l,c=t.selection.getSelectedOwnNodes(),d=[];i="string"==typeof i?i.toUpperCase():i;for(var h=0,f=c.length;f>h;h++)l=u.getParentElement(c[h],{nodeName:i,className:r,classRegExp:o,cssStyle:a,styleRegExp:s}),l&&-1==e.lang.array(d).indexOf(l)&&d.push(l);return 0==d.length?!1:d}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,n){var i,r,o,a=this.state(e);a?e.selection.executeAndRestore(function(){i=a.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(a),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(r=e.selection.getRange(),o=r.extractContents(),a=e.doc.createElement("pre"),i=e.doc.createElement("code"),n&&(i.className=n),a.appendChild(i),i.appendChild(o),r.insertNode(a),e.selection.selectNode(a))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(e){function t(e){var t=i[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,i,o,a,s,l){var c=n;return i&&(c+=":"+i),a&&(c+=":"+a),r[c]||(r[c]=new e.selection.HTMLApplier(t(n),i,o,!0,a,s,l)),r[c]}var i={strong:"b",em:"i",b:"strong",i:"em"},r={};e.commands.formatInline={exec:function(e,t,i,r,o,a,s,l,c){var u=e.selection.createRange(),d=e.selection.getOwnRanges();return d&&0!=d.length?(e.selection.getSelection().removeAllRanges(),n(i,r,o,a,s,e.element).toggleRange(d),void(l?c||e.cleanUp():(u.setStart(d[0].startContainer,d[0].startOffset),u.setEnd(d[d.length-1].endContainer,d[d.length-1].endOffset),e.selection.setSelection(u),e.selection.executeAndRestore(function(){c||e.cleanUp()},!0,!0)))):!1},execWithToggle:function(t,n,i,r,o,a,s){var l=this;if(this.state(t,n,i,r,o,a,s)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()){var c=l.state(t,n,i,r,o)[0];t.selection.executeAndRestoreRangy(function(){c.parentNode;t.selection.selectNode(c,!0),e.commands.formatInline.exec(t,n,i,r,o,a,s,!0,!0)})}else this.state(t,n,i,r,o,a,s)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy(function(){e.commands.formatInline.exec(t,n,i,r,o,a,s,!0,!0)}):e.commands.formatInline.exec(t,n,i,r,o,a,s)},state:function(t,r,o,a,s,l,c){var u,d,h=t.doc,f=i[o]||o;return e.dom.hasElementWithTagName(h,o)||e.dom.hasElementWithTagName(h,f)?a&&!e.dom.hasElementWithClassName(h,a)?!1:(u=t.selection.getOwnRanges(),u&&0!==u.length?(d=n(o,a,s,l,c,t.element).isAppliedToRange(u),d&&d.elements?d.elements:!1):!1):!1}}}(wysihtml5),function(e){e.commands.insertBlockQuote={exec:function(t,n){var i=this.state(t,n),r=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(i)t.config.useLineBreaks&&e.dom.lineBreaks(i).add(),e.dom.unwrap(i);else if(t.selection.isCollapsed()&&t.selection.selectLine(),r){var n=r.ownerDocument.createElement("blockquote");e.dom.insert(n).after(r),n.appendChild(r)}else t.selection.surround({nodeName:"blockquote"})})},state:function(t){var n=t.selection.getSelectedNode(),i=e.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,t.element);return i?i:!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(n,i,r){r="object"==typeof r?r:{src:r};var o,a,s=n.doc,l=this.state(n);if(l)return n.selection.setBefore(l),a=l.parentNode,a.removeChild(l),e.dom.removeEmptyTextNodes(a),"A"!==a.nodeName||a.firstChild||(n.selection.setAfter(a),a.parentNode.removeChild(a)),void e.quirks.redraw(n.element);l=s.createElement(t);for(var c in r)l.setAttribute("className"===c?"class":c,r[c]);n.selection.insertNode(l),e.browser.hasProblemsSettingCaretAfterImg()?(o=s.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(o),n.selection.setAfter(o)):n.selection.setAfter(l)},state:function(n){var i,r,o,a=n.doc;return e.dom.hasElementWithTagName(a,t)&&(i=n.selection.getSelectedNode())?i.nodeName===t?i:i.nodeType!==e.ELEMENT_NODE?!1:(r=n.selection.getText(),(r=e.lang.string(r).trim())?!1:(o=n.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1!==o.length?!1:o[0])):!1}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(e){var t=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1},n=function(n,i,r){var o={el:null,other:!1};if(n){var a=e.dom.getParentElement(n,{nodeName:"LI"}),s="UL"===i?"OL":"UL";t(n,i)?o.el=n:t(n,s)?o={el:n,other:!0}:a&&(t(a.parentNode,i)?o.el=a.parentNode:t(a.parentNode,s)&&(o={el:a.parentNode,other:!0}))}return o.el&&!r.element.contains(o.el)&&(o.el=null),o},i=function(t,n,i){var r,a="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var s=o(a,i);if(s.length)for(var l=s.length;l--;)e.dom.renameElement(s[l],n.toLowerCase());else{r=o(["OL","UL"],i);for(var c=r.length;c--;)e.dom.resolveList(r[c],i.config.useLineBreaks);e.dom.resolveList(t,i.config.useLineBreaks)}})},r=function(t,n,i){var r="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){for(var a=[t].concat(o(r,i)),s=a.length;s--;)e.dom.renameElement(a[s],n.toLowerCase())})},o=function(e,n){for(var i=n.selection.getOwnRanges(),r=[],o=i.length;o--;)r=r.concat(i[o].getNodes([1],function(n){return t(n,e)}));return r},a=function(t,n){n.selection.executeAndRestoreRangy(function(){var i,r,o="_wysihtml5-temp-"+(new Date).getTime(),a=n.selection.deblockAndSurround({nodeName:"div",className:o}),s=/\uFEFF/g;a.innerHTML=a.innerHTML.replace(s,""),a&&(i=e.lang.array(["","<br>",e.INVISIBLE_SPACE]).contains(a.innerHTML),r=e.dom.convertToList(a,t.toLowerCase(),n.parent.config.uneditableContainerClassname),i&&n.selection.selectNode(r.querySelector("li"),!0))})};return{exec:function(e,t,o){var s=e.doc,l="OL"===o?"insertOrderedList":"insertUnorderedList",c=e.selection.getSelectedNode(),u=n(c,o,e);u.el?u.other?r(u.el,o,e):i(u.el,o,e):e.commands.support(l)?s.execCommand(l,!1,null):a(o,e)},state:function(e,t,i){var r=e.selection.getSelectedNode(),o=n(r,i,e);return o.el&&!o.other?o.el:!1}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var i,r,o;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(o=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",o+="<tbody>",r=0;r<n.rows;r++){for(o+="<tr>",i=0;i<n.cols;i++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</tbody></table>",e.commands.exec("insertHTML",o)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e){if(e.tableSelection){var t=e.tableSelection.start,n=e.tableSelection.end;if(t&&n&&t==n&&(wysihtml5.dom.getAttribute(t,"colspan")&&parseInt(wysihtml5.dom.getAttribute(t,"colspan"),10)>1||wysihtml5.dom.getAttribute(t,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(t,"rowspan"),10)>1))return[t]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):("after"==n||"below"==n)&&wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){e.tableSelection.select(i.start,i.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i,r=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),o=wysihtml5.dom.table.indexOf(r.start),a=e.tableSelection.table;wysihtml5.dom.table.removeCells(r.start,n),setTimeout(function(){i=wysihtml5.dom.table.findCell(a,o),i||("row"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row-1,col:o.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row,col:o.col-1}))),i&&e.tableSelection.select(i,i)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return t?this.tryToPushLiLevel(t,e.selection):!1},state:function(){return!1},tryToPushLiLevel:function(e,t){var n,i,r,o,a,s=!1;return t.executeAndRestoreRangy(function(){for(var t=e.length;t--;)o=e[t],n="OL"===o.parentNode.nodeName?"OL":"UL",i=o.ownerDocument.createElement(n),r=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),a=r?r.querySelector("ul, ol"):null,r&&(a?a.appendChild(o):(i.appendChild(o),r.appendChild(i)),s=!0)}),s}},wysihtml5.commands.outdentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return t?this.tryToPullLiLevel(t,e):!1},state:function(){return!1},tryToPullLiLevel:function(e,t){var n,i,r,o,a,s=!1,l=this;return t.selection.executeAndRestoreRangy(function(){for(var c=e.length;c--;)if(o=e[c],o.parentNode&&(n=o.parentNode,"OL"===n.tagName||"UL"===n.tagName)){if(s=!0,i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,t.element),r=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,t.element),i&&r)o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a)),i.insertBefore(o,r.nextSibling);else{o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a));for(var u=o.childNodes.length;u--;)n.parentNode.insertBefore(o.childNodes[u],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),o.parentNode.removeChild(o)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),s},getAfterList:function(e,t){for(var n=e.nodeName,i=document.createElement(n);t.nextSibling;)i.appendChild(t.nextSibling);return i}},function(e){var t=90,n=89,i=8,r=46,o=25,a="data-wysihtml5-selection-node",s="data-wysihtml5-selection-offset",l=('<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",'<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",e.dom);e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){{var e,o=this;this.composer.sandbox.getDocument()}l.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var i=e.keyCode,r=i===t&&!e.shiftKey,a=i===t&&e.shiftKey||i===n;r?(o.undo(),e.preventDefault()):a&&(o.redo(),e.preventDefault())}}),l.observe(this.element,"keydown",function(t){var n=t.keyCode;n!==e&&(e=n,(n===i||n===r)&&o.transact())}),this.editor.on("newword:composer",function(){o.transact()}).on("beforecommand:composer",function(){o.transact()})},transact:function(){var t,n,i,r,l,c=this.historyStr[this.position-1],u=this.composer.getValue(!1,!1),d=this.element.offsetWidth>0&&this.element.offsetHeight>0;if(u!==c){var h=this.historyStr.length=this.historyDom.length=this.position;h>o&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,d&&(t=this.composer.selection.getRange(),n=t&&t.startContainer?t.startContainer:this.element,i=t&&t.startOffset?t.startOffset:0,n.nodeType===e.ELEMENT_NODE?r=n:(r=n.parentNode,l=this.getChildNodeIndex(r,n)),r.setAttribute(s,i),"undefined"!=typeof l&&r.setAttribute(a,l));var f=this.element.cloneNode(!!u);this.historyDom.push(f),this.historyStr.push(u),r&&(r.removeAttribute(s),r.removeAttribute(a))}},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){this.element.innerHTML="";for(var t=0,n=e.childNodes,i=e.childNodes.length;i>t;t++)this.element.appendChild(n[t].cloneNode(!0));var r,o,l;e.hasAttribute(s)?(r=e.getAttribute(s),l=e.getAttribute(a),o=this.element):(o=this.element.querySelector("["+s+"]")||this.element,r=o.getAttribute(s),l=o.getAttribute(a),o.removeAttribute(s),o.removeAttribute(a)),null!==l&&(o=this.getChildNodeByIndex(o,+l)),this.composer.selection.set(o,r)},getChildNodeIndex:function(e,t){for(var n=0,i=e.childNodes,r=i.length;r>n;n++)if(i[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,n){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t!==!1&&(i=this.parent.parse(i,n===!1?!1:!0)),i},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(n){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=t.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new t.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new t.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),t.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e=this;this.sandbox=new t.Sandbox(function(){e._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe();var n=this.textarea.element;t.insert(this.editableArea).after(n),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,t.insert(e).after(this.textarea.element)}},_create:function(){var i=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new e.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new e.Commands(this.parent),this.config.noTextarea||t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe();var r=this.config.name;r&&(t.addClass(this.element,r),this.config.contentEditableMode||t.addClass(this.editableArea,r)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable();var o="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder");o&&t.simulatePlaceholder(this.parent,this,o),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){i.focus(!0)
},100),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i=this,r=n.canDisableAutoLinking(),o=n.doesAutoLinkingInContentEditable();if(r&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!o||o&&r)&&(this.parent.on("newword:composer",function(){t.getTextContent(i.element).match(t.autoLink.URL_REG_EXP)&&i.selection.executeAndRestore(function(n,r){for(var o=i.element.querySelectorAll("."+i.config.uneditableContainerClassname),a=!1,s=o.length;s--;)e.dom.contains(o[s],r)&&(a=!0);a||t.autoLink(r.parentNode,[i.config.uneditableContainerClassname])})}),t.observe(this.element,"blur",function(){t.autoLink(i.element,[i.config.uneditableContainerClassname])}));var a=this.sandbox.getDocument().getElementsByTagName("a"),s=t.autoLink.URL_REG_EXP,l=function(n){var i=e.lang.string(t.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i};t.observe(this.element,"keydown",function(e){if(a.length){var n,r=i.selection.getSelectedNode(e.target.ownerDocument),o=t.getParentElement(r,{nodeName:"A"},4);o&&(n=l(o),setTimeout(function(){var e=l(o);e!==n&&e.match(s)&&o.setAttribute("href",e)},0))}})}},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var i=["width","height"],r=i.length,o=this.element;t.observe(o,"resizeend",function(t){var n,a=t.target||t.srcElement,s=a.style,l=0;if("IMG"===a.nodeName){for(;r>l;l++)n=i[l],s[n]&&(a.setAttribute(n,parseInt(s[n],10)),s[n]="");e.quirks.redraw(o)}})}},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)},_initLineBreaking:function(){function i(e){var n=t.getParentElement(e,{nodeName:["P","DIV"]},2);n&&t.contains(r.element,n)&&r.selection.executeAndRestore(function(){r.config.useLineBreaks?t.replaceWithChildNodes(n):"P"!==n.nodeName&&t.renameElement(n,"p")})}var r=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];this.config.useLineBreaks||t.observe(this.element,["focus","keydown"],function(){if(r.isEmpty()){var e=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(e),n.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(e,!0):(e.innerHTML="<br>",r.selection.setBefore(e.firstChild))}}),t.observe(this.element,"keydown",function(n){var s=n.keyCode;if(!n.shiftKey&&(s===e.ENTER_KEY||s===e.BACKSPACE_KEY)){var l=t.getParentElement(r.selection.getSelectedNode(),{nodeName:o},4);return l?void setTimeout(function(){var n,o=r.selection.getSelectedNode();if("LI"===l.nodeName){if(!o)return;n=t.getParentElement(o,{nodeName:a},2),n||i(o)}s===e.ENTER_KEY&&l.nodeName.match(/^H[1-6]$/)&&i(o)},0):void(r.config.useLineBreaks&&s===e.ENTER_KEY&&!e.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),r.commands.exec("insertLineBreak")))}})}})}(wysihtml5),function(e){var t=e.dom,n=document,i=window,r=n.createElement("div"),o=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",".wysiwyg-color-black {color: black;}",".wysiwyg-color-silver {color: silver;}",".wysiwyg-color-gray {color: gray;}",".wysiwyg-color-white {color: white;}",".wysiwyg-color-maroon {color: maroon;}",".wysiwyg-color-red {color: red;}",".wysiwyg-color-purple {color: purple;}",".wysiwyg-color-fuchsia {color: fuchsia;}",".wysiwyg-color-green {color: green;}",".wysiwyg-color-lime {color: lime;}",".wysiwyg-color-olive {color: olive;}",".wysiwyg-color-yellow {color: yellow;}",".wysiwyg-color-navy {color: navy;}",".wysiwyg-color-blue {color: blue;}",".wysiwyg-color-teal {color: teal;}",".wysiwyg-color-aqua {color: aqua;}",".wysiwyg-color-orange {color: orange;}",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(e){if(e.setActive)try{e.setActive()}catch(r){}else{var o=e.style,a=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,l={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),i.scrollTo&&i.scrollTo(s,a)}};e.views.Composer.prototype.style=function(){var i,c=this,u=n.querySelector(":focus"),d=this.textarea.element,h=d.hasAttribute("placeholder"),f=h&&d.getAttribute("placeholder"),p=d.style.display,m=d.disabled;this.focusStylesHost=r.cloneNode(!1),this.blurStylesHost=r.cloneNode(!1),this.disabledStylesHost=r.cloneNode(!1),h&&d.removeAttribute("placeholder"),d===u&&d.blur(),d.disabled=!1,d.style.display=i="none",(d.getAttribute("rows")&&"auto"===t.getStyle("height").from(d)||d.getAttribute("cols")&&"auto"===t.getStyle("width").from(d))&&(d.style.display=i=p),t.copyStyles(a).from(d).to(this.editableArea).andTo(this.blurStylesHost),t.copyStyles(o).from(d).to(this.element).andTo(this.blurStylesHost),t.insertCSS(s).into(this.element.ownerDocument),d.disabled=!0,t.copyStyles(a).from(d).to(this.disabledStylesHost),t.copyStyles(o).from(d).to(this.disabledStylesHost),d.disabled=m,d.style.display=p,l(d),d.style.display=i,t.copyStyles(a).from(d).to(this.focusStylesHost),t.copyStyles(o).from(d).to(this.focusStylesHost),d.style.display=p,t.copyStyles(["display"]).from(d).to(this.editableArea);var g=e.lang.array(a).without(["display"]);return u?u.focus():d.blur(),h&&d.setAttribute("placeholder",f),this.parent.on("focus:composer",function(){t.copyStyles(g).from(c.focusStylesHost).to(c.editableArea),t.copyStyles(o).from(c.focusStylesHost).to(c.element)}),this.parent.on("blur:composer",function(){t.copyStyles(g).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this.parent.observe("disable:composer",function(){t.copyStyles(g).from(c.disabledStylesHost).to(c.editableArea),t.copyStyles(o).from(c.disabledStylesHost).to(c.element)}),this.parent.observe("enable:composer",function(){t.copyStyles(g).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,i={66:"bold",73:"italic",85:"underline"},r=function(e,t,n){var i=e.getPreviousNode(t,!0),r=e.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==n&&(r=r.parentNode),i)if(1==r.nodeType){var o=r.firstChild;if(1==i.nodeType)for(;r.firstChild;)i.appendChild(r.firstChild);else for(;r.firstChild;)t.parentNode.insertBefore(r.firstChild,t);r.parentNode&&r.parentNode.removeChild(r),e.setBefore(o)}else 1==i.nodeType?i.appendChild(r):t.parentNode.insertBefore(r,t),e.setBefore(r)},o=function(e,t,n,i){if(t.isCollapsed())if(t.caretIsInTheBeginnig("LI"))e.preventDefault(),i.commands.exec("outdentList");else if(t.caretIsInTheBeginnig())e.preventDefault();else{if(t.caretIsFirstInSelection()&&t.getPreviousNode()&&t.getPreviousNode().nodeName&&/^H\d$/gi.test(t.getPreviousNode().nodeName)){var o=t.getPreviousNode();if(e.preventDefault(),/^\s*$/.test(o.textContent||o.innerText))o.parentNode.removeChild(o);else{var a=o.ownerDocument.createRange();a.selectNodeContents(o),a.collapse(!1),t.setSelection(a)}}var s=t.caretIsBeforeUneditable();s&&(e.preventDefault(),r(t,s,n))}else t.containsUneditable()&&(e.preventDefault(),t.deleteContents())},a=function(e){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")};e.views.Composer.prototype.observe=function(){var r=this,s=this.getValue(!1,!1),l=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),c=this.element,u=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?c:this.sandbox.getWindow(),d=["drop","paste"],h=["drop","paste","mouseup","focus","keyup"];if(t.observe(l,"DOMNodeRemoved",function(){clearInterval(f),r.parent.fire("destroy:composer")}),!n.supportsMutationEvents())var f=setInterval(function(){t.contains(document.documentElement,l)||(clearInterval(f),r.parent.fire("destroy:composer"))},250);t.observe(u,h,function(){setTimeout(function(){r.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&e.browser.supportsCommand(this.doc,"enableObjectResizing")&&e.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=t.observe(l,["focus","mouseup","mouseover"],function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false"),r.tableClickHandle.stop()}):setTimeout(function(){r.doc.execCommand("enableObjectResizing",!1,"false"),r.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=e.quirks.tableCellsSelection(c,r.parent)),t.observe(u,"focus",function(e){r.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){s=r.getValue(!1,!1)},0)}),t.observe(u,"blur",function(e){if(s!==r.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),r.parent.fire("change",t).fire("change:composer",t)}r.parent.fire("blur",e).fire("blur:composer",e)}),t.observe(c,"dragenter",function(){r.parent.fire("unset_placeholder")}),t.observe(c,d,function(e){setTimeout(function(){r.parent.fire(e.type,e).fire(e.type+":composer",e)},0)}),t.observe(c,"keyup",function(t){var n=t.keyCode;(n===e.SPACE_KEY||n===e.ENTER_KEY)&&r.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){r.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||t.observe(c,"mousedown",function(t){var n=t.target,i=c.querySelectorAll("img"),o=c.querySelectorAll("."+r.config.uneditableContainerClassname+" img"),a=e.lang.array(i).without(o);"IMG"===n.nodeName&&e.lang.array(a).contains(n)&&r.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||t.observe(c,"drop",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&t.observe(c,"keydown",function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,n=c.ownerDocument.defaultView,i=n.getSelection();(37===t||39===t)&&(37===t&&(i.modify("extend","left","lineboundary"),e.shiftKey||i.collapseToStart()),39===t&&(i.modify("extend","right","lineboundary"),e.shiftKey||i.collapseToEnd()),e.preventDefault())}}),t.observe(c,"keydown",function(e){var t=e.keyCode,n=i[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(r.commands.exec(n),e.preventDefault()),8===t?o(e,r.selection,c,r):r.config.handleTabKey&&9===t&&(e.preventDefault(),a(r,c))}),t.observe(c,"keydown",function(t){var n,i=r.selection.getSelectedNode(!0),o=t.keyCode;!i||"IMG"!==i.nodeName||o!==e.BACKSPACE_KEY&&o!==e.DELETE_KEY||(n=i.parentNode,n.removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){e.quirks.redraw(c)},0),t.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(t.observe(l,"focus",function(){setTimeout(function(){r.doc.querySelector(":focus")!==r.element&&r.focus()},0)}),t.observe(this.element,"blur",function(){setTimeout(function(){r.selection.getSelection().removeAllRanges()},0)}));var p={IMG:"Image: ",A:"Link: "};t.observe(c,"mouseover",function(e){var t,n=e.target,i=n.nodeName;if("A"===i||"IMG"===i){var r=n.hasAttribute("title");r||(t=p[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",t))}})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var n,i=this,r=this.textarea.element.form,o=function(){n=setInterval(function(){i.fromComposerToTextarea()},t)},a=function(){clearInterval(n),n=null};o(),r&&(e.dom.observe(r,"submit",function(){i.sync(!0)}),e.dom.observe(r,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||n?"textarea"===e&&(i.fromComposerToTextarea(!0),a()):(i.fromTextareaToComposer(!0),o())}),this.editor.on("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e!==!1&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value,i=!n;return e&&i||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.on("beforeload",function(){wysihtml5.dom.observe(e,i,function(e){var i=n[e.type]||e.type;t.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t,n={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container"};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,i){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(n).merge(i).get(),this._isCompatible=e.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new e.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var r=this;return void setTimeout(function(){r.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,n){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,r=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof t&&e.quirks.redraw(t),r},_initParser:function(){this.on("paste:composer",function(){var t=!0,n=this;n.composer.selection.executeAndRestore(function(){e.quirks.cleanPastedHTML(n.composer.element),n.parse(n.composer.element)},t)})}})}(wysihtml5),function(e){var t=e.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",r="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){if(!this._observed){var r=this,o=function(e){var t=r._serialize();t==r.elementToChange?r.fire("edit",t):r.fire("save",t),r.hide(),e.preventDefault(),e.stopPropagation()};t.observe(r.link,"click",function(){t.hasClass(r.link,n)&&setTimeout(function(){r.hide()},0)}),t.observe(this.container,"keydown",function(t){var n=t.keyCode;n===e.ENTER_KEY&&o(t),n===e.ESCAPE_KEY&&(r.fire("cancel"),r.hide())}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){r.fire("cancel"),r.hide(),e.preventDefault(),e.stopPropagation()});for(var a=this.container.querySelectorAll(i),s=0,l=a.length,c=function(){clearInterval(r.interval)};l>s;s++)t.observe(a[s],"change",c);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(r),n=t.length,i=0;n>i;i++)e[t[i].getAttribute(o)]=t[i].value;return e},_interpolate:function(e){for(var t,n,i,a=document.querySelector(":focus"),s=this.container.querySelectorAll(r),l=s.length,c=0;l>c;c++)t=s[c],t!==a&&(e&&"hidden"===t.type||(n=t.getAttribute(o),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=i))},show:function(e){if(!t.hasClass(this.link,n)){var r=this,o=this.container.querySelector(i);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){r._interpolate(!0)},500)),t.addClass(this.link,n),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(a){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(a,s){var l=document.createElement("input");if(!e.browser.supportsSpeechApiOn(l))return void(s.style.display="none");var c=a.editor.textarea.element.getAttribute("lang");c&&(o.lang=c);var u=document.createElement("div");e.lang.object(i).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),t.insert(l).into(u),t.insert(u).into(s),t.setStyles(r).on(l),t.setAttributes(o).on(l),t.setStyles(i).on(u),t.setStyles(n).on(s);var d="onwebkitspeechchange"in l?"webkitspeechchange":"speechchange";t.observe(l,d,function(){a.execCommand("insertText",l.value),l.value=""}),t.observe(l,"click",function(e){t.hasClass(s,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",r="wysihtml5-action-active",o=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(t,n,i){this.editor=t,this.container="string"==typeof n?document.getElementById(n):n,this.composer=t.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),i&&this.show();for(var r=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),o=r.length,a=0;o>a;a++)new e.toolbar.Speech(this,r[a])},_getLinks:function(t){for(var n,i,r,o,a,s=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=s.length,c=0,u=this[t+"Mapping"]={};l>c;c++)n=s[c],r=n.getAttribute("data-wysihtml5-"+t),o=n.getAttribute("data-wysihtml5-"+t+"-value"),i=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+r+"']"),a=this._getDialog(n,r),u[r+":"+o]={link:n,group:i,name:r,value:o,dialog:a,state:!1}},_getDialog:function(t,n){var i,r,o=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&(i=e.toolbar["Dialog_"+n]?new e.toolbar["Dialog_"+n](t,a):new e.toolbar.Dialog(t,a),i.on("show",function(){r=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.on("save",function(e){r&&o.composer.selection.setBookmark(r),o._execCommand(n,e),o.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.on("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:t})})),i},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var e=this,t=this.editor,i=this.container,r=this.commandLinks.concat(this.actionLinks),a=r.length,s=0;a>s;s++)"A"===r[s].nodeName?o.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[s]):o.setAttributes({unselectable:"on"}).on(r[s]);o.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),o.delegate(i,"[data-wysihtml5-command]","click",function(t){var n=this,i=n.getAttribute("data-wysihtml5-command"),r=n.getAttribute("data-wysihtml5-command-value");e.execCommand(i,r),t.preventDefault()}),o.delegate(i,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),t.on("interaction:composer",function(){e._updateLinkStates()}),t.on("focus:composer",function(){e.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(r){t.textarea&&setTimeout(function(){e.commandsDisabled="composer"!==r,e._updateLinkStates(),e.commandsDisabled?o.addClass(i,n):o.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,a,s,l,c=this.commandMapping,u=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(a=!1,o.removeClass(l.link,i),l.group&&o.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),o.removeClass(l.link,t),l.group&&o.removeClass(l.group,t)),l.state!==a&&(l.state=a,a?(o.addClass(l.link,i),l.group&&o.addClass(l.group,i),l.dialog&&("object"==typeof a||e.lang.object(a).isArray()?(!l.dialog.multiselect&&e.lang.object(a).isArray()&&(a=1===a.length?a[0]:!0,l.state=a),l.dialog.show(a)):l.dialog.hide())):(o.removeClass(l.link,i),l.group&&o.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in u)s=u[n],"change_view"===s.name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?o.addClass(s.link,r):o.removeClass(s.link,r))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(e){var t=(e.dom,"[data-wysihtml5-dialog-field]"),n="data-wysihtml5-dialog-field";e.toolbar.Dialog_foreColorStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},i=this.container.querySelectorAll(t),r=i.length,o=0;r>o;o++)e[i[o].getAttribute(n)]=i[o].value;return e},_interpolate:function(i){for(var r,o=document.querySelector(":focus"),a=this.container.querySelectorAll(t),s=a.length,l=0,c=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,u=c?c.getAttribute("style"):null,d=u?e.quirks.styleParser.parseColor(u,"color"):null;s>l;l++)r=a[l],r!==o&&(i&&"hidden"===r.type||"color"===r.getAttribute(n)&&(r.value=d?d[3]&&1!=d[3]?"rgba("+d[0]+","+d[1]+","+d[2]+","+d[3]+");":"rgb("+d[0]+","+d[1]+","+d[2]+");":"rgb(0,0,0);"))}})}(wysihtml5),function(e){e.dom;e.toolbar.Dialog_fontSizeStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var t=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,r=i?i.getAttribute("style"):null,o=r?e.quirks.styleParser.parseFontSize(r):null;n&&n!==t&&o&&!/^\s*$/.test(o)&&(n.value=o)}})}(wysihtml5),/*!

 handlebars v3.0.2

Copyright (C) 2011-2014 by Yehuda Katz

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

@license
*/
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(i){"use strict";function r(){var e=new s.HandlebarsEnvironment;return f.extend(e,s),e.SafeString=c["default"],e.Exception=d["default"],e.Utils=f,e.escapeExpression=f.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var o=n(6)["default"];t.__esModule=!0;var a=n(1),s=o(a),l=n(2),c=o(l),u=n(3),d=o(u),h=n(4),f=o(h),p=n(5),m=o(p),g=r();g.create=r;var v="undefined"!=typeof i?i:window,y=v.Handlebars;g.noConflict=function(){v.Handlebars===g&&(v.Handlebars=y)},g["default"]=g,t["default"]=g,e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e,t){this.helpers=e||{},this.partials=t||{},r(this)}function r(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new u["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse,r=n.fn;if(t===!0)return r(this);if(t===!1||null==t)return i(this);if(p(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){var a=o(n.data);a.contextPath=l.appendContextPath(n.data.contextPath,n.name),n={data:a}}return r(t,n)}),e.registerHelper("each",function(e,t){function n(t,n,r){c&&(c.key=t,c.index=n,c.first=0===n,c.last=!!r,d&&(c.contextPath=d+t)),s+=i(e[t],{data:c,blockParams:l.blockParams([e[t],t],[d+t,null])})}if(!t)throw new u["default"]("Must pass iterator to #each");var i=t.fn,r=t.inverse,a=0,s="",c=void 0,d=void 0;if(t.data&&t.ids&&(d=l.appendContextPath(t.data.contextPath,t.ids[0])+"."),m(e)&&(e=e.call(this)),t.data&&(c=o(t.data)),e&&"object"==typeof e)if(p(e))for(var h=e.length;h>a;a++)n(a,a,a===e.length-1);else{var f=void 0;for(var g in e)e.hasOwnProperty(g)&&(f&&n(f,a-1),f=g,a++);f&&n(f,a-1,!0)}return 0===a&&(s=r(this)),s}),e.registerHelper("if",function(e,t){return m(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||l.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){m(e)&&(e=e.call(this));var n=t.fn;if(l.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var i=o(t.data);i.contextPath=l.appendContextPath(t.data.contextPath,t.ids[0]),t={data:i}}return n(e,t)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}function o(e){var t=l.extend({},e);return t._parent=e,t}var a=n(6)["default"];t.__esModule=!0,t.HandlebarsEnvironment=i,t.createFrame=o;var s=n(4),l=a(s),c=n(3),u=a(c),d="3.0.1";t.VERSION=d;var h=6;t.COMPILER_REVISION=h;var f={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};t.REVISION_CHANGES=f;var p=l.isArray,m=l.isFunction,g=l.toString,v="[object Object]";i.prototype={constructor:i,logger:y,log:b,registerHelper:function(e,t){if(g.call(e)===v){if(t)throw new u["default"]("Arg not supported with multiple helpers");l.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(g.call(e)===v)l.extend(this.partials,e);else{if("undefined"==typeof t)throw new u["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]}};var y={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function(e,t){if("undefined"!=typeof console&&y.level<=e){var n=y.methodMap[e];(console[n]||console.log).call(console,t)}}};t.logger=y;var b=y.log;t.log=b},function(e,t){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){var r=t&&t.loc,o=void 0,a=void 0;r&&(o=r.start.line,a=r.start.column,e+=" - "+o+":"+a);for(var s=Error.prototype.constructor.call(this,e),l=0;l<i.length;l++)this[i[l]]=s[i[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),r&&(this.lineNumber=o,this.column=a)}t.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function n(e){return c[e]}function i(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function r(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1}function o(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(u,n):e}function a(e){return e||0===e?p(e)&&0===e.length?!0:!1:!0}function s(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=i,t.indexOf=r,t.escapeExpression=o,t.isEmpty=a,t.blockParams=s,t.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,d=/[&<>"'`]/,h=Object.prototype.toString;t.toString=h;var f=function(e){return"function"==typeof e};f(/x/)&&(t.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var f;t.isFunction=f;var p=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};t.isArray=p},function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=m.COMPILER_REVISION;if(t!==n){if(n>t){var i=m.REVISION_CHANGES[n],r=m.REVISION_CHANGES[t];throw new p["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+r+").")}throw new p["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){function n(n,i,r){r.hash&&(i=h.extend({},i,r.hash)),n=t.VM.resolvePartial.call(this,n,i,r);var o=t.VM.invokePartial.call(this,n,i,r);if(null==o&&t.compile&&(r.partials[r.name]=t.compile(n,e.compilerOptions,t),o=r.partials[r.name](i,r)),null!=o){if(r.indent){for(var a=o.split("\n"),s=0,l=a.length;l>s&&(a[s]||s+1!==l);s++)a[s]=r.indent+a[s];o=a.join("\n")}return o}throw new p["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function i(t){var n=void 0===arguments[1]?{}:arguments[1],o=n.data;i._setup(n),!n.partial&&e.useData&&(o=c(t,o));var a=void 0,s=e.useBlockParams?[]:void 0;return e.useDepths&&(a=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,o,s,a)}if(!t)throw new p["default"]("No environment passed to template");if(!e||!e.main)throw new p["default"]("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var r={strict:function(e,t){if(!(t in e))throw new p["default"]('"'+t+'" not defined in '+e);return e[t]},lookup:function(e,t){for(var n=e.length,i=0;n>i;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:h.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n,i,r){var a=this.programs[e],s=this.fn(e);return t||r||i||n?a=o(this,e,s,t,n,i,r):a||(a=this.programs[e]=o(this,e,s)),a},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=h.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},i._child=function(t,n,i,a){if(e.useBlockParams&&!i)throw new p["default"]("must pass block params");if(e.useDepths&&!a)throw new p["default"]("must pass parent depths");return o(r,t,e[t],n,0,i,a)},i}function o(e,t,n,i,r,o,a){function s(t){var r=void 0===arguments[1]?{}:arguments[1];return n.call(e,t,e.helpers,e.partials,r.data||i,o&&[r.blockParams].concat(o),a&&[t].concat(a))}return s.program=t,s.depth=a?a.length:0,s.blockParams=r||0,s}function a(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e=n.partials[n.name],e}function s(e,t,n){if(n.partial=!0,void 0===e)throw new p["default"]("The partial "+n.name+" could not be found");return e instanceof Function?e(t,n):void 0}function l(){return""}function c(e,t){return t&&"root"in t||(t=t?m.createFrame(t):{},t.root=e),t}var u=n(6)["default"];t.__esModule=!0,t.checkRevision=i,t.template=r,t.wrapProgram=o,t.resolvePartial=a,t.invokePartial=s,t.noop=l;var d=n(4),h=u(d),f=n(3),p=u(f),m=n(1)},function(e,t){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0}])}),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template({1:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},3:function(){return'      <span class="fa fa-quote-left"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-quote"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<li>\n  <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.color=Handlebars.template({1:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.black:r,e))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.black:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.silver:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.gray:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.maroon:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.red:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.purple:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.green:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.olive:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.navy:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.blue:r,e))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.colours:r)?r.orange:r,e))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.emphasis=Handlebars.template({1:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},3:function(e,t,n,i){var r;return'    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=e?e.locale:e)?r.emphasis:r)?r.small:r,e))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.emphasis:r)?r.bold:r,e))+'</a>\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.emphasis:r)?r.italic:r,e))+'</a>\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.emphasis:r)?r.underline:r,e))+"</a>\n"+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.emphasis:r)?r.small:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?r:"")+"  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl["font-styles"]=Handlebars.template({1:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},3:function(){return'      <span class="fa fa-font"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-font"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'" data-toggle="dropdown">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+'    <span class="current-font">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.normal:r,e))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.normal:r,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.h1:r,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.h2:r,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.h3:r,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.h4:r,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.h5:r,e))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.font_styles:r)?r.h6:r,e))+"</a></li>\n  </ul>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.html=Handlebars.template({1:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},3:function(){return'        <span class="fa fa-pencil"></span>\n'},5:function(){return'        <span class="glyphicon glyphicon-pencil"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-action="change_view" title="'+this.escapeExpression(this.lambda(null!=(r=null!=(r=null!=e?e.locale:e)?r.html:r)?r.edit:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.image=Handlebars.template({1:function(){return"modal-sm"},3:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},5:function(){return'      <span class="fa fa-file-image-o"></span>\n'},7:function(){return'      <span class="glyphicon glyphicon-picture"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.smallmodals:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.image:r)?r.insert:r,e))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.image:r)?r.cancel:r,e))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.image:r)?r.insert:r,e))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="insertImage" title="'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.image:r)?r.insert:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.link=Handlebars.template({1:function(){return"modal-sm"},3:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},5:function(){return'      <span class="fa fa-share-square-o"></span>\n'},7:function(){return'      <span class="glyphicon glyphicon-share"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.smallmodals:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+'">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.link:r)?r.insert:r,e))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.link:r)?r.target:r,e))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.link:r)?r.cancel:r,e))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.link:r)?r.insert:r,e))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="createLink" title="'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.link:r)?r.insert:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(5,i,0),inverse:this.program(7,i,0),data:i}))?r:"")+"  </a>\n</li>\n"},useData:!0}),this.wysihtml5.tpl.lists=Handlebars.template({1:function(e){var t;return"btn-"+this.escapeExpression(this.lambda(null!=(t=null!=(t=null!=e?e.options:e)?t.toolbar:t)?t.size:t,e))},3:function(){return'      <span class="fa fa-list-ul"></span>\n'},5:function(){return'      <span class="glyphicon glyphicon-list"></span>\n'},7:function(){return'      <span class="fa fa-list-ol"></span>\n'},9:function(){return'      <span class="glyphicon glyphicon-th-list"></span>\n'},11:function(){return'      <span class="fa fa-outdent"></span>\n'},13:function(){return'      <span class="glyphicon glyphicon-indent-right"></span>\n'},15:function(){return'      <span class="fa fa-indent"></span>\n'},17:function(){return'      <span class="glyphicon glyphicon-indent-left"></span>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,i){var r,o=this.lambda,a=this.escapeExpression;return'<li>\n  <div class="btn-group">\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.lists:r)?r.unordered:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(3,i,0),inverse:this.program(5,i,0),data:i}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="insertOrderedList" title="'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.lists:r)?r.ordered:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(7,i,0),inverse:this.program(9,i,0),data:i}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="Outdent" title="'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.lists:r)?r.outdent:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(11,i,0),inverse:this.program(13,i,0),data:i}))?r:"")+'    </a>\n    <a class="btn '+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.size:r,{name:"if",hash:{},fn:this.program(1,i,0),inverse:this.noop,data:i}))?r:"")+' btn-default" data-wysihtml5-command="Indent" title="'+a(o(null!=(r=null!=(r=null!=e?e.locale:e)?r.lists:r)?r.indent:r,e))+'" tabindex="-1">\n'+(null!=(r=t["if"].call(e,null!=(r=null!=(r=null!=e?e.options:e)?r.toolbar:r)?r.fa:r,{name:"if",hash:{},fn:this.program(15,i,0),inverse:this.program(17,i,0),data:i}))?r:"")+"    </a>\n  </div>\n</li>\n"},useData:!0}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],e):e(jQuery,wysihtml5)}(function(e,t){var n=function(e,t){"use strict";var n=function(e,n,i){return t.tpl[e]?t.tpl[e]({locale:n,options:i}):void 0},i=function(n,i){this.el=n;var r=e.extend(!0,{},o,i);for(var a in r.customTemplates)t.tpl[a]=r.customTemplates[a];this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r)};i.prototype={constructor:i,createEditor:function(n){n=n||{},n=e.extend(!0,{},n),n.toolbar=this.toolbar[0];var i=new t.Editor(this.el[0],n);if(i.composer.editableArea.contentDocument?this.addMoreShortcuts(i,i.composer.editableArea.contentDocument.body||i.composer.editableArea.contentDocument,n.shortcuts):this.addMoreShortcuts(i,i.composer.editableArea,n.shortcuts),n&&n.events)for(var r in n.events)i.on(r,n.events[r]);return i.on("beforeload",this.syncBootstrapDialogEvents),i},syncBootstrapDialogEvents:function(){var t=this;e.map(this.toolbar.commandMapping,function(e){return[e]}).filter(function(e){return e.dialog}).map(function(e){return e.dialog}).forEach(function(n){n.on("show",function(){e(this.container).modal("show")}),n.on("hide",function(){e(this.container).modal("hide"),t.composer.focus()}),e(n.container).on("shown.bs.modal",function(){e(this).find("input, select, textarea").first().focus()})})},createToolbar:function(t,i){var r=this,s=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),l=i.locale||o.locale||"en";a.hasOwnProperty(l)||(console.debug("Locale '"+l+"' not found. Available locales are: "+Object.keys(a)+". Falling back to 'en'."),l="en");var c=e.extend(!0,{},a.en,a[l]);for(var u in i.toolbar)i.toolbar[u]&&(s.append(n(u,c,i)),"html"===u&&this.initHtml(s));return s.find('a[data-wysihtml5-command="formatBlock"]').click(function(t){var n=t.delegateTarget||t.target||t.srcElement,i=e(n),o=i.data("wysihtml5-display-format-name"),a=i.data("wysihtml5-format-name")||i.html();(void 0===o||"true"===o)&&r.toolbar.find(".current-font").text(a)}),s.find('a[data-wysihtml5-command="foreColor"]').click(function(t){var n=t.target||t.srcElement,i=e(n);r.toolbar.find(".current-color").text(i.html())}),this.el.before(s),s},initHtml:function(e){var t='a[data-wysihtml5-action="change_view"]';e.find(t).click(function(){e.find("a.btn").not(t).toggleClass("disabled")})},addMoreShortcuts:function(e,n,i){t.dom.observe(n,"keydown",function(n){var r=n.keyCode,o=i[r];if((n.ctrlKey||n.metaKey||n.altKey)&&o&&t.commands[o]){var a=e.toolbar.commandMapping[o+":null"];a&&a.dialog&&!a.state?a.dialog.show():t.commands[o].exec(e.composer,o),n.preventDefault()}})}};var r={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var n=e(this);n.data("wysihtml5",new i(n,t))})},shallowExtend:function(t){var n=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data()),i=this;return r.bypassDefaults.apply(i,[n])},deepExtend:function(t){var n=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),i=this;return r.bypassDefaults.apply(i,[n])},init:function(e){var t=this;return r.shallowExtend.apply(t,[e])}};e.fn.wysihtml5=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):r.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=i;var o=e.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small"}};"undefined"==typeof e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions));var a=e.fn.wysihtml5.locale={}};n(e,t)}),function(e){e.commands.small={exec:function(t,n){return e.commands.formatInline.exec(t,n,"small")},state:function(t,n){return e.commands.formatInline.state(t,n,"small")}}}(wysihtml5),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.ar-AR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["ar-AR"]={font_styles:{normal:"\u0646\u0635 \u0639\u0627\u062f\u064a",h1:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0626\u064a\u0633\u064a 1",h2:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0626\u064a\u0633\u064a 2",h3:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0626\u064a\u0633\u064a 3",h4:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0626\u064a\u0633\u064a 4",h5:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0626\u064a\u0633\u064a 5",h6:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0626\u064a\u0633\u064a 6"},emphasis:{bold:"\u0639\u0631\u064a\u0636",italic:"\u0645\u0627\u0626\u0644",underline:"\u062a\u062d\u062a\u0647 \u062e\u0637"},lists:{unordered:"\u0642\u0627\u0626\u0645\u0629 \u0645\u0646\u0642\u0637\u0629",ordered:"\u0642\u0627\u0626\u0645\u0629 \u0645\u0631\u0642\u0645\u0629",outdent:"\u0645\u062d\u0627\u0630\u0627\u0647 \u0644\u0644\u062e\u0627\u0631\u062c",indent:"\u0645\u062d\u0627\u0630\u0627\u0647 \u0644\u0644\u062f\u0627\u062e\u0644"},link:{insert:"\u0625\u0636\u0627\u0641\u0629 \u0631\u0627\u0628\u0637",cancel:"\u0625\u0644\u063a\u0627\u0621"},image:{insert:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0648\u0631\u0629",cancel:"\u0625\u0644\u063a\u0627\u0621"},html:{edit:"\u062a\u0639\u062f\u064a\u0644 HTML"},colours:{black:"\u0623\u0633\u0648\u062f",silver:"\u0641\u0636\u064a",gray:"\u0631\u0645\u0627\u062f\u064a",maroon:"\u0628\u0646\u064a",red:"\u0623\u062d\u0645\u0631",purple:"\u0628\u0646\u0641\u0633\u062c\u064a",green:"\u0623\u062e\u0636\u0631",olive:"\u0632\u064a\u062a\u0648\u0646\u064a",navy:"\u0623\u0632\u0631\u0642 \u0642\u0627\u062a\u0645",blue:"\u0623\u0632\u0631\u0642 \u0646\u064a\u0644\u064a",orange:"\u0628\u0631\u062a\u0642\u0627\u0644\u064a"}}
}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.bg-BG",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["bg-BG"]={font_styles:{normal:"\u041d\u043e\u0440\u043c\u0430\u043b\u0435\u043d \u0442\u0435\u043a\u0441\u0442",h1:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 1",h2:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 2",h3:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 3",h4:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 4",h5:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 5",h6:"\u0417\u0430\u0433\u043b\u0430\u0432\u0438\u0435 6"},emphasis:{bold:"\u0423\u0434\u0435\u0431\u0435\u043b\u0435\u043d",italic:"\u041a\u0443\u0440\u0441\u0438\u0432",underline:"\u041f\u043e\u0434\u0447\u0435\u0440\u0442\u0430\u043d"},lists:{unordered:"\u041d\u0435\u043f\u043e\u0434\u0440\u0435\u0434\u0435\u043d \u0441\u043f\u0438\u0441\u044a\u043a",ordered:"\u041f\u043e\u0434\u0440\u0435\u0434\u0435\u043d \u0441\u043f\u0438\u0441\u044a\u043a",outdent:"\u041d\u0430\u043c\u0430\u043b\u0438 \u043e\u0442\u0441\u0442\u043e\u044f\u043d\u0438\u0435",indent:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438 \u043e\u0442\u0441\u0442\u043e\u044f\u043d\u0438\u0435"},link:{insert:"\u0412\u043c\u044a\u043a\u043d\u0438 \u0432\u0440\u044a\u0437\u043a\u0430",cancel:"\u041e\u0442\u043c\u0435\u043d\u0438"},image:{insert:"\u0412\u043c\u044a\u043a\u043d\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",cancel:"\u041e\u0442\u043c\u0435\u043d\u0438"},html:{edit:"\u0420\u0435\u0434\u0430\u043a\u0440\u0442\u0438\u0440\u0430\u0439 HTML"},colours:{black:"\u0427\u0435\u0440\u0435\u043d",silver:"\u0421\u0440\u0435\u0431\u044a\u0440\u0435\u043d",gray:"\u0421\u0438\u0432",maroon:"\u041a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439",red:"\u0427\u0435\u0440\u0432\u0435\u043d",purple:"\u0412\u0438\u043e\u043b\u0435\u0442\u043e\u0432",green:"\u0417\u0435\u043b\u0435\u043d",olive:"\u041c\u0430\u0441\u043b\u0438\u043d\u0435\u043d",navy:"\u041c\u043e\u0440\u0441\u043a\u043e \u0441\u0438\u043d",blue:"\u0421\u0438\u043d",orange:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.ca-CT",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["ca-CT"]={font_styles:{normal:"Text normal",h1:"T\xedtol 1",h2:"T\xedtol 2",h3:"T\xedtol 3",h4:"T\xedtol 4",h5:"T\xedtol 5",h6:"T\xedtol 6"},emphasis:{bold:"Negreta",italic:"Cursiva",underline:"Subratllat"},lists:{unordered:"Llista desordenada",ordered:"Llista ordenada",outdent:"Esborrar tabulaci\xf3",indent:"Afegir tabulaci\xf3"},link:{insert:"Afegir enlla\xe7",cancel:"Cancelar"},image:{insert:"Afegir imatge",cancel:"Cancelar"},html:{edit:"Editar HTML"},colours:{black:"Negre",silver:"Plata",gray:"Gris",maroon:"Marr\xf3",red:"Vermell",purple:"Porpre",green:"Verd",olive:"Oliva",navy:"Blau mar\xed",blue:"Blau",orange:"Taronja"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.cs-CZ",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["cs-CZ"]={font_styles:{normal:"Norm\xe1ln\xed text",h1:"Nadpis \xfarovn\u011b 1",h2:"Nadpis \xfarovn\u011b 2",h3:"Nadpis \xfarovn\u011b 3",h4:"Nadpis \xfarovn\u011b 4",h5:"Nadpis \xfarovn\u011b 5",h6:"Nadpis \xfarovn\u011b 6"},emphasis:{bold:"Tu\u010dn\xe9",italic:"Kurz\xedva",underline:"Podtr\u017een\xed"},lists:{unordered:"Seznam s odr\xe1\u017ekami",ordered:"\u010c\xedslovan\xfd seznam",outdent:"Zv\u011bt\u0161it odsazen\xed",indent:"Zmen\u0161it odsazen\xed"},link:{insert:"Vlo\u017eit odkaz",cancel:"Zru\u0161it"},image:{insert:"Vlo\u017eit obr\xe1zek",cancel:"Zru\u0161it"},html:{edit:"Upravit HTML"},colours:{black:"\u010cern\xe1",silver:"St\u0159\xedbrn\xe1",gray:"\u0160ed\xe1",maroon:"V\xednov\xe1",red:"\u010cerven\xe1",purple:"Fialov\xe1",green:"Zelen\xe1",olive:"Olivov\xe1",navy:"Tmavomodr\xe1",blue:"Modr\xe1",orange:"Oran\u017eov\xe1"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.da-DK",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["da-DK"]={font_styles:{normal:"Normal tekst",h1:"Overskrift 1",h2:"Overskrift 2",h3:"Overskrift 3",h4:"Overskrift 4",h5:"Overskrift 5",h6:"Overskrift 6"},emphasis:{bold:"Fed",italic:"Kursiv",underline:"Understreget"},lists:{unordered:"Uordnet liste",ordered:"Ordnet liste",outdent:"Udryk",indent:"Indryk"},link:{insert:"Inds\xe6t Link",cancel:"Annuler"},image:{insert:"Inds\xe6t billede",cancel:"Annuler"},html:{edit:"Rediger HTML"},colours:{black:"Sort",silver:"S\xf8lv",gray:"Gr\xe5",maroon:"M\xf8rker\xf8d",red:"R\xf8d",purple:"Lilla",green:"Gr\xf8n",olive:"Lysegr\xf8n",navy:"M\xf8rkebl\xe5",blue:"Bl\xe5",orange:"Orange"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.de-DE",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["de-DE"]={font_styles:{normal:"Normaler Text",h1:"\xdcberschrift 1",h2:"\xdcberschrift 2",h3:"\xdcberschrift 3",h4:"\xdcberschrift 4",h5:"\xdcberschrift 5",h6:"\xdcberschrift 6"},emphasis:{bold:"Fett",italic:"Kursiv",underline:"Unterstrichen",small:"Klein"},lists:{unordered:"Ungeordnete Liste",ordered:"Geordnete Liste",outdent:"Einzug verkleinern",indent:"Einzug vergr\xf6\xdfern"},link:{insert:"Link einf\xfcgen",cancel:"Abbrechen",target:"Link in neuen Fenster \xf6ffnen"},image:{insert:"Bild einf\xfcgen",cancel:"Abbrechen"},html:{edit:"HTML bearbeiten"},colours:{black:"Schwarz",silver:"Silber",gray:"Grau",maroon:"Kastanienbraun",red:"Rot",purple:"Violett",green:"Gr\xfcn",olive:"Olivgr\xfcn",navy:"Marineblau",blue:"Blau",orange:"Orange"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.el-GR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["el-GR"]={font_styles:{normal:"\u0391\u03c0\u03bb\u03cc \u03ba\u03b5\u03af\u03bc\u03b5\u03bd\u03bf",h1:"\u039a\u03b5\u03c6\u03b1\u03bb\u03af\u03b4\u03b1 1",h2:"\u039a\u03b5\u03c6\u03b1\u03bb\u03af\u03b4\u03b1 2",h3:"\u039a\u03b5\u03c6\u03b1\u03bb\u03af\u03b4\u03b1 3"},emphasis:{bold:"B",italic:"I",underline:"U"},lists:{unordered:"\u039b\u03af\u03c3\u03c4\u03b1 \u03bc\u03b5 \u03ba\u03bf\u03c5\u03ba\u03ba\u03af\u03b4\u03b5\u03c2",ordered:"\u0391\u03c1\u03b9\u03b8\u03bc\u03b7\u03bc\u03ad\u03bd\u03b7 \u03bb\u03af\u03c3\u03c4\u03b1",outdent:"\u039c\u03b5\u03af\u03c9\u03c3\u03b7 \u03b5\u03c3\u03bf\u03c7\u03ae\u03c2",indent:"\u0391\u03cd\u03be\u03b7\u03c3\u03b7 \u03b5\u03c3\u03bf\u03c7\u03ae\u03c2"},link:{insert:"\u0395\u03b9\u03c3\u03b1\u03b3\u03c9\u03b3\u03ae \u03a3\u03c5\u03bd\u03b4\u03ad\u03c3\u03bc\u03bf\u03c5",cancel:"\u0386\u03ba\u03c5\u03c1\u03bf"},image:{insert:"\u0395\u03b9\u03c3\u03b1\u03b3\u03c9\u03b3\u03ae \u0395\u03b9\u03ba\u03cc\u03bd\u03b1\u03c2",cancel:"\u0386\u03ba\u03c5\u03c1\u03bf"},html:{edit:"\u0395\u03c0\u03b5\u03be\u03b5\u03c1\u03b3\u03b1\u03c3\u03af\u03b1 HTML"},colours:{black:"\u039c\u03b1\u03cd\u03c1\u03bf",silver:"\u0391\u03c3\u03b7\u03bc\u03af",gray:"\u0393\u03ba\u03c1\u03b9",maroon:"\u039a\u03b1\u03c6\u03ad",red:"\u039a\u03cc\u03ba\u03ba\u03b9\u03bd\u03bf",purple:"\u039c\u03c9\u03b2",green:"\u03a0\u03c1\u03ac\u03c3\u03b9\u03bd\u03bf",olive:"\u039b\u03b1\u03b4\u03af",navy:"\u0392\u03b1\u03b8\u03cd \u039c\u03c0\u03bb\u03b5",blue:"\u039c\u03c0\u03bb\u03b5",orange:"\u03a0\u03bf\u03c1\u03c4\u03bf\u03ba\u03b1\u03bb\u03af"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.es-AR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["es-AR"]={font_styles:{normal:"Texto normal",h1:"T\xedtulo 1",h2:"T\xedtulo 2",h3:"T\xedtulo 3",h4:"T\xedtulo 4",h5:"T\xedtulo 5",h6:"T\xedtulo 6"},emphasis:{bold:"Negrita",italic:"It\xe1lica",underline:"Subrayado",small:"Sub\xedndice"},lists:{ordered:"Lista ordenada",unordered:"Lista desordenada",indent:"Agregar sangr\xeda",outdent:"Eliminar sangr\xeda"},link:{insert:"Insertar enlace",cancel:"Cancelar",target:"Abrir enlace en una ventana nueva"},image:{insert:"Insertar imagen",cancel:"Cancelar"},html:{edit:"Editar HTML"},colours:{black:"Negro",silver:"Plata",gray:"Gris",maroon:"Marr\xf3n",red:"Rojo",purple:"P\xfarpura",green:"Verde",olive:"Oliva",navy:"Azul Marino",blue:"Azul",orange:"Naranja"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.es-ES",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["es-ES"]={font_styles:{normal:"Texto normal",h1:"T\xedtulo 1",h2:"T\xedtulo 2",h3:"T\xedtulo 3",h4:"T\xedtulo 4",h5:"T\xedtulo 5",h6:"T\xedtulo 6"},emphasis:{bold:"Negrita",italic:"It\xe1lica",underline:"Subrayado",small:"Sub\xedndice"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada",outdent:"Eliminar sangr\xeda",indent:"Agregar sangr\xeda"},link:{insert:"Insertar enlace",cancel:"Cancelar",target:"Abrir enlace en una ventana nueva"},image:{insert:"Insertar imagen",cancel:"Cancelar"},html:{edit:"Editar HTML"},colours:{black:"Negro",silver:"Plata",gray:"Gris",maroon:"Marr\xf3n",red:"Rojo",purple:"P\xfarpura",green:"Verde",olive:"Oliva",navy:"Azul Marino",blue:"Azul",orange:"Naranja"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.fr-FR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["fr-FR"]={font_styles:{normal:"Texte normal",h1:"Titre 1",h2:"Titre 2",h3:"Titre 3",h4:"Titre 4",h5:"Titre 5",h6:"Titre 6"},emphasis:{bold:"Gras",italic:"Italique",underline:"Soulign\xe9",small:"Petit"},lists:{unordered:"Liste \xe0 puces",ordered:"Liste num\xe9rot\xe9e",outdent:"Diminuer le retrait",indent:"Augmenter le retrait"},link:{target:"Ouvrir le lien dans une nouvelle fen\xeatre",insert:"Ins\xe9rer un lien",cancel:"Annuler"},image:{insert:"Ins\xe9rer une image",cancel:"Annuler"},html:{edit:"Editer en HTML"},colours:{black:"Noir",silver:"Gris clair",gray:"Gris",maroon:"Marron",red:"Rouge",purple:"Pourpre",green:"Vert",olive:"Olive",navy:"Bleu marine",blue:"Bleu",orange:"Orange"}}}),function(e){e.fn.wysihtml5.locale["nl-NL"]={font_styles:{normal:"Normale tekst",h1:"Kop 1",h2:"Kop 2",h3:"Kop 3"},emphasis:{bold:"Vet",italic:"Cursief",underline:"Onderstrepen"},lists:{unordered:"Lijst met opsommingstekens",ordered:"Genummerde lijst",outdent:"Inspringing verkleinen",indent:"Inspringing vergroten"},link:{insert:"Link invoegen",cancel:"Annuleer"},image:{insert:"Afbeelding invoegen",cancel:"Annuleer"},html:{edit:"HTML bewerken"},colours:{black:"Zwart",silver:"Zilver",gray:"Grijs",maroon:"Kastanjebruin",red:"Root",purple:"Paars",green:"Groen",olive:"Olijfgroen",navy:"Donkerblauw",blue:"Blauw",orange:"Oranje"}}}(jQuery),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.hr-HR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["hr-HR"]={font_styles:{normal:"Normalan tekst",h1:"Naslov 1",h2:"Naslov 2",h3:"Naslov 3"},emphasis:{bold:"Podebljano",italic:"Nakrivljeno",underline:"Podcrtano"},lists:{unordered:"Nesortirana lista",ordered:"Sortirana lista",outdent:"Izdubi",indent:"Udubi"},link:{insert:"Umetni poveznicu",cancel:"Otka\u017ei"},image:{insert:"Umetni sliku",cancel:"Otka\u017ei"},html:{edit:"Izmjeni HTML"},colours:{black:"Crna",silver:"Srebrna",gray:"Siva",maroon:"Kestenjasta",red:"Crvena",purple:"Ljubi\u010dasta",green:"Zelena",olive:"Maslinasta",navy:"Mornarska",blue:"Plava",orange:"Narand\u017easta"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.hu-HU",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["hu-HU"]={font_styles:{normal:"Sz\xf6vegt\xf6rzs",h1:"F\u0151c\xedm",h2:"Alc\xedm",h3:"Harmadrang\xfa alc\xedm",h4:"Negyedrang\xfa alc\xedm",h5:"\xd6t\xf6drang\xfa alc\xedm",h6:"Hatodrang\xfa alc\xedm"},emphasis:{bold:"Vastag",italic:"D\xf6lt",underline:"Al\xe1h\xfazott"},lists:{unordered:"Pontozott lista",ordered:"Sz\xe1mozott lista",outdent:"Beh\xfaz\xe1s n\xf6vel\xe9se",indent:"Beh\xfaz\xe1s cs\xf6kkent\xe9se"},link:{insert:"Hivatkoz\xe1s besz\xfar\xe1sa",cancel:"M\xe9gsem",target:"Hivatkoz\xe1s megnyit\xe1sa \xfaj ablakban"},image:{insert:"K\xe9p besz\xfar\xe1sa",cancel:"M\xe9gsem"},html:{edit:"HTML szerkeszt\xe9se"},colours:{black:"Fekete",silver:"Ez\xfcst",gray:"Sz\xfcrke",maroon:"Gesztenyebarna",red:"Piros",purple:"Lila",green:"Z\xf6ld",olive:"Olajz\xf6ld",navy:"Tengerk\xe9k",blue:"K\xe9k",orange:"Narancs"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.il-HE",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["il-HE"]={font_styles:{normal:"\u05e8\u05d2\u05d9\u05dc",h1:"\u05db\u05d5\u05ea\u05e8\u05ea 1",h2:"\u05db\u05d5\u05ea\u05e8\u05ea 2",h3:"\u05db\u05d5\u05ea\u05e8\u05ea 3",h4:"\u05db\u05d5\u05ea\u05e8\u05ea 4",h5:"\u05db\u05d5\u05ea\u05e8\u05ea 5",h6:"\u05db\u05d5\u05ea\u05e8\u05ea 6"},emphasis:{bold:"\u05de\u05d5\u05d3\u05d2\u05e9",italic:"\u05d8\u05e7\u05e1\u05d8 \u05e0\u05d8\u05d5\u05d9",underline:"\u05e7\u05d5 \u05ea\u05d7\u05ea\u05d5\u05df",small:"\u05e7\u05d8\u05df"},lists:{unordered:"\u05e8\u05e9\u05d9\u05de\u05d4 \u05e2\u05dd \u05ea\u05d1\u05dc\u05d9\u05d8\u05d9\u05dd",ordered:"\u05e8\u05e9\u05d9\u05de\u05d4 \u05de\u05de\u05d5\u05e1\u05e4\u05e8\u05ea",outdent:"\u05d4\u05e7\u05d8\u05df \u05db\u05e0\u05d9\u05e1\u05d4",indent:"\u05d4\u05d2\u05d3\u05dc \u05db\u05e0\u05d9\u05e1\u05d4",indered:"\u05d4\u05d2\u05d3\u05dc \u05db\u05e0\u05d9\u05e1\u05d4"},link:{insert:"\u05d4\u05db\u05e0\u05e1 \u05e7\u05d9\u05e9\u05d5\u05e8",cancel:"\u05d1\u05d8\u05dc \u05e7\u05d9\u05e9\u05d5\u05e8"},image:{insert:"\u05d4\u05d5\u05e1\u05e3 \u05ea\u05de\u05d5\u05e0\u05d4",cancel:"\u05d1\u05d8\u05dc"},html:{edit:"\u05e2\u05d5\u05e8\u05da HTML"},colours:{black:"\u05e9\u05d7\u05d5\u05e8",silver:"\u05db\u05e1\u05e3",gray:"\u05d0\u05e4\u05d5\u05e8",maroon:"\u05d7\u05d5\u05dd",red:"\u05d0\u05d3\u05d5\u05dd",purple:"\u05e1\u05d2\u05d5\u05dc",green:"\u05d9\u05e8\u05d5\u05e7",olive:"\u05d9\u05e8\u05d5\u05e7 \u05d6\u05d9\u05ea",navy:"\u05db\u05d7\u05d5\u05dc \u05e6\u05d9",blue:"\u05db\u05d7\u05d5\u05dc",orange:"\u05db\u05ea\u05d5\u05dd"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.it-IT",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["it-IT"]={font_styles:{normal:"Testo normale",h1:"Titolo 1",h2:"Titolo 2"},emphasis:{bold:"Grassetto",italic:"Corsivo",underline:"Sottolineato"},lists:{unordered:"Lista non ordinata",ordered:"Lista ordinata",outdent:"Elimina rientro",indent:"Aggiungi rientro"},link:{insert:"Inserisci link",cancel:"Annulla"},image:{insert:"Inserisci immagine",cancel:"Annulla"},html:{edit:"Modifica HTML"},colours:{black:"Nero",silver:"Argento",gray:"Grigio",maroon:"Marrone",red:"Rosso",purple:"Viola",green:"Verde",olive:"Oliva",navy:"Blu Marino",blue:"Blu",orange:"Arancio"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.ja-JP",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["ja-JP"]={font_styles:{normal:"\u901a\u5e38\u306e\u6587\u5b57",h1:"\u898b\u51fa\u30571",h2:"\u898b\u51fa\u30572",h3:"\u898b\u51fa\u30573"},emphasis:{bold:"\u592a\u5b57",italic:"\u659c\u4f53",underline:"\u4e0b\u7dda"},lists:{unordered:"\u70b9\u5b57\u30ea\u30b9\u30c8",ordered:"\u6570\u5b57\u30ea\u30b9\u30c8",outdent:"\u5de6\u5bc4\u305b",indent:"\u53f3\u5bc4\u305b"},link:{insert:"\u30ea\u30f3\u30af\u306e\u633f\u5165",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb"},image:{insert:"\u753b\u50cf\u306e\u633f\u5165",cancel:"\u30ad\u30e3\u30f3\u30bb\u30eb"},html:{edit:"HTML\u3092\u7de8\u96c6"},colours:{black:"\u9ed2\u8272",silver:"\u30b7\u30eb\u30d0\u30fc",gray:"\u30b0\u30ec\u30fc",maroon:"\u6817\u8272",red:"\u8d64\u8272",purple:"\u7d2b\u8272",green:"\u7dd1\u8272",olive:"\u30aa\u30ea\u30fc\u30d6",navy:"\u30cd\u30a4\u30d3\u30fc",blue:"\u9752\u8272",orange:"\u30aa\u30ec\u30f3\u30b8"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.ko-KR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["ko-KR"]={font_styles:{normal:"\uc77c\ubc18",h1:"\ud5e4\ub4dc\ub77c\uc778 1",h2:"\ud5e4\ub4dc\ub77c\uc778 2",h3:"\ud5e4\ub4dc\ub77c\uc778 3"},emphasis:{bold:"\uad75\uac8c",italic:"\uae30\uc6b8\uac8c",underline:"\ubc11\uc904"},lists:{unordered:"\uae30\ud638\ubaa9\ub85d",ordered:"\uc22b\uc790\ubaa9\ub85d",outdent:"\ub0b4\uc5b4\uc4f0\uae30",indent:"\ub4e4\uc5ec\uc4f0\uae30"},link:{insert:"\ub9c1\ud06c \uc0bd\uc785",cancel:"\ucde8\uc18c"},image:{insert:"\uc774\ubbf8\uc9c0 \uc0bd\uc785",cancel:"\ucde8\uc18c"},html:{edit:"HTML \ud3b8\uc9d1"},colours:{black:"\uac80\uc740\uc0c9",silver:"\uc740\uc0c9",gray:"\ud68c\uc0c9",maroon:"\uace0\ub3d9\uc0c9",red:"\ube68\uac04\uc0c9",purple:"\ubcf4\ub77c\uc0c9",green:"\ucd08\ub85d\uc0c9",olive:"\uc62c\ub9ac\ube0c",navy:"\ub124\uc774\ube44",blue:"\ud30c\ub780\uc0c9",orange:"\uc8fc\ud669\uc0c9"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.lt-LT",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["lt-LT"]={font_styles:{normal:"Normalus",h1:"Antra\u0161t\u0117 1",h2:"Antra\u0161t\u0117 2",h3:"Antra\u0161t\u0117 3"},emphasis:{bold:"Pastorintas",italic:"Kursyvas",underline:"Pabrauktas"},lists:{unordered:"Su\u017eenklintas s\u0105ra\u0161as",ordered:"Numeruotas s\u0105ra\u0161as",outdent:"Padidinti \u012ftrauk\u0105",indent:"Suma\u017einti \u012ftrauk\u0105"},link:{insert:"\u012eterpti nuorod\u0105",cancel:"At\u0161aukti"},image:{insert:"\u012eterpti atvaizd\u0105",cancel:"At\u0161aukti"},html:{edit:"Redaguoti HTML"},colours:{black:"Juoda",silver:"Sidabrin\u0117",gray:"Pilka",maroon:"Ka\u0161tonin\u0117",red:"Raudona",purple:"Violetin\u0117",green:"\u017dalia",olive:"Gelsvai \u017ealia",navy:"Tamsiai m\u0117lyna",blue:"M\u0117lyna",orange:"Oran\u017ein\u0117"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.mo-MD",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["mo-MD"]={font_styles:{normal:"Normal",h1:"Titlu 1",h2:"Titlu 2"},emphasis:{bold:"Bold",italic:"Cursiv",underline:"Accentuat"},lists:{unordered:"Neordonata",ordered:"Ordonata",outdent:"Margine",indent:"zim\u021buire"},link:{insert:"Indroduce link-ul",cancel:"Anula"},image:{insert:"Insera imagina",cancel:"Anula"},html:{edit:"Editare HTML"},colours:{black:"Negru",silver:"Argint",gray:"Gri",maroon:"Castaniu",red:"Ro\u0219u",purple:"Violet",green:"Verde",olive:"Oliv",navy:"Marin",blue:"Albastru",orange:"Portocaliu"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.nb-NB",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["nb-NB"]={font_styles:{normal:"Normal tekst",h1:"Tittel 1",h2:"Tittel 2",h3:"Tittel 3"},emphasis:{bold:"Fet",italic:"Kursiv",underline:"Understrekning"},lists:{unordered:"Usortert",ordered:"Sortert",outdent:"Detabuler",indent:"Tabuler",indered:"Tabuler"},link:{insert:"Sett inn lenke",cancel:"Avbryt"},image:{insert:"Sett inn bilde",cancel:"Avbryt"},html:{edit:"Rediger HTML"},colours:{black:"Svart",silver:"S\xf8lv",gray:"Gr\xe5",maroon:"Brun",red:"R\xf8d",purple:"Lilla",green:"Gr\xf8nn",olive:"Oliven",navy:"Marinebl\xe5",blue:"Bl\xe5",orange:"Oransj"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.nl-NL",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["nl-NL"]={font_styles:{normal:"Normale Tekst",h1:"Kop 1",h2:"Kop 2",h3:"Kop 3"},emphasis:{bold:"Vet",italic:"Cursief",underline:"Onderstrepen"},lists:{unordered:"Ongeordende lijst",ordered:"Geordende lijst",outdent:"Inspringen verkleinen",indent:"Inspringen vergroten"},link:{insert:"Link invoegen",cancel:"Annuleren"},image:{insert:"Afbeelding invoegen",cancel:"Annuleren"},html:{edit:"HTML bewerken"},colours:{black:"Zwart",silver:"Zilver",gray:"Grijs",maroon:"Kastanjebruin",red:"Rood",purple:"Paars",green:"Groen",olive:"Olijfgroen",navy:"Donkerblauw",blue:"Blauw",orange:"Oranje"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.pl-PL",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["pl-PL"]={font_styles:{normal:"Tekst podstawowy",h1:"Nag\u0142\xf3wek 1",h2:"Nag\u0142\xf3wek 2",h3:"Nag\u0142\xf3wek 3",h4:"Nag\u0142\xf3wek 4",h5:"Nag\u0142\xf3wek 5",h6:"Nag\u0142\xf3wek 6"},emphasis:{bold:"Pogrubienie",italic:"Kursywa",underline:"Podkre\u015blenie"},lists:{unordered:"Lista wypunktowana",ordered:"Lista numerowana",outdent:"Zmniejsz wci\u0119cie",indent:"Zwi\u0119ksz wci\u0119cie"},link:{insert:"Wstaw odno\u015bnik",cancel:"Anuluj",target:"Otw\xf3rz odno\u015bnik w nowym oknie"},image:{insert:"Wstaw obrazek",cancel:"Anuluj"},html:{edit:"Edycja HTML"},colours:{black:"Czarny",silver:"Srebrny",gray:"Szary",maroon:"Kasztanowy",red:"Czerwony",purple:"Fioletowy",green:"Zielony",olive:"Oliwkowy",navy:"Granatowy",blue:"Niebieski",orange:"Pomara\u0144czowy"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.pt-BR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["pt-BR"]={font_styles:{normal:"Texto normal",h1:"T\xedtulo 1",h2:"T\xedtulo 2",h3:"T\xedtulo 3",h4:"T\xedtulo 4",h5:"T\xedtulo 5",h6:"T\xedtulo 6"},emphasis:{bold:"Negrito",italic:"It\xe1lico",underline:"Sublinhado",small:"Pequeno"},lists:{unordered:"Lista",ordered:"Lista numerada",outdent:"Remover indenta\xe7\xe3o",indent:"Indentar"},link:{insert:"Inserir link",cancel:"Cancelar",target:"Abrir link em um nova janela"},image:{insert:"Inserir imagem",cancel:"Cancelar"},html:{edit:"Editar HTML"},colours:{black:"Preto",silver:"Prata",gray:"Cinza",maroon:"Marrom",red:"Vermelho",purple:"Roxo",green:"Verde",olive:"Oliva",navy:"Marinho",blue:"Azul",orange:"Laranja"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.ru-RU",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["ru-RU"]={font_styles:{normal:"\u041e\u0431\u044b\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442",h1:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1",h2:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2",h3:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3"},emphasis:{bold:"\u041f\u043e\u043b\u0443\u0436\u0438\u0440\u043d\u044b\u0439",italic:"\u041a\u0443\u0440\u0441\u0438\u0432",underline:"\u041f\u043e\u0434\u0447\u0451\u0440\u043a\u043d\u0443\u0442\u044b\u0439"},lists:{unordered:"\u041c\u0430\u0440\u043a\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",ordered:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",outdent:"\u0423\u043c\u0435\u043d\u044c\u0448\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f",indent:"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0442\u044c \u043e\u0442\u0441\u0442\u0443\u043f"},link:{insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430"},image:{insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430"},html:{edit:"HTML \u043a\u043e\u0434"},colours:{black:"\u0427\u0451\u0440\u043d\u044b\u0439",silver:"\u0421\u0435\u0440\u0435\u0431\u0440\u044f\u043d\u044b\u0439",gray:"\u0421\u0435\u0440\u044b\u0439",maroon:"\u041a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u044b\u0439",red:"\u041a\u0440\u0430\u0441\u043d\u044b\u0439",purple:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",green:"\u0417\u0435\u043b\u0451\u043d\u044b\u0439",olive:"\u041e\u043b\u0438\u0432\u043a\u043e\u0432\u044b\u0439",navy:"\u0422\u0451\u043c\u043d\u043e-\u0441\u0438\u043d\u0438\u0439",blue:"\u0421\u0438\u043d\u0438\u0439",orange:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.sk-SK",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["sk-SK"]={font_styles:{normal:"Norm\xe1lny text",h1:"Nadpis \xfarovne 1",h2:"Nadpis \xfarovne 2",h3:"Nadpis \xfarovne 3"},emphasis:{bold:"Tu\u010dn\xe9",italic:"Kurz\xedva",underline:"Pod\u010diarknut\xe9"},lists:{unordered:"Neusporiadan\xfd zoznam",ordered:"\u010c\xedslovan\xfd zoznam",outdent:"Zv\xe4\u010d\u0161i\u0165 odsadenie",indent:"Zmen\u0161i\u0165 odsadenie"},link:{insert:"Vlo\u017ei\u0165 odkaz",cancel:"Zru\u0161i\u0165"},image:{insert:"Vlo\u017ei\u0165 obr\xe1zok",cancel:"Zru\u0161i\u0165"},html:{edit:"Editova\u0165 HTML"},colours:{black:"\u010cierna",silver:"Strieborn\xe1",gray:"\u0160ed\xe1",maroon:"Bordov\xe1",red:"\u010cerven\xe1",purple:"Fialov\xe1",green:"Zelen\xe1",olive:"Olivov\xe1",navy:"Tmavomodr\xe1",blue:"Modr\xe1",orange:"Oran\u017eov\xe1"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.sv-SE",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["sv-SE"]={font_styles:{normal:"Normal Text",h1:"Rubrik 1",h2:"Rubrik 2",h3:"Rubrik 3"},emphasis:{bold:"Fet",italic:"Kursiv",underline:"Understruken"},lists:{unordered:"Osorterad lista",ordered:"Sorterad lista",outdent:"Minska indrag",indent:"\xd6ka indrag"},link:{insert:"L\xe4gg till l\xe4nk",cancel:"Avbryt"},image:{insert:"L\xe4gg till Bild",cancel:"Avbryt"},html:{edit:"Redigera HTML"},colours:{black:"Svart",silver:"Silver",gray:"Gr\xe5",maroon:"Kastaniebrun",red:"R\xf6d",purple:"Lila",green:"Gr\xf6n",olive:"Olivgr\xf6n",navy:"Marinbl\xe5",blue:"Bl\xe5",orange:"Orange"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.tr-TR",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["tr-TR"]={font_styles:{normal:"Normal",h1:"Ba\u015fl\u0131k 1",h2:"Ba\u015fl\u0131k 2",h3:"Ba\u015fl\u0131k 3"},emphasis:{bold:"Kal\u0131n",italic:"\u0130talik",underline:"Alt\u0131 \xc7izili"},lists:{unordered:"S\u0131ras\u0131z Liste",ordered:"S\u0131ral\u0131 Liste",outdent:"Girintiyi Azalt",indent:"Girintiyi Artt\u0131r"},link:{insert:"Ekle",cancel:"Vazge\xe7"},image:{insert:"Ekle",cancel:"Vazge\xe7"},html:{edit:"HTML G\xf6ster"},colours:{black:"Siyah",silver:"G\xfcm\xfc\u015f",gray:"Gri",maroon:"Vi\u015fne \xc7\xfcr\xfc\u011f\xfc",red:"K\u0131rm\u0131z\u0131",purple:"Pembe",green:"Ye\u015fil",olive:"Zeytin Ye\u015fili",navy:"Lacivert",blue:"Mavi",orange:"Turuncu"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.ua-UA",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["ua-UA"]={font_styles:{normal:"\u0417\u0432\u0438\u0447\u0430\u0439\u043d\u0438\u0439 \u0442\u0435\u043a\u0441\u0442",h1:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1",h2:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2",h3:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3"},emphasis:{bold:"\u041d\u0430\u043f\u0456\u0432\u0436\u0438\u0440\u043d\u0438\u0439",italic:"\u041a\u0443\u0440\u0441\u0438\u0432",underline:"\u041f\u0456\u0434\u043a\u0440\u0435\u0441\u043b\u0435\u043d\u0438\u0439"},lists:{unordered:"\u041c\u0430\u0440\u043a\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",ordered:"\u041d\u0443\u043c\u0435\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",outdent:"\u0417\u043c\u0435\u043d\u0448\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0443\u043f",indent:"\u0417\u0431\u0456\u043b\u044c\u0448\u0438\u0442\u0438 \u0432\u0456\u0434\u0441\u0442\u0443\u043f"},link:{insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u043f\u043e\u0441\u0438\u043b\u0430\u043d\u043d\u044f",cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"},image:{insert:"\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u0438 \u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",cancel:"\u0412\u0456\u0434\u043c\u0456\u043d\u0430"},html:{edit:"HTML \u043a\u043e\u0434"},colours:{black:"\u0427\u043e\u0440\u043d\u0438\u0439",silver:"\u0421\u0440\u0456\u0431\u043d\u0438\u0439",gray:"\u0421\u0456\u0440\u0438\u0439",maroon:"\u041a\u043e\u0440\u0438\u0447\u043d\u0435\u0432\u0438\u0439",red:"\u0427\u0435\u0440\u0432\u043e\u043d\u0438\u0439",purple:"\u0424\u0456\u043e\u043b\u0435\u0442\u043e\u0432\u0438\u0439",green:"\u0417\u0435\u043b\u0435\u043d\u0438\u0439",olive:"\u041e\u043b\u0438\u0432\u043a\u043e\u0432\u0438\u0439",navy:"\u0422\u0435\u043c\u043d\u043e-\u0441\u0438\u043d\u0456\u0439",blue:"\u0421\u0438\u043d\u0456\u0439",orange:"\u041f\u043e\u043c\u0430\u0440\u0430\u043d\u0447\u0435\u0432\u0438\u0439"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.zh-CN",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["zh-CN"]={font_styles:{normal:"\u6b63\u6587",h1:"\u6807\u9898 1",h2:"\u6807\u9898 2",h3:"\u6807\u9898 3",h4:"\u6807\u9898 4",h5:"\u6807\u9898 5",h6:"\u6807\u9898 6"},emphasis:{bold:"\u7c97\u4f53",italic:"\u659c\u4f53",underline:"\u4e0b\u5212\u7ebf"},lists:{unordered:"\u9879\u76ee\u7b26\u53f7",ordered:"\u7f16\u53f7",outdent:"\u51cf\u5c11\u7f29\u8fdb",indent:"\u589e\u52a0\u7f29\u8fdb"},link:{insert:"\u63d2\u5165\u94fe\u63a5",cancel:"\u53d6\u6d88",target:"\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5"},image:{insert:"\u63d2\u5165\u56fe\u7247",cancel:"\u53d6\u6d88"},html:{edit:"HTML\u4ee3\u7801"},colours:{black:"\u9ed1\u8272",silver:"\u94f6\u8272",gray:"\u7070\u8272",maroon:"\u8d64\u7ea2\u8272",red:"\u7ea2\u8272",purple:"\u7d2b\u8272",green:"\u7eff\u8272",olive:"\u6a44\u6984\u8272",navy:"\u6df1\u84dd\u8272",blue:"\u84dd\u8272",orange:"\u6a59\u8272"}}}),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.zh-TW",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale["zh-TW"]={font_styles:{normal:"\u5167\u6587",h1:"\u6a19\u984c 1",h2:"\u6a19\u984c 2",h3:"\u6a19\u984c 3",h3:"\u6a19\u984c 4",h3:"\u6a19\u984c 5",h3:"\u6a19\u984c 6"},emphasis:{bold:"\u7c97\u9ad4",italic:"\u659c\u9ad4",underline:"\u5e95\u7dda"},lists:{unordered:"\u9805\u76ee\u7b26\u865f",ordered:"\u7de8\u865f\u5217\u8868",outdent:"\u6e1b\u5c11\u7e2e\u6392",indent:"\u589e\u52a0\u7e2e\u6392"},link:{insert:"\u63d2\u5165\u8d85\u9023\u7d50",cancel:"\u53d6\u6d88",target:"\u65b0\u7a97\u53e3\u6253\u958b\u93c8\u63a5"},image:{insert:"\u63d2\u5165\u5716\u7247\u9023\u7d50",cancel:"\u53d6\u6d88"},html:{edit:"HTML\u539f\u59cb\u78bc"},colours:{black:"\u9ed1\u8272",silver:"\u9280\u8272",gray:"\u7070\u8272",maroon:"\u6817\u8272",red:"\u7ea2\u8272",purple:"\u7d2b\u8272",green:"\u7da0\u8272",olive:"\u6a44\u6b16\u8272",navy:"\u6df1\u85cd\u8272",blue:"\u85cd\u8272",orange:"\u6a59\u8272"}}}),/*!
 * jQuery Validation Plugin v1.13.1
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2014 Jörn Zaefferer
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i,r;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),r=n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),void 0!==r?r:!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){var t,n;return e(this[0]).is("form")?t=this.validate().form():(t=!0,n=e(this[0].form).validate(),this.each(function(){t=n.element(this)&&t})),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i,r,o,a,s,l,c=this[0];if(t)switch(i=e.data(c.form,"validator").settings,r=i.rules,o=e.validator.staticRules(c),t){case"add":e.extend(o,e.validator.normalizeRule(n)),delete o.messages,r[c.name]=o,n.messages&&(i.messages[c.name]=e.extend(i.messages[c.name],n.messages));break;case"remove":return n?(l={},e.each(n.split(/\s/),function(t,n){l[n]=o[n],delete o[n],"required"===n&&e(c).removeAttr("aria-required")}),l):(delete r[c.name],o)}return a=e.validator.normalizeRules(e.extend({},e.validator.classRules(c),e.validator.attributeRules(c),e.validator.dataRules(c),e.validator.staticRules(c)),c),a.required&&(s=a.required,delete a.required,a=e.extend({required:s},a),e(c).attr("aria-required","true")),a.remote&&(s=a.remote,delete a.remote,a=e.extend(a,{remote:s})),a}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(e)))},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date ( ISO ).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,""),r=n.settings;r[i]&&!this.is(r.ignore)&&r[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n,i=this.groups={};e.each(this.settings.groups,function(t,n){"string"==typeof n&&(n=n.split(/\s/)),e.each(n,function(e,n){i[n]=t})}),n=this.settings.rules,e.each(n,function(t,i){n[t]=e.validator.normalizeRule(i)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']","focusin focusout keyup",t).validateDelegate("select, option, [type='radio'], [type='checkbox']","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler),e(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required","true")},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){var n=this.clean(t),i=this.validationTargetFor(n),r=!0;return this.lastElement=i,void 0===i?delete this.invalid[n.name]:(this.prepareElement(i),this.currentElements=e(i),r=this.check(i)!==!1,r?delete this.invalid[i.name]:this.invalid[i.name]=!0),e(t).attr("aria-invalid",!r),this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),r},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t,n=0;for(t in e)n++;return n},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(e){e.not(this.containers).text(""),this.addWrapper(e).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n,i=e(t),r=t.type;return"radio"===r||"checkbox"===r?e("input[name='"+t.name+"']:checked").val():"number"===r&&"undefined"!=typeof t.validity?t.validity.badInput?!1:i.val():(n=i.val(),"string"==typeof n?n.replace(/\r/g,""):n)},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i,r,o=e(t).rules(),a=e.map(o,function(e,t){return t}).length,s=!1,l=this.elementValue(t);for(i in o){r={method:i,parameters:o[i]};try{if(n=e.validator.methods[i].call(this,l,t,r.parameters),"dependency-mismatch"===n&&1===a){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,r),!1}catch(c){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+t.id+", check the '"+r.method+"' method.",c),c}}if(!s)return this.objectLength(o)&&this.successList.push(t),!0},customDataMessage:function(t,n){return e(t).data("msg"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase())||e(t).data("msg")},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),r=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):r.test(i)&&(i=e.validator.format(i.replace(r,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t,method:n.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t,n;for(e=0;this.errorList[e];e++)n=this.errorList[e],this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i,r,o,a=this.errorsFor(t),s=this.idOrName(t),l=e(t).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(n)):(a=e("<"+this.settings.errorElement+">").attr("id",s+"-error").addClass(this.settings.errorClass).html(n||""),i=a,this.settings.wrapper&&(i=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t),a.is("label")?a.attr("for",s):0===a.parents("label[for='"+s+"']").length&&(o=a.attr("id").replace(/(:|\.|\[|\])/g,"\\$1"),l?l.match(new RegExp("\\b"+o+"\\b"))||(l+=" "+o):l=o,e(t).attr("aria-describedby",l),r=this.groups[t.name],r&&e.each(this.groups,function(t,n){n===r&&e("[name='"+t+"']",this.currentForm).attr("aria-describedby",a.attr("id"))}))),!n&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,t)),this.toShow=this.toShow.add(a)},errorsFor:function(t){var n=this.idOrName(t),i=e(t).attr("aria-describedby"),r="label[for='"+n+"'], label[for='"+n+"'] *";return i&&(r=r+", #"+i.replace(/\s+/g,", #")),this.errors().filter(r)},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),e(t).not(this.settings.ignore)[0]},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n,i,r={},o=e(t),a=t.getAttribute("type");for(n in e.validator.methods)"required"===n?(i=t.getAttribute(n),""===i&&(i=!0),i=!!i):i=o.attr(n),/min|max/.test(n)&&(null===a||/number|range|text/.test(a))&&(i=Number(i)),i||0===i?r[n]=i:a===n&&"range"!==a&&(r[n]=!0);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var n,i,r={},o=e(t);for(n in e.validator.methods)i=o.data("rule"+n.charAt(0).toUpperCase()+n.substring(1).toLowerCase()),void 0!==i&&(r[n]=i);return r},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,r){if(r===!1)return void delete t[i];if(r.param||r.depends){var o=!0;switch(typeof r.depends){case"string":o=!!e(r.depends,n.form).length;break;case"function":o=r.depends.call(n,n)}o?t[i]=void 0!==r.param?r.param:!0:delete t[i]}}),e.each(t,function(i,r){t[i]=e.isFunction(r)?r(n):r}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].replace(/[\[\]]/g,"").split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(null!=t.min&&null!=t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),null!=t.minlength&&null!=t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var r=e(n).val();return r&&r.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n,i,r=0,o=0,a=!1;if(e=e.replace(/\D/g,""),e.length<13||e.length>19)return!1;for(n=e.length-1;n>=0;n--)i=e.charAt(n),o=parseInt(i,10),a&&(o*=2)>9&&(o-=9),r+=o,a=!a;return r%10===0},minlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||r>=i},maxlength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||i>=r},rangelength:function(t,n,i){var r=e.isArray(t)?t.length:this.getLength(t,n);return this.optional(n)||r>=i[0]&&r<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var r=e(i);return this.settings.onfocusout&&r.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===r.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var r,o,a=this.previousValue(n);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),a.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=a.message,i="string"==typeof i&&{url:i}||i,a.old===t?a.valid:(a.old=t,r=this,this.startRequest(n),o={},o[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:o,context:r.currentForm,success:function(i){var o,s,l,c=i===!0||"true"===i;r.settings.messages[n.name].remote=a.originalMessage,c?(l=r.formSubmitted,r.prepareElement(n),r.formSubmitted=l,r.successList.push(n),delete r.invalid[n.name],r.showErrors()):(o={},s=i||r.defaultMessage(n,"remote"),o[n.name]=a.message=e.isFunction(s)?s(t):s,r.invalid[n.name]=!0,r.showErrors(o)),a.valid=c,r.stopRequest(n,c)}},i)),"pending")}}}),e.format=function(){throw"$.format has been deprecated. Please use $.validator.format instead."};var t,n={};e.ajaxPrefilter?e.ajaxPrefilter(function(e,t,i){var r=e.port;"abort"===e.mode&&(n[r]&&n[r].abort(),n[r]=i)}):(t=e.ajax,e.ajax=function(i){var r=("mode"in i?i:e.ajaxSettings).mode,o=("port"in i?i:e.ajaxSettings).port;return"abort"===r?(n[o]&&n[o].abort(),n[o]=t.apply(this,arguments),n[o]):t.apply(this,arguments)}),e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var r=e(n.target);return r.is(t)?i.apply(r,arguments):void 0})}})}),/*!
 * jQuery Validation Plugin v1.13.1
 *
 * http://jqueryvalidation.org/
 *
 * Copyright (c) 2014 Jörn Zaefferer
 * Released under the MIT license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],e):e(jQuery)}(function(e){!function(){function t(e){return e.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-\u201c\u201d\u2019]*/g,"")}e.validator.addMethod("maxWords",function(e,n,i){return this.optional(n)||t(e).match(/\b\w+\b/g).length<=i},e.validator.format("Please enter {0} words or less.")),e.validator.addMethod("minWords",function(e,n,i){return this.optional(n)||t(e).match(/\b\w+\b/g).length>=i},e.validator.format("Please enter at least {0} words.")),e.validator.addMethod("rangeWords",function(e,n,i){var r=t(e),o=/\b\w+\b/g;return this.optional(n)||r.match(o).length>=i[0]&&r.match(o).length<=i[1]},e.validator.format("Please enter between {0} and {1} words."))}(),e.validator.addMethod("accept",function(t,n,i){var r,o,a="string"==typeof i?i.replace(/\s/g,"").replace(/,/g,"|"):"image/*",s=this.optional(n);if(s)return s;if("file"===e(n).attr("type")&&(a=a.replace(/\*/g,".*"),n.files&&n.files.length))for(r=0;r<n.files.length;r++)if(o=n.files[r],!o.type.match(new RegExp(".?("+a+")$","i")))return!1;return!0},e.validator.format("Please enter a value with a valid mimetype.")),e.validator.addMethod("alphanumeric",function(e,t){return this.optional(t)||/^\w+$/i.test(e)},"Letters, numbers, and underscores only please"),e.validator.addMethod("bankaccountNL",function(e,t){if(this.optional(t))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(e))return!1;var n,i,r,o=e.replace(/ /g,""),a=0,s=o.length;for(n=0;s>n;n++)i=s-n,r=o.substring(n,n+1),a+=i*r;return a%11===0},"Please specify a valid bank account number"),e.validator.addMethod("bankorgiroaccountNL",function(t,n){return this.optional(n)||e.validator.methods.bankaccountNL.call(this,t,n)||e.validator.methods.giroaccountNL.call(this,t,n)},"Please specify a valid bank or giro account number"),e.validator.addMethod("bic",function(e,t){return this.optional(t)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-2])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(e)},"Please specify a valid BIC code"),e.validator.addMethod("cifES",function(e){"use strict";var t,n,i,r,o,a,s=[];if(e=e.toUpperCase(),!e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(i=0;9>i;i++)s[i]=parseInt(e.charAt(i),10);for(n=s[2]+s[4]+s[6],r=1;8>r;r+=2)o=(2*s[r]).toString(),a=o.charAt(1),n+=parseInt(o.charAt(0),10)+(""===a?0:parseInt(a,10));return/^[ABCDEFGHJNPQRSUVW]{1}/.test(e)?(n+="",t=10-parseInt(n.charAt(n.length-1),10),e+=t,s[8].toString()===String.fromCharCode(64+t)||s[8].toString()===e.charAt(e.length-1)):!1},"Please specify a valid CIF number."),e.validator.addMethod("creditcardtypes",function(e,t,n){if(/[^0-9\-]+/.test(e))return!1;e=e.replace(/\D/g,"");var i=0;return n.mastercard&&(i|=1),n.visa&&(i|=2),n.amex&&(i|=4),n.dinersclub&&(i|=8),n.enroute&&(i|=16),n.discover&&(i|=32),n.jcb&&(i|=64),n.unknown&&(i|=128),n.all&&(i=255),1&i&&/^(5[12345])/.test(e)?16===e.length:2&i&&/^(4)/.test(e)?16===e.length:4&i&&/^(3[47])/.test(e)?15===e.length:8&i&&/^(3(0[012345]|[68]))/.test(e)?14===e.length:16&i&&/^(2(014|149))/.test(e)?15===e.length:32&i&&/^(6011)/.test(e)?16===e.length:64&i&&/^(3)/.test(e)?16===e.length:64&i&&/^(2131|1800)/.test(e)?15===e.length:128&i?!0:!1},"Please enter a valid credit card number."),e.validator.addMethod("currency",function(e,t,n){var i,r="string"==typeof n,o=r?n:n[0],a=r?!0:n[1];return o=o.replace(/,/g,""),o=a?o+"]":o+"]?",i="^["+o+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",i=new RegExp(i),this.optional(t)||i.test(e)},"Please specify a valid currency"),e.validator.addMethod("dateFA",function(e,t){return this.optional(t)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(e)},"Please enter a correct date"),e.validator.addMethod("dateITA",function(e,t){var n,i,r,o,a,s=!1,l=/^\d{1,2}\/\d{1,2}\/\d{4}$/;return l.test(e)?(n=e.split("/"),i=parseInt(n[0],10),r=parseInt(n[1],10),o=parseInt(n[2],10),a=new Date(o,r-1,i,12,0,0,0),s=a.getUTCFullYear()===o&&a.getUTCMonth()===r-1&&a.getUTCDate()===i?!0:!1):s=!1,this.optional(t)||s},"Please enter a correct date"),e.validator.addMethod("dateNL",function(e,t){return this.optional(t)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(e)},"Please enter a correct date"),e.validator.addMethod("extension",function(e,t,n){return n="string"==typeof n?n.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp(".("+n+")$","i"))},e.validator.format("Please enter a value with a valid extension.")),e.validator.addMethod("giroaccountNL",function(e,t){return this.optional(t)||/^[0-9]{1,7}$/.test(e)},"Please specify a valid giro account number"),e.validator.addMethod("iban",function(e,t){if(this.optional(t))return!0;var n,i,r,o,a,s,l,c,u,d=e.replace(/ /g,"").toUpperCase(),h="",f=!0,p="",m="";if(!/^([a-zA-Z0-9]{4} ){2,8}[a-zA-Z0-9]{1,4}|[a-zA-Z0-9]{12,34}$/.test(d))return!1;if(n=d.substring(0,2),s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"},a=s[n],"undefined"!=typeof a&&(l=new RegExp("^[A-Z]{2}\\d{2}"+a+"$",""),!l.test(d)))return!1;for(i=d.substring(4,d.length)+d.substring(0,4),c=0;c<i.length;c++)r=i.charAt(c),"0"!==r&&(f=!1),f||(h+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(r));for(u=0;u<h.length;u++)o=h.charAt(u),m=""+p+o,p=m%97;return 1===p},"Please specify a valid IBAN"),e.validator.addMethod("integer",function(e,t){return this.optional(t)||/^-?\d+$/.test(e)},"A positive or negative non-decimal number please"),e.validator.addMethod("ipv4",function(e,t){return this.optional(t)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(e)},"Please enter a valid IP v4 address."),e.validator.addMethod("ipv6",function(e,t){return this.optional(t)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(e)},"Please enter a valid IP v6 address."),e.validator.addMethod("lettersonly",function(e,t){return this.optional(t)||/^[a-z]+$/i.test(e)},"Letters only please"),e.validator.addMethod("letterswithbasicpunc",function(e,t){return this.optional(t)||/^[a-z\-.,()'"\s]+$/i.test(e)},"Letters or punctuation only please"),e.validator.addMethod("mobileNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid mobile number"),e.validator.addMethod("mobileUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),e.validator.addMethod("nieES",function(e){"use strict";return e=e.toUpperCase(),e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[T]{1}/.test(e)?e[8]===/^[T]{1}[A-Z0-9]{8}$/.test(e):/^[XYZ]{1}/.test(e)?e[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23):!1:!1},"Please specify a valid NIE number."),e.validator.addMethod("nifES",function(e){"use strict";return e=e.toUpperCase(),e.match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")?/^[0-9]{8}[A-Z]{1}$/.test(e)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(e.substring(8,0)%23)===e.charAt(8):/^[KLM]{1}/.test(e)?e[8]===String.fromCharCode(64):!1:!1},"Please specify a valid NIF number."),e.validator.addMethod("nowhitespace",function(e,t){return this.optional(t)||/^\S+$/i.test(e)},"No white space please"),e.validator.addMethod("pattern",function(e,t,n){return this.optional(t)?!0:("string"==typeof n&&(n=new RegExp("^(?:"+n+")$")),n.test(e))},"Invalid format."),e.validator.addMethod("phoneNL",function(e,t){return this.optional(t)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(e)},"Please specify a valid phone number."),e.validator.addMethod("phoneUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),e.validator.addMethod("phoneUS",function(e,t){return e=e.replace(/\s+/g,""),this.optional(t)||e.length>9&&e.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),e.validator.addMethod("phonesUK",function(e,t){return e=e.replace(/\(|\)|\s+|-/g,""),this.optional(t)||e.length>9&&e.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),e.validator.addMethod("postalCodeCA",function(e,t){return this.optional(t)||/^[ABCEGHJKLMNPRSTVXY]\d[A-Z] \d[A-Z]\d$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeBR",function(e,t){return this.optional(t)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(e)},"Informe um CEP v\xe1lido."),e.validator.addMethod("postalcodeIT",function(e,t){return this.optional(t)||/^\d{5}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postalcodeNL",function(e,t){return this.optional(t)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(e)},"Please specify a valid postal code"),e.validator.addMethod("postcodeUK",function(e,t){return this.optional(t)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(e)},"Please specify a valid UK postcode"),e.validator.addMethod("require_from_group",function(t,n,i){var r=e(i[1],n.form),o=r.eq(0),a=o.data("valid_req_grp")?o.data("valid_req_grp"):e.extend({},this),s=r.filter(function(){return a.elementValue(this)}).length>=i[0];return o.data("valid_req_grp",a),e(n).data("being_validated")||(r.data("being_validated",!0),r.each(function(){a.element(this)}),r.data("being_validated",!1)),s},e.validator.format("Please fill at least {0} of these fields.")),e.validator.addMethod("skip_or_fill_minimum",function(t,n,i){var r=e(i[1],n.form),o=r.eq(0),a=o.data("valid_skip")?o.data("valid_skip"):e.extend({},this),s=r.filter(function(){return a.elementValue(this)}).length,l=0===s||s>=i[0];return o.data("valid_skip",a),e(n).data("being_validated")||(r.data("being_validated",!0),r.each(function(){a.element(this)}),r.data("being_validated",!1)),l},e.validator.format("Please either skip these fields or fill at least {0} of them.")),jQuery.validator.addMethod("stateUS",function(e,t,n){var i,r="undefined"==typeof n,o=r||"undefined"==typeof n.caseSensitive?!1:n.caseSensitive,a=r||"undefined"==typeof n.includeTerritories?!1:n.includeTerritories,s=r||"undefined"==typeof n.includeMilitary?!1:n.includeMilitary;return i=a||s?a&&s?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":a?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",i=o?new RegExp(i):new RegExp(i,"i"),this.optional(t)||i.test(e)},"Please specify a valid state"),e.validator.addMethod("strippedminlength",function(t,n,i){return e(t).text().length>=i},e.validator.format("Please enter at least {0} characters")),e.validator.addMethod("time",function(e,t){return this.optional(t)||/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/.test(e)},"Please enter a valid time, between 00:00 and 23:59"),e.validator.addMethod("time12h",function(e,t){return this.optional(t)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(e)},"Please enter a valid time in 12-hour am/pm format"),e.validator.addMethod("url2",function(e,t){return this.optional(t)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},e.validator.messages.url),e.validator.addMethod("vinUS",function(e){if(17!==e.length)return!1;var t,n,i,r,o,a,s=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],c=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],u=0;for(t=0;17>t;t++){if(r=c[t],i=e.slice(t,t+1),8===t&&(a=i),isNaN(i)){for(n=0;n<s.length;n++)if(i.toUpperCase()===s[n]){i=l[n],i*=r,isNaN(a)&&8===n&&(a=s[n]);break}}else i*=r;u+=i}return o=u%11,10===o&&(o="X"),o===a?!0:!1},"The specified vehicle identification number (VIN) is invalid."),e.validator.addMethod("zipcodeUS",function(e,t){return this.optional(t)||/^\d{5}(-\d{4})?$/.test(e)},"The specified US ZIP Code is invalid"),e.validator.addMethod("ziprange",function(e,t){return this.optional(t)||/^90[2-5]\d\{2\}-\d{4}$/.test(e)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")}),function(){}.call(this),function(e,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")(e)):"function"==typeof define&&define.amd?define("bootstrap-dialog",["jquery"],function(e){return t(e)}):e.BootstrapDialog=t(e.jQuery)}(this,function(e){"use strict";var t=e.fn.modal.Constructor,n=function(e,n){t.call(this,e,n)};n.getModalVersion=function(){var t=null;return t="undefined"==typeof e.fn.modal.Constructor.VERSION?"v3.1":/3\.2\.\d+/.test(e.fn.modal.Constructor.VERSION)?"v3.2":/3\.3\.[1,2]/.test(e.fn.modal.Constructor.VERSION)?"v3.3":"v3.3.4"},n.ORIGINAL_BODY_PADDING=e("body").css("padding-right")||0,n.METHODS_TO_OVERRIDE={},n.METHODS_TO_OVERRIDE["v3.1"]={},n.METHODS_TO_OVERRIDE["v3.2"]={hide:function(t){if(t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()){this.isShown=!1;var n=this.getGlobalOpenedDialogs();0===n.length&&this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()}}},n.METHODS_TO_OVERRIDE["v3.3"]={setScrollbar:function(){var e=n.ORIGINAL_BODY_PADDING;this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},resetScrollbar:function(){var e=this.getGlobalOpenedDialogs();0===e.length&&this.$body.css("padding-right",n.ORIGINAL_BODY_PADDING)},hideModal:function(){this.$element.hide(),this.backdrop(e.proxy(function(){var e=this.getGlobalOpenedDialogs();0===e.length&&this.$body.removeClass("modal-open"),this.resetAdjustments(),this.resetScrollbar(),this.$element.trigger("hidden.bs.modal")},this))}},n.METHODS_TO_OVERRIDE["v3.3.4"]=e.extend({},n.METHODS_TO_OVERRIDE["v3.3"]),n.prototype={constructor:n,getGlobalOpenedDialogs:function(){var t=[];return e.each(i.dialogs,function(e,n){n.isRealized()&&n.isOpened()&&t.push(n)}),t}},n.prototype=e.extend(n.prototype,t.prototype,n.METHODS_TO_OVERRIDE[n.getModalVersion()]);var i=function(t){this.defaultOptions=e.extend(!0,{id:i.newGuid(),buttons:[],data:{},onshow:null,onshown:null,onhide:null,onhidden:null},i.defaultOptions),this.indexedButtons={},this.registeredButtonHotkeys={},this.draggableData={isMouseDown:!1,mouseOffset:{}},this.realized=!1,this.opened=!1,this.initOptions(t),this.holdThisInstance()};return i.BootstrapDialogModal=n,i.NAMESPACE="bootstrap-dialog",i.TYPE_DEFAULT="type-default",i.TYPE_INFO="type-info",i.TYPE_PRIMARY="type-primary",i.TYPE_SUCCESS="type-success",i.TYPE_WARNING="type-warning",i.TYPE_DANGER="type-danger",i.DEFAULT_TEXTS={},i.DEFAULT_TEXTS[i.TYPE_DEFAULT]="Information",i.DEFAULT_TEXTS[i.TYPE_INFO]="Information",i.DEFAULT_TEXTS[i.TYPE_PRIMARY]="Information",i.DEFAULT_TEXTS[i.TYPE_SUCCESS]="Success",i.DEFAULT_TEXTS[i.TYPE_WARNING]="Warning",i.DEFAULT_TEXTS[i.TYPE_DANGER]="Danger",i.DEFAULT_TEXTS.OK="OK",i.DEFAULT_TEXTS.CANCEL="Cancel",i.DEFAULT_TEXTS.CONFIRM="Confirmation",i.SIZE_NORMAL="size-normal",i.SIZE_SMALL="size-small",i.SIZE_WIDE="size-wide",i.SIZE_LARGE="size-large",i.BUTTON_SIZES={},i.BUTTON_SIZES[i.SIZE_NORMAL]="",i.BUTTON_SIZES[i.SIZE_SMALL]="",i.BUTTON_SIZES[i.SIZE_WIDE]="",i.BUTTON_SIZES[i.SIZE_LARGE]="btn-lg",i.ICON_SPINNER="glyphicon glyphicon-asterisk",i.defaultOptions={type:i.TYPE_PRIMARY,size:i.SIZE_NORMAL,cssClass:"",title:null,message:null,nl2br:!0,closable:!0,closeByBackdrop:!0,closeByKeyboard:!0,spinicon:i.ICON_SPINNER,autodestroy:!0,draggable:!1,animate:!0,description:""},i.configDefaultOptions=function(t){i.defaultOptions=e.extend(!0,i.defaultOptions,t)},i.dialogs={},i.openAll=function(){e.each(i.dialogs,function(e,t){t.open()})},i.closeAll=function(){e.each(i.dialogs,function(e,t){t.close()})},i.moveFocus=function(){var t=null;e.each(i.dialogs,function(e,n){t=n}),null!==t&&t.isRealized()&&t.getModal().focus()},i.METHODS_TO_OVERRIDE={},i.METHODS_TO_OVERRIDE["v3.1"]={handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(e){e.target===this&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByBackdrop()&&e.data.dialog.close()}),this},updateZIndex:function(){var t=1040,n=1050,r=0;e.each(i.dialogs,function(){r++});var o=this.getModal(),a=o.data("bs.modal").$backdrop;return o.css("z-index",n+20*(r-1)),a.css("z-index",t+20*(r-1)),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this.updateZIndex(),this}},i.METHODS_TO_OVERRIDE["v3.2"]={handleModalBackdropEvent:i.METHODS_TO_OVERRIDE["v3.1"].handleModalBackdropEvent,updateZIndex:i.METHODS_TO_OVERRIDE["v3.1"].updateZIndex,open:i.METHODS_TO_OVERRIDE["v3.1"].open},i.METHODS_TO_OVERRIDE["v3.3"]={},i.METHODS_TO_OVERRIDE["v3.3.4"]=e.extend({},i.METHODS_TO_OVERRIDE["v3.1"]),i.prototype={constructor:i,initOptions:function(t){return this.options=e.extend(!0,this.defaultOptions,t),this},holdThisInstance:function(){return i.dialogs[this.getId()]=this,this},initModalStuff:function(){return this.setModal(this.createModal()).setModalDialog(this.createModalDialog()).setModalContent(this.createModalContent()).setModalHeader(this.createModalHeader()).setModalBody(this.createModalBody()).setModalFooter(this.createModalFooter()),this.getModal().append(this.getModalDialog()),this.getModalDialog().append(this.getModalContent()),this.getModalContent().append(this.getModalHeader()).append(this.getModalBody()).append(this.getModalFooter()),this},createModal:function(){var t=e('<div class="modal" tabindex="-1" role="dialog" aria-hidden="true"></div>');return t.prop("id",this.getId()).attr("aria-labelledby",this.getId()+"_title"),t},getModal:function(){return this.$modal},setModal:function(e){return this.$modal=e,this},createModalDialog:function(){return e('<div class="modal-dialog"></div>')},getModalDialog:function(){return this.$modalDialog},setModalDialog:function(e){return this.$modalDialog=e,this},createModalContent:function(){return e('<div class="modal-content"></div>')},getModalContent:function(){return this.$modalContent},setModalContent:function(e){return this.$modalContent=e,this},createModalHeader:function(){return e('<div class="modal-header"></div>')},getModalHeader:function(){return this.$modalHeader},setModalHeader:function(e){return this.$modalHeader=e,this},createModalBody:function(){return e('<div class="modal-body"></div>')},getModalBody:function(){return this.$modalBody},setModalBody:function(e){return this.$modalBody=e,this},createModalFooter:function(){return e('<div class="modal-footer"></div>')},getModalFooter:function(){return this.$modalFooter},setModalFooter:function(e){return this.$modalFooter=e,this},createDynamicContent:function(e){var t=null;return t="function"==typeof e?e.call(e,this):e,"string"==typeof t&&(t=this.formatStringContent(t)),t},formatStringContent:function(e){return this.options.nl2br?e.replace(/\r\n/g,"<br />").replace(/[\r\n]/g,"<br />"):e},setData:function(e,t){return this.options.data[e]=t,this},getData:function(e){return this.options.data[e]},setId:function(e){return this.options.id=e,this},getId:function(){return this.options.id},getType:function(){return this.options.type},setType:function(e){return this.options.type=e,this.updateType(),this},updateType:function(){if(this.isRealized()){var e=[i.TYPE_DEFAULT,i.TYPE_INFO,i.TYPE_PRIMARY,i.TYPE_SUCCESS,i.TYPE_WARNING,i.TYPE_DANGER];this.getModal().removeClass(e.join(" ")).addClass(this.getType())}return this},getSize:function(){return this.options.size},setSize:function(e){return this.options.size=e,this.updateSize(),this},updateSize:function(){if(this.isRealized()){var t=this;this.getModal().removeClass(i.SIZE_NORMAL).removeClass(i.SIZE_SMALL).removeClass(i.SIZE_WIDE).removeClass(i.SIZE_LARGE),this.getModal().addClass(this.getSize()),this.getModalDialog().removeClass("modal-sm"),this.getSize()===i.SIZE_SMALL&&this.getModalDialog().addClass("modal-sm"),this.getModalDialog().removeClass("modal-lg"),this.getSize()===i.SIZE_WIDE&&this.getModalDialog().addClass("modal-lg"),e.each(this.options.buttons,function(n,i){var r=t.getButton(i.id),o=["btn-lg","btn-sm","btn-xs"],a=!1;if("string"==typeof i.cssClass){var s=i.cssClass.split(" ");e.each(s,function(t,n){-1!==e.inArray(n,o)&&(a=!0)})}a||(r.removeClass(o.join(" ")),r.addClass(t.getButtonSize()))})}return this},getCssClass:function(){return this.options.cssClass},setCssClass:function(e){return this.options.cssClass=e,this},getTitle:function(){return this.options.title},setTitle:function(e){return this.options.title=e,this.updateTitle(),this},updateTitle:function(){if(this.isRealized()){var e=null!==this.getTitle()?this.createDynamicContent(this.getTitle()):this.getDefaultText();this.getModalHeader().find("."+this.getNamespace("title")).html("").append(e).prop("id",this.getId()+"_title")}return this},getMessage:function(){return this.options.message},setMessage:function(e){return this.options.message=e,this.updateMessage(),this},updateMessage:function(){if(this.isRealized()){var e=this.createDynamicContent(this.getMessage());this.getModalBody().find("."+this.getNamespace("message")).html("").append(e)}return this},isClosable:function(){return this.options.closable},setClosable:function(e){return this.options.closable=e,this.updateClosable(),this},setCloseByBackdrop:function(e){return this.options.closeByBackdrop=e,this},canCloseByBackdrop:function(){return this.options.closeByBackdrop},setCloseByKeyboard:function(e){return this.options.closeByKeyboard=e,this},canCloseByKeyboard:function(){return this.options.closeByKeyboard},isAnimate:function(){return this.options.animate},setAnimate:function(e){return this.options.animate=e,this},updateAnimate:function(){return this.isRealized()&&this.getModal().toggleClass("fade",this.isAnimate()),this},getSpinicon:function(){return this.options.spinicon},setSpinicon:function(e){return this.options.spinicon=e,this},addButton:function(e){return this.options.buttons.push(e),this},addButtons:function(t){var n=this;return e.each(t,function(e,t){n.addButton(t)}),this},getButtons:function(){return this.options.buttons},setButtons:function(e){return this.options.buttons=e,this.updateButtons(),this},getButton:function(e){return"undefined"!=typeof this.indexedButtons[e]?this.indexedButtons[e]:null},getButtonSize:function(){return"undefined"!=typeof i.BUTTON_SIZES[this.getSize()]?i.BUTTON_SIZES[this.getSize()]:""},updateButtons:function(){return this.isRealized()&&(0===this.getButtons().length?this.getModalFooter().hide():this.getModalFooter().show().find("."+this.getNamespace("footer")).html("").append(this.createFooterButtons())),this},isAutodestroy:function(){return this.options.autodestroy},setAutodestroy:function(e){this.options.autodestroy=e},getDescription:function(){return this.options.description},setDescription:function(e){return this.options.description=e,this},getDefaultText:function(){return i.DEFAULT_TEXTS[this.getType()]},getNamespace:function(e){return i.NAMESPACE+"-"+e},createHeaderContent:function(){var t=e("<div></div>");return t.addClass(this.getNamespace("header")),t.append(this.createTitleContent()),t.prepend(this.createCloseButton()),t},createTitleContent:function(){var t=e("<div></div>");return t.addClass(this.getNamespace("title")),t},createCloseButton:function(){var t=e("<div></div>");t.addClass(this.getNamespace("close-button"));var n=e('<button class="close">&times;</button>');return t.append(n),t.on("click",{dialog:this},function(e){e.data.dialog.close()}),t},createBodyContent:function(){var t=e("<div></div>");return t.addClass(this.getNamespace("body")),t.append(this.createMessageContent()),t},createMessageContent:function(){var t=e("<div></div>");return t.addClass(this.getNamespace("message")),t},createFooterContent:function(){var t=e("<div></div>");return t.addClass(this.getNamespace("footer")),t},createFooterButtons:function(){var t=this,n=e("<div></div>");return n.addClass(this.getNamespace("footer-buttons")),this.indexedButtons={},e.each(this.options.buttons,function(e,r){r.id||(r.id=i.newGuid());var o=t.createButton(r);t.indexedButtons[r.id]=o,n.append(o)}),n},createButton:function(t){var n=e('<button class="btn"></button>');return n.prop("id",t.id),n.data("button",t),"undefined"!=typeof t.icon&&""!==e.trim(t.icon)&&n.append(this.createButtonIcon(t.icon)),"undefined"!=typeof t.label&&n.append(t.label),n.addClass("undefined"!=typeof t.cssClass&&""!==e.trim(t.cssClass)?t.cssClass:"btn-default"),"undefined"!=typeof t.hotkey&&(this.registeredButtonHotkeys[t.hotkey]=n),n.on("click",{dialog:this,$button:n,button:t},function(e){var t=e.data.dialog,n=e.data.$button,i=n.data("button");"function"==typeof i.action&&i.action.call(n,t,e),i.autospin&&n.toggleSpin(!0)}),this.enhanceButton(n),n},enhanceButton:function(e){return e.dialog=this,e.toggleEnable=function(e){var t=this;return"undefined"!=typeof e?t.prop("disabled",!e).toggleClass("disabled",!e):t.prop("disabled",!t.prop("disabled")),t},e.enable=function(){var e=this;return e.toggleEnable(!0),e},e.disable=function(){var e=this;return e.toggleEnable(!1),e},e.toggleSpin=function(t){var n=this,i=n.dialog,r=n.find("."+i.getNamespace("button-icon"));return"undefined"==typeof t&&(t=!(e.find(".icon-spin").length>0)),t?(r.hide(),e.prepend(i.createButtonIcon(i.getSpinicon()).addClass("icon-spin"))):(r.show(),e.find(".icon-spin").remove()),n},e.spin=function(){var e=this;return e.toggleSpin(!0),e},e.stopSpin=function(){var e=this;return e.toggleSpin(!1),e},this},createButtonIcon:function(t){var n=e("<span></span>");return n.addClass(this.getNamespace("button-icon")).addClass(t),n},enableButtons:function(t){return e.each(this.indexedButtons,function(e,n){n.toggleEnable(t)}),this},updateClosable:function(){return this.isRealized()&&this.getModalHeader().find("."+this.getNamespace("close-button")).toggle(this.isClosable()),this},onShow:function(e){return this.options.onshow=e,this},onShown:function(e){return this.options.onshown=e,this},onHide:function(e){return this.options.onhide=e,this},onHidden:function(e){return this.options.onhidden=e,this},isRealized:function(){return this.realized},setRealized:function(e){return this.realized=e,this},isOpened:function(){return this.opened},setOpened:function(e){return this.opened=e,this},handleModalEvents:function(){return this.getModal().on("show.bs.modal",{dialog:this},function(e){var t=e.data.dialog;if(t.setOpened(!0),t.isModalEvent(e)&&"function"==typeof t.options.onshow){var n=t.options.onshow(t);return n===!1&&t.setOpened(!1),n}}),this.getModal().on("shown.bs.modal",{dialog:this},function(e){var t=e.data.dialog;t.isModalEvent(e)&&"function"==typeof t.options.onshown&&t.options.onshown(t)}),this.getModal().on("hide.bs.modal",{dialog:this},function(e){var t=e.data.dialog;if(t.setOpened(!1),t.isModalEvent(e)&&"function"==typeof t.options.onhide){var n=t.options.onhide(t);return n===!1&&t.setOpened(!0),n}}),this.getModal().on("hidden.bs.modal",{dialog:this},function(t){var n=t.data.dialog;n.isModalEvent(t)&&"function"==typeof n.options.onhidden&&n.options.onhidden(n),n.isAutodestroy()&&(delete i.dialogs[n.getId()],e(this).remove()),i.moveFocus()}),this.handleModalBackdropEvent(),this.getModal().on("keyup",{dialog:this},function(e){27===e.which&&e.data.dialog.isClosable()&&e.data.dialog.canCloseByKeyboard()&&e.data.dialog.close()}),this.getModal().on("keyup",{dialog:this},function(t){var n=t.data.dialog;if("undefined"!=typeof n.registeredButtonHotkeys[t.which]){var i=e(n.registeredButtonHotkeys[t.which]);!i.prop("disabled")&&i.focus().trigger("click")}}),this},handleModalBackdropEvent:function(){return this.getModal().on("click",{dialog:this},function(t){e(t.target).hasClass("modal-backdrop")&&t.data.dialog.isClosable()&&t.data.dialog.canCloseByBackdrop()&&t.data.dialog.close()}),this},isModalEvent:function(e){return"undefined"!=typeof e.namespace&&"bs.modal"===e.namespace},makeModalDraggable:function(){return this.options.draggable&&(this.getModalHeader().addClass(this.getNamespace("draggable")).on("mousedown",{dialog:this},function(e){var t=e.data.dialog;t.draggableData.isMouseDown=!0;var n=t.getModalDialog().offset();t.draggableData.mouseOffset={top:e.clientY-n.top,left:e.clientX-n.left}}),this.getModal().on("mouseup mouseleave",{dialog:this},function(e){e.data.dialog.draggableData.isMouseDown=!1}),e("body").on("mousemove",{dialog:this},function(e){var t=e.data.dialog;t.draggableData.isMouseDown&&t.getModalDialog().offset({top:e.clientY-t.draggableData.mouseOffset.top,left:e.clientX-t.draggableData.mouseOffset.left})
})),this},realize:function(){return this.initModalStuff(),this.getModal().addClass(i.NAMESPACE).addClass(this.getCssClass()),this.updateSize(),this.getDescription()&&this.getModal().attr("aria-describedby",this.getDescription()),this.getModalFooter().append(this.createFooterContent()),this.getModalHeader().append(this.createHeaderContent()),this.getModalBody().append(this.createBodyContent()),this.getModal().data("bs.modal",new n(this.getModal(),{backdrop:"static",keyboard:!1,show:!1})),this.makeModalDraggable(),this.handleModalEvents(),this.setRealized(!0),this.updateButtons(),this.updateType(),this.updateTitle(),this.updateMessage(),this.updateClosable(),this.updateAnimate(),this.updateSize(),this},open:function(){return!this.isRealized()&&this.realize(),this.getModal().modal("show"),this},close:function(){return this.getModal().modal("hide"),this}},i.prototype=e.extend(i.prototype,i.METHODS_TO_OVERRIDE[n.getModalVersion()]),i.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},i.show=function(e){return new i(e).open()},i.alert=function(){var t={},n={type:i.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,buttonLabel:i.DEFAULT_TEXTS.OK,callback:null};return t="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?e.extend(!0,n,arguments[0]):e.extend(!0,n,{message:arguments[0],callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),new i({type:t.type,title:t.title,message:t.message,closable:t.closable,draggable:t.draggable,data:{callback:t.callback},onhide:function(e){!e.getData("btnClicked")&&e.isClosable()&&"function"==typeof e.getData("callback")&&e.getData("callback")(!1)},buttons:[{label:t.buttonLabel,action:function(e){e.setData("btnClicked",!0),"function"==typeof e.getData("callback")&&e.getData("callback")(!0),e.close()}}]}).open()},i.confirm=function(){var t={},n={type:i.TYPE_PRIMARY,title:null,message:null,closable:!1,draggable:!1,btnCancelLabel:i.DEFAULT_TEXTS.CANCEL,btnOKLabel:i.DEFAULT_TEXTS.OK,btnOKClass:null,callback:null};return t="object"==typeof arguments[0]&&arguments[0].constructor==={}.constructor?e.extend(!0,n,arguments[0]):e.extend(!0,n,{message:arguments[0],closable:!1,buttonLabel:i.DEFAULT_TEXTS.OK,callback:"undefined"!=typeof arguments[1]?arguments[1]:null}),null===t.btnOKClass&&(t.btnOKClass=["btn",t.type.split("-")[1]].join("-")),new i({type:t.type,title:t.title,message:t.message,closable:t.closable,draggable:t.draggable,data:{callback:t.callback},buttons:[{label:t.btnCancelLabel,action:function(e){"function"==typeof e.getData("callback")&&e.getData("callback")(!1),e.close()}},{label:t.btnOKLabel,cssClass:t.btnOKClass,action:function(e){"function"==typeof e.getData("callback")&&e.getData("callback")(!0),e.close()}}]}).open()},i.warning=function(e){return new i({type:i.TYPE_WARNING,message:e}).open()},i.danger=function(e){return new i({type:i.TYPE_DANGER,message:e}).open()},i.success=function(e){return new i({type:i.TYPE_SUCCESS,message:e}).open()},i}),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),function(){}.call(this),$(function(){$.rails.allowAction=function(e){return e.is("[data-confirm]")?(BootstrapDialog.show({type:BootstrapDialog.TYPE_DANGER,title:"Confirm",message:e.attr("data-confirm"),buttons:[{id:"btn1",label:"Accept",cssClass:"btn-primary",action:function(t){e.removeAttr("data-confirm"),e.trigger("click.rails"),t.close()}},{label:"Cancel",action:function(e){e.close()}}]}),!1):!0}}),$(function(){$(".alert_messages").on("click",".dismiss",function(){$(".message","#message_drawer").remove()}),$("#message_drawer").find(".message").size()>0&&setTimeout(function(){$("#message_drawer").fadeOut()},6e3)});